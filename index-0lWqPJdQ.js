(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();var V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tn(t){if(t.__esModule)return t;var i=t.default;if(typeof i=="function"){var e=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};e.prototype=i.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),e}var Mr={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var i=function(){this.init()};i.prototype={init:function(){var a=this||e;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var u=this||e;if(a=parseFloat(a),u.ctx||d(),typeof a<"u"&&a>=0&&a<=1){if(u._volume=a,u._muted)return u;u.usingWebAudio&&u.masterGain.gain.setValueAtTime(a,e.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var _=u._howls[f]._getSoundIds(),v=0;v<_.length;v++){var w=u._howls[f]._soundById(_[v]);w&&w._node&&(w._node.volume=w._volume*a)}return u}return u._volume},mute:function(a){var u=this||e;u.ctx||d(),u._muted=a,u.usingWebAudio&&u.masterGain.gain.setValueAtTime(a?0:u._volume,e.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var _=u._howls[f]._getSoundIds(),v=0;v<_.length;v++){var w=u._howls[f]._soundById(_[v]);w&&w._node&&(w._node.muted=a?!0:w._muted)}return u},stop:function(){for(var a=this||e,u=0;u<a._howls.length;u++)a._howls[u].stop();return a},unload:function(){for(var a=this||e,u=a._howls.length-1;u>=0;u--)a._howls[u].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,d()),a},codecs:function(a){return(this||e)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||e;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var u=new Audio;typeof u.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var u=new Audio;u.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||e,u=null;try{u=typeof Audio<"u"?new Audio:null}catch{return a}if(!u||typeof u.canPlayType!="function")return a;var f=u.canPlayType("audio/mpeg;").replace(/^no$/,""),_=a._navigator?a._navigator.userAgent:"",v=_.match(/OPR\/(\d+)/g),w=v&&parseInt(v[0].split("/")[1],10)<33,b=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,E=_.match(/Version\/(.*?) /),m=b&&E&&parseInt(E[1],10)<15;return a._codecs={mp3:!!(!w&&(f||u.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!f,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(u.canPlayType('audio/wav; codecs="1"')||u.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(u.canPlayType("audio/x-m4b;")||u.canPlayType("audio/m4b;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!m&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!m&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||e;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var u=function(f){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,a._releaseHtml5Audio(_)}catch{a.noAudio=!0;break}for(var v=0;v<a._howls.length;v++)if(!a._howls[v]._webAudio)for(var w=a._howls[v]._getSoundIds(),b=0;b<w.length;b++){var E=a._howls[v]._soundById(w[b]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}a._autoResume();var m=a.ctx.createBufferSource();m.buffer=a._scratchBuffer,m.connect(a.ctx.destination),typeof m.start>"u"?m.noteOn(0):m.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),m.onended=function(){m.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0),document.removeEventListener("keydown",u,!0);for(var x=0;x<a._howls.length;x++)a._howls[x]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),document.addEventListener("keydown",u,!0),a}},_obtainHtml5Audio:function(){var a=this||e;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var u=new Audio().play();return u&&typeof Promise<"u"&&(u instanceof Promise||typeof u.then=="function")&&u.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var u=this||e;return a._unlocked&&u._html5AudioPool.push(a),u},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!e.usingWebAudio)){for(var u=0;u<a._howls.length;u++)if(a._howls[u]._webAudio){for(var f=0;f<a._howls[u]._sounds.length;f++)if(!a._howls[u]._sounds[f]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var _=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(_,_)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!e.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var u=0;u<a._howls.length;u++)a._howls[u]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var e=new i,n=function(a){var u=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}u.init(a)};n.prototype={init:function(a){var u=this;return e.ctx||d(),u._autoplay=a.autoplay||!1,u._format=typeof a.format!="string"?a.format:[a.format],u._html5=a.html5||!1,u._muted=a.mute||!1,u._loop=a.loop||!1,u._pool=a.pool||5,u._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,u._rate=a.rate||1,u._sprite=a.sprite||{},u._src=typeof a.src!="string"?a.src:[a.src],u._volume=a.volume!==void 0?a.volume:1,u._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},u._duration=0,u._state="unloaded",u._sounds=[],u._endTimers={},u._queue=[],u._playLock=!1,u._onend=a.onend?[{fn:a.onend}]:[],u._onfade=a.onfade?[{fn:a.onfade}]:[],u._onload=a.onload?[{fn:a.onload}]:[],u._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],u._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],u._onpause=a.onpause?[{fn:a.onpause}]:[],u._onplay=a.onplay?[{fn:a.onplay}]:[],u._onstop=a.onstop?[{fn:a.onstop}]:[],u._onmute=a.onmute?[{fn:a.onmute}]:[],u._onvolume=a.onvolume?[{fn:a.onvolume}]:[],u._onrate=a.onrate?[{fn:a.onrate}]:[],u._onseek=a.onseek?[{fn:a.onseek}]:[],u._onunlock=a.onunlock?[{fn:a.onunlock}]:[],u._onresume=[],u._webAudio=e.usingWebAudio&&!u._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(u),u._autoplay&&u._queue.push({event:"play",action:function(){u.play()}}),u._preload&&u._preload!=="none"&&u.load(),u},load:function(){var a=this,u=null;if(e.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var f=0;f<a._src.length;f++){var _,v;if(a._format&&a._format[f])_=a._format[f];else{if(v=a._src[f],typeof v!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(v),_||(_=/\.([^.]+)$/.exec(v.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&e.codecs(_)){u=a._src[f];break}}if(!u){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=u,a._state="loading",window.location.protocol==="https:"&&u.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new o(a),a._webAudio&&r(a),a},play:function(a,u){var f=this,_=null;if(typeof a=="number")_=a,a=null;else{if(typeof a=="string"&&f._state==="loaded"&&!f._sprite[a])return null;if(typeof a>"u"&&(a="__default",!f._playLock)){for(var v=0,w=0;w<f._sounds.length;w++)f._sounds[w]._paused&&!f._sounds[w]._ended&&(v++,_=f._sounds[w]._id);v===1?a=null:_=null}}var b=_?f._soundById(_):f._inactiveSound();if(!b)return null;if(_&&!a&&(a=b._sprite||"__default"),f._state!=="loaded"){b._sprite=a,b._ended=!1;var E=b._id;return f._queue.push({event:"play",action:function(){f.play(E)}}),E}if(_&&!b._paused)return u||f._loadQueue("play"),b._id;f._webAudio&&e._autoResume();var m=Math.max(0,b._seek>0?b._seek:f._sprite[a][0]/1e3),x=Math.max(0,(f._sprite[a][0]+f._sprite[a][1])/1e3-m),A=x*1e3/Math.abs(b._rate),O=f._sprite[a][0]/1e3,C=(f._sprite[a][0]+f._sprite[a][1])/1e3;b._sprite=a,b._ended=!1;var I=function(){b._paused=!1,b._seek=m,b._start=O,b._stop=C,b._loop=!!(b._loop||f._sprite[a][2])};if(m>=C){f._ended(b);return}var p=b._node;if(f._webAudio){var D=function(){f._playLock=!1,I(),f._refreshBuffer(b);var z=b._muted||f._muted?0:b._volume;p.gain.setValueAtTime(z,e.ctx.currentTime),b._playStart=e.ctx.currentTime,typeof p.bufferSource.start>"u"?b._loop?p.bufferSource.noteGrainOn(0,m,86400):p.bufferSource.noteGrainOn(0,m,x):b._loop?p.bufferSource.start(0,m,86400):p.bufferSource.start(0,m,x),A!==1/0&&(f._endTimers[b._id]=setTimeout(f._ended.bind(f,b),A)),u||setTimeout(function(){f._emit("play",b._id),f._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?D():(f._playLock=!0,f.once("resume",D),f._clearTimer(b._id))}else{var N=function(){p.currentTime=m,p.muted=b._muted||f._muted||e._muted||p.muted,p.volume=b._volume*e.volume(),p.playbackRate=b._rate;try{var z=p.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(f._playLock=!0,I(),z.then(function(){f._playLock=!1,p._unlocked=!0,u?f._loadQueue():f._emit("play",b._id)}).catch(function(){f._playLock=!1,f._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):u||(f._playLock=!1,I(),f._emit("play",b._id)),p.playbackRate=b._rate,p.paused){f._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||b._loop?f._endTimers[b._id]=setTimeout(f._ended.bind(f,b),A):(f._endTimers[b._id]=function(){f._ended(b),p.removeEventListener("ended",f._endTimers[b._id],!1)},p.addEventListener("ended",f._endTimers[b._id],!1))}catch($){f._emit("playerror",b._id,$)}};p.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(p.src=f._src,p.load());var F=window&&window.ejecta||!p.readyState&&e._navigator.isCocoonJS;if(p.readyState>=3||F)N();else{f._playLock=!0,f._state="loading";var j=function(){f._state="loaded",N(),p.removeEventListener(e._canPlayEvent,j,!1)};p.addEventListener(e._canPlayEvent,j,!1),f._clearTimer(b._id)}}return b._id},pause:function(a){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"pause",action:function(){u.pause(a)}}),u;for(var f=u._getSoundIds(a),_=0;_<f.length;_++){u._clearTimer(f[_]);var v=u._soundById(f[_]);if(v&&!v._paused&&(v._seek=u.seek(f[_]),v._rateSeek=0,v._paused=!0,u._stopFade(f[_]),v._node))if(u._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),u._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||u._emit("pause",v?v._id:null)}return u},stop:function(a,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(a)}}),f;for(var _=f._getSoundIds(a),v=0;v<_.length;v++){f._clearTimer(_[v]);var w=f._soundById(_[v]);w&&(w._seek=w._start||0,w._rateSeek=0,w._paused=!0,w._ended=!0,f._stopFade(_[v]),w._node&&(f._webAudio?w._node.bufferSource&&(typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),f._cleanBuffer(w._node)):(!isNaN(w._node.duration)||w._node.duration===1/0)&&(w._node.currentTime=w._start||0,w._node.pause(),w._node.duration===1/0&&f._clearSound(w._node))),u||f._emit("stop",w._id))}return f},mute:function(a,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(a,u)}}),f;if(typeof u>"u")if(typeof a=="boolean")f._muted=a;else return f._muted;for(var _=f._getSoundIds(u),v=0;v<_.length;v++){var w=f._soundById(_[v]);w&&(w._muted=a,w._interval&&f._stopFade(w._id),f._webAudio&&w._node?w._node.gain.setValueAtTime(a?0:w._volume,e.ctx.currentTime):w._node&&(w._node.muted=e._muted?!0:a),f._emit("mute",w._id))}return f},volume:function(){var a=this,u=arguments,f,_;if(u.length===0)return a._volume;if(u.length===1||u.length===2&&typeof u[1]>"u"){var v=a._getSoundIds(),w=v.indexOf(u[0]);w>=0?_=parseInt(u[0],10):f=parseFloat(u[0])}else u.length>=2&&(f=parseFloat(u[0]),_=parseInt(u[1],10));var b;if(typeof f<"u"&&f>=0&&f<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,u)}}),a;typeof _>"u"&&(a._volume=f),_=a._getSoundIds(_);for(var E=0;E<_.length;E++)b=a._soundById(_[E]),b&&(b._volume=f,u[2]||a._stopFade(_[E]),a._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(f,e.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=f*e.volume()),a._emit("volume",b._id))}else return b=_?a._soundById(_):a._sounds[0],b?b._volume:0;return a},fade:function(a,u,f,_){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(a,u,f,_)}}),v;a=Math.min(Math.max(0,parseFloat(a)),1),u=Math.min(Math.max(0,parseFloat(u)),1),f=parseFloat(f),v.volume(a,_);for(var w=v._getSoundIds(_),b=0;b<w.length;b++){var E=v._soundById(w[b]);if(E){if(_||v._stopFade(w[b]),v._webAudio&&!E._muted){var m=e.ctx.currentTime,x=m+f/1e3;E._volume=a,E._node.gain.setValueAtTime(a,m),E._node.gain.linearRampToValueAtTime(u,x)}v._startFadeInterval(E,a,u,f,w[b],typeof _>"u")}}return v},_startFadeInterval:function(a,u,f,_,v,w){var b=this,E=u,m=f-u,x=Math.abs(m/.01),A=Math.max(4,x>0?_/x:_),O=Date.now();a._fadeTo=f,a._interval=setInterval(function(){var C=(Date.now()-O)/_;O=Date.now(),E+=m*C,E=Math.round(E*100)/100,m<0?E=Math.max(f,E):E=Math.min(f,E),b._webAudio?a._volume=E:b.volume(E,a._id,!0),w&&(b._volume=E),(f<u&&E<=f||f>u&&E>=f)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,b.volume(f,a._id),b._emit("fade",a._id))},A)},_stopFade:function(a){var u=this,f=u._soundById(a);return f&&f._interval&&(u._webAudio&&f._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(f._interval),f._interval=null,u.volume(f._fadeTo,a),f._fadeTo=null,u._emit("fade",a)),u},loop:function(){var a=this,u=arguments,f,_,v;if(u.length===0)return a._loop;if(u.length===1)if(typeof u[0]=="boolean")f=u[0],a._loop=f;else return v=a._soundById(parseInt(u[0],10)),v?v._loop:!1;else u.length===2&&(f=u[0],_=parseInt(u[1],10));for(var w=a._getSoundIds(_),b=0;b<w.length;b++)v=a._soundById(w[b]),v&&(v._loop=f,a._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=f,f&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,a.playing(w[b])&&(a.pause(w[b],!0),a.play(w[b],!0)))));return a},rate:function(){var a=this,u=arguments,f,_;if(u.length===0)_=a._sounds[0]._id;else if(u.length===1){var v=a._getSoundIds(),w=v.indexOf(u[0]);w>=0?_=parseInt(u[0],10):f=parseFloat(u[0])}else u.length===2&&(f=parseFloat(u[0]),_=parseInt(u[1],10));var b;if(typeof f=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,u)}}),a;typeof _>"u"&&(a._rate=f),_=a._getSoundIds(_);for(var E=0;E<_.length;E++)if(b=a._soundById(_[E]),b){a.playing(_[E])&&(b._rateSeek=a.seek(_[E]),b._playStart=a._webAudio?e.ctx.currentTime:b._playStart),b._rate=f,a._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(f,e.ctx.currentTime):b._node&&(b._node.playbackRate=f);var m=a.seek(_[E]),x=(a._sprite[b._sprite][0]+a._sprite[b._sprite][1])/1e3-m,A=x*1e3/Math.abs(b._rate);(a._endTimers[_[E]]||!b._paused)&&(a._clearTimer(_[E]),a._endTimers[_[E]]=setTimeout(a._ended.bind(a,b),A)),a._emit("rate",b._id)}}else return b=a._soundById(_),b?b._rate:a._rate;return a},seek:function(){var a=this,u=arguments,f,_;if(u.length===0)a._sounds.length&&(_=a._sounds[0]._id);else if(u.length===1){var v=a._getSoundIds(),w=v.indexOf(u[0]);w>=0?_=parseInt(u[0],10):a._sounds.length&&(_=a._sounds[0]._id,f=parseFloat(u[0]))}else u.length===2&&(f=parseFloat(u[0]),_=parseInt(u[1],10));if(typeof _>"u")return 0;if(typeof f=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,u)}}),a;var b=a._soundById(_);if(b)if(typeof f=="number"&&f>=0){var E=a.playing(_);E&&a.pause(_,!0),b._seek=f,b._ended=!1,a._clearTimer(_),!a._webAudio&&b._node&&!isNaN(b._node.duration)&&(b._node.currentTime=f);var m=function(){E&&a.play(_,!0),a._emit("seek",_)};if(E&&!a._webAudio){var x=function(){a._playLock?setTimeout(x,0):m()};setTimeout(x,0)}else m()}else if(a._webAudio){var A=a.playing(_)?e.ctx.currentTime-b._playStart:0,O=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(O+A*Math.abs(b._rate))}else return b._node.currentTime;return a},playing:function(a){var u=this;if(typeof a=="number"){var f=u._soundById(a);return f?!f._paused:!1}for(var _=0;_<u._sounds.length;_++)if(!u._sounds[_]._paused)return!0;return!1},duration:function(a){var u=this,f=u._duration,_=u._soundById(a);return _&&(f=u._sprite[_._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var a=this,u=a._sounds,f=0;f<u.length;f++)u[f]._paused||a.stop(u[f]._id),a._webAudio||(a._clearSound(u[f]._node),u[f]._node.removeEventListener("error",u[f]._errorFn,!1),u[f]._node.removeEventListener(e._canPlayEvent,u[f]._loadFn,!1),u[f]._node.removeEventListener("ended",u[f]._endFn,!1),e._releaseHtml5Audio(u[f]._node)),delete u[f]._node,a._clearTimer(u[f]._id);var _=e._howls.indexOf(a);_>=0&&e._howls.splice(_,1);var v=!0;for(f=0;f<e._howls.length;f++)if(e._howls[f]._src===a._src||a._src.indexOf(e._howls[f]._src)>=0){v=!1;break}return s&&v&&delete s[a._src],e.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,u,f,_){var v=this,w=v["_on"+a];return typeof u=="function"&&w.push(_?{id:f,fn:u,once:_}:{id:f,fn:u}),v},off:function(a,u,f){var _=this,v=_["_on"+a],w=0;if(typeof u=="number"&&(f=u,u=null),u||f)for(w=0;w<v.length;w++){var b=f===v[w].id;if(u===v[w].fn&&b||!u&&b){v.splice(w,1);break}}else if(a)_["_on"+a]=[];else{var E=Object.keys(_);for(w=0;w<E.length;w++)E[w].indexOf("_on")===0&&Array.isArray(_[E[w]])&&(_[E[w]]=[])}return _},once:function(a,u,f){var _=this;return _.on(a,u,f,1),_},_emit:function(a,u,f){for(var _=this,v=_["_on"+a],w=v.length-1;w>=0;w--)(!v[w].id||v[w].id===u||a==="load")&&(setTimeout(function(b){b.call(this,u,f)}.bind(_,v[w].fn),0),v[w].once&&_.off(a,v[w].fn,v[w].id));return _._loadQueue(a),_},_loadQueue:function(a){var u=this;if(u._queue.length>0){var f=u._queue[0];f.event===a&&(u._queue.shift(),u._loadQueue()),a||f.action()}return u},_ended:function(a){var u=this,f=a._sprite;if(!u._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(u._ended.bind(u,a),100),u;var _=!!(a._loop||u._sprite[f][2]);if(u._emit("end",a._id),!u._webAudio&&_&&u.stop(a._id,!0).play(a._id),u._webAudio&&_){u._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=e.ctx.currentTime;var v=(a._stop-a._start)*1e3/Math.abs(a._rate);u._endTimers[a._id]=setTimeout(u._ended.bind(u,a),v)}return u._webAudio&&!_&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,u._clearTimer(a._id),u._cleanBuffer(a._node),e._autoSuspend()),!u._webAudio&&!_&&u.stop(a._id,!0),u},_clearTimer:function(a){var u=this;if(u._endTimers[a]){if(typeof u._endTimers[a]!="function")clearTimeout(u._endTimers[a]);else{var f=u._soundById(a);f&&f._node&&f._node.removeEventListener("ended",u._endTimers[a],!1)}delete u._endTimers[a]}return u},_soundById:function(a){for(var u=this,f=0;f<u._sounds.length;f++)if(a===u._sounds[f]._id)return u._sounds[f];return null},_inactiveSound:function(){var a=this;a._drain();for(var u=0;u<a._sounds.length;u++)if(a._sounds[u]._ended)return a._sounds[u].reset();return new o(a)},_drain:function(){var a=this,u=a._pool,f=0,_=0;if(!(a._sounds.length<u)){for(_=0;_<a._sounds.length;_++)a._sounds[_]._ended&&f++;for(_=a._sounds.length-1;_>=0;_--){if(f<=u)return;a._sounds[_]._ended&&(a._webAudio&&a._sounds[_]._node&&a._sounds[_]._node.disconnect(0),a._sounds.splice(_,1),f--)}}},_getSoundIds:function(a){var u=this;if(typeof a>"u"){for(var f=[],_=0;_<u._sounds.length;_++)f.push(u._sounds[_]._id);return f}else return[a]},_refreshBuffer:function(a){var u=this;return a._node.bufferSource=e.ctx.createBufferSource(),a._node.bufferSource.buffer=s[u._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,e.ctx.currentTime),u},_cleanBuffer:function(a){var u=this,f=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!a.bufferSource)return u;if(e._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),f))try{a.bufferSource.buffer=e._scratchBuffer}catch{}return a.bufferSource=null,u},_clearSound:function(a){var u=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);u||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(a){this._parent=a,this.init()};o.prototype={init:function(){var a=this,u=a._parent;return a._muted=u._muted,a._loop=u._loop,a._volume=u._volume,a._rate=u._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++e._counter,u._sounds.push(a),a.create(),a},create:function(){var a=this,u=a._parent,f=e._muted||a._muted||a._parent._muted?0:a._volume;return u._webAudio?(a._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),a._node.gain.setValueAtTime(f,e.ctx.currentTime),a._node.paused=!0,a._node.connect(e.masterGain)):e.noAudio||(a._node=e._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(e._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=u._src,a._node.preload=u._preload===!0?"auto":u._preload,a._node.volume=f*e.volume(),a._node.load()),a},reset:function(){var a=this,u=a._parent;return a._muted=u._muted,a._loop=u._loop,a._volume=u._volume,a._rate=u._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++e._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,u=a._parent;u._duration=Math.ceil(a._node.duration*10)/10,Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue()),a._node.removeEventListener(e._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,u=a._parent;u._duration===1/0&&(u._duration=Math.ceil(a._node.duration*10)/10,u._sprite.__default[1]===1/0&&(u._sprite.__default[1]=u._duration*1e3),u._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var s={},r=function(a){var u=a._src;if(s[u]){a._duration=s[u].duration,h(a);return}if(/^data:[^;]+;base64,/.test(u)){for(var f=atob(u.split(",")[1]),_=new Uint8Array(f.length),v=0;v<f.length;++v)_[v]=f.charCodeAt(v);c(_.buffer,a)}else{var w=new XMLHttpRequest;w.open(a._xhr.method,u,!0),w.withCredentials=a._xhr.withCredentials,w.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(b){w.setRequestHeader(b,a._xhr.headers[b])}),w.onload=function(){var b=(w.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+w.status+".");return}c(w.response,a)},w.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete s[u],a.load())},l(w)}},l=function(a){try{a.send()}catch{a.onerror()}},c=function(a,u){var f=function(){u._emit("loaderror",null,"Decoding audio data failed.")},_=function(v){v&&u._sounds.length>0?(s[u._src]=v,h(u,v)):f()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(a).then(_).catch(f):e.ctx.decodeAudioData(a,_,f)},h=function(a,u){u&&!a._duration&&(a._duration=u.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},d=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),u=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=u?parseInt(u[1],10):null;if(a&&f&&f<9){var _=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!_&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};t.Howler=e,t.Howl=n,typeof V<"u"?(V.HowlerGlobal=i,V.Howler=e,V.Howl=n,V.Sound=o):typeof window<"u"&&(window.HowlerGlobal=i,window.Howler=e,window.Howl=n,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var o=n._howls.length-1;o>=0;o--)n._howls[o].stereo(e);return n},HowlerGlobal.prototype.pos=function(e,n,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,o=typeof o!="number"?s._pos[2]:o,typeof e=="number")s._pos=[e,n,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(e,n,o,s,r,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var h=c._orientation;if(n=typeof n!="number"?h[1]:n,o=typeof o!="number"?h[2]:o,s=typeof s!="number"?h[3]:s,r=typeof r!="number"?h[4]:r,l=typeof l!="number"?h[5]:l,typeof e=="number")c._orientation=[e,n,o,s,r,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(e,n,o,s,r,l);else return h;return c},Howl.prototype.init=function(e){return function(n){var o=this;return o._orientation=n.orientation||[1,0,0],o._stereo=n.stereo||null,o._pos=n.pos||null,o._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},o._onstereo=n.onstereo?[{fn:n.onstereo}]:[],o._onpos=n.onpos?[{fn:n.onpos}]:[],o._onorientation=n.onorientation?[{fn:n.onorientation}]:[],e.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof e=="number")o._stereo=e,o._pos=[e,0,0];else return o._stereo;for(var r=o._getSoundIds(n),l=0;l<r.length;l++){var c=o._soundById(r[l]);if(c)if(typeof e=="number")c._stereo=e,c._pos=[e,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&i(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(e,0,0):c._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",c._id);else return c._stereo}return o},Howl.prototype.pos=function(e,n,o,s){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"pos",action:function(){r.pos(e,n,o,s)}}),r;if(n=typeof n!="number"?0:n,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof e=="number")r._pos=[e,n,o];else return r._pos;for(var l=r._getSoundIds(s),c=0;c<l.length;c++){var h=r._soundById(l[c]);if(h)if(typeof e=="number")h._pos=[e,n,o],h._node&&((!h._panner||h._panner.pan)&&i(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setPosition(e,n,o)),r._emit("pos",h._id);else return h._pos}return r},Howl.prototype.orientation=function(e,n,o,s){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"orientation",action:function(){r.orientation(e,n,o,s)}}),r;if(n=typeof n!="number"?r._orientation[1]:n,o=typeof o!="number"?r._orientation[2]:o,typeof s>"u")if(typeof e=="number")r._orientation=[e,n,o];else return r._orientation;for(var l=r._getSoundIds(s),c=0;c<l.length;c++){var h=r._soundById(l[c]);if(h)if(typeof e=="number")h._orientation=[e,n,o],h._node&&(h._panner||(h._pos||(h._pos=r._pos||[0,0,-.5]),i(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setOrientation(e,n,o)),r._emit("orientation",h._id);else return h._orientation}return r},Howl.prototype.pannerAttr=function(){var e=this,n=arguments,o,s,r;if(!e._webAudio)return e;if(n.length===0)return e._pannerAttr;if(n.length===1)if(typeof n[0]=="object")o=n[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),e._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:e._panningModel});else return r=e._soundById(parseInt(n[0],10)),r?r._pannerAttr:e._pannerAttr;else n.length===2&&(o=n[0],s=parseInt(n[1],10));for(var l=e._getSoundIds(s),c=0;c<l.length;c++)if(r=e._soundById(l[c]),r){var h=r._pannerAttr;h={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:h.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:h.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:h.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:h.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:h.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:h.panningModel};var d=r._panner;d||(r._pos||(r._pos=e._pos||[0,0,-.5]),i(r,"spatial"),d=r._panner),d.coneInnerAngle=h.coneInnerAngle,d.coneOuterAngle=h.coneOuterAngle,d.coneOuterGain=h.coneOuterGain,d.distanceModel=h.distanceModel,d.maxDistance=h.maxDistance,d.refDistance=h.refDistance,d.rolloffFactor=h.rolloffFactor,d.panningModel=h.panningModel}return e},Sound.prototype.init=function(e){return function(){var n=this,o=n._parent;n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,e.call(this),n._stereo?o.stereo(n._stereo):n._pos&&o.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var n=this,o=n._parent;return n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,n._stereo?o.stereo(n._stereo):n._pos?o.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,o._refreshBuffer(n)),e.call(this)}}(Sound.prototype.reset);var i=function(e,n){n=n||"spatial",n==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()})(Mr);const te=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};var Me=[],Te=[],ql=typeof Uint8Array<"u"?Uint8Array:Array,Pr=!1;function ua(){Pr=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,e=t.length;i<e;++i)Me[i]=t[i],Te[t.charCodeAt(i)]=i;Te[45]=62,Te[95]=63}function Zl(t){Pr||ua();var i,e,n,o,s,r,l=t.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[l-2]==="="?2:t[l-1]==="="?1:0,r=new ql(l*3/4-s),n=s>0?l-4:l;var c=0;for(i=0,e=0;i<n;i+=4,e+=3)o=Te[t.charCodeAt(i)]<<18|Te[t.charCodeAt(i+1)]<<12|Te[t.charCodeAt(i+2)]<<6|Te[t.charCodeAt(i+3)],r[c++]=o>>16&255,r[c++]=o>>8&255,r[c++]=o&255;return s===2?(o=Te[t.charCodeAt(i)]<<2|Te[t.charCodeAt(i+1)]>>4,r[c++]=o&255):s===1&&(o=Te[t.charCodeAt(i)]<<10|Te[t.charCodeAt(i+1)]<<4|Te[t.charCodeAt(i+2)]>>2,r[c++]=o>>8&255,r[c++]=o&255),r}function Yl(t){return Me[t>>18&63]+Me[t>>12&63]+Me[t>>6&63]+Me[t&63]}function Kl(t,i,e){for(var n,o=[],s=i;s<e;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(Yl(n));return o.join("")}function ws(t){Pr||ua();for(var i,e=t.length,n=e%3,o="",s=[],r=16383,l=0,c=e-n;l<c;l+=r)s.push(Kl(t,l,l+r>c?c:l+r));return n===1?(i=t[e-1],o+=Me[i>>2],o+=Me[i<<4&63],o+="=="):n===2&&(i=(t[e-2]<<8)+t[e-1],o+=Me[i>>10],o+=Me[i>>4&63],o+=Me[i<<2&63],o+="="),s.push(o),s.join("")}function nn(t,i,e,n,o){var s,r,l=o*8-n-1,c=(1<<l)-1,h=c>>1,d=-7,a=e?o-1:0,u=e?-1:1,f=t[i+a];for(a+=u,s=f&(1<<-d)-1,f>>=-d,d+=l;d>0;s=s*256+t[i+a],a+=u,d-=8);for(r=s&(1<<-d)-1,s>>=-d,d+=n;d>0;r=r*256+t[i+a],a+=u,d-=8);if(s===0)s=1-h;else{if(s===c)return r?NaN:(f?-1:1)*(1/0);r=r+Math.pow(2,n),s=s-h}return(f?-1:1)*r*Math.pow(2,s-n)}function fa(t,i,e,n,o,s){var r,l,c,h=s*8-o-1,d=(1<<h)-1,a=d>>1,u=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,_=n?1:-1,v=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(l=isNaN(i)?1:0,r=d):(r=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-r))<1&&(r--,c*=2),r+a>=1?i+=u/c:i+=u*Math.pow(2,1-a),i*c>=2&&(r++,c/=2),r+a>=d?(l=0,r=d):r+a>=1?(l=(i*c-1)*Math.pow(2,o),r=r+a):(l=i*Math.pow(2,a-1)*Math.pow(2,o),r=0));o>=8;t[e+f]=l&255,f+=_,l/=256,o-=8);for(r=r<<o|l,h+=o;h>0;t[e+f]=r&255,f+=_,r/=256,h-=8);t[e+f-_]|=v*128}var $l={}.toString,ha=Array.isArray||function(t){return $l.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var Ql=50;R.TYPED_ARRAY_SUPPORT=te.TYPED_ARRAY_SUPPORT!==void 0?te.TYPED_ARRAY_SUPPORT:!0;Gi();function Gi(){return R.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function We(t,i){if(Gi()<i)throw new RangeError("Invalid typed array length");return R.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(i),t.__proto__=R.prototype):(t===null&&(t=new R(i)),t.length=i),t}function R(t,i,e){if(!R.TYPED_ARRAY_SUPPORT&&!(this instanceof R))return new R(t,i,e);if(typeof t=="number"){if(typeof i=="string")throw new Error("If encoding is specified then the first argument must be a string");return kr(this,t)}return ca(this,t,i,e)}R.poolSize=8192;R._augment=function(t){return t.__proto__=R.prototype,t};function ca(t,i,e,n){if(typeof i=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer?tu(t,i,e,n):typeof i=="string"?eu(t,i,e):iu(t,i)}R.from=function(t,i,e){return ca(null,t,i,e)};R.TYPED_ARRAY_SUPPORT&&(R.prototype.__proto__=Uint8Array.prototype,R.__proto__=Uint8Array);function da(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Jl(t,i,e,n){return da(i),i<=0?We(t,i):e!==void 0?typeof n=="string"?We(t,i).fill(e,n):We(t,i).fill(e):We(t,i)}R.alloc=function(t,i,e){return Jl(null,t,i,e)};function kr(t,i){if(da(i),t=We(t,i<0?0:Fr(i)|0),!R.TYPED_ARRAY_SUPPORT)for(var e=0;e<i;++e)t[e]=0;return t}R.allocUnsafe=function(t){return kr(null,t)};R.allocUnsafeSlow=function(t){return kr(null,t)};function eu(t,i,e){if((typeof e!="string"||e==="")&&(e="utf8"),!R.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=pa(i,e)|0;t=We(t,n);var o=t.write(i,e);return o!==n&&(t=t.slice(0,o)),t}function br(t,i){var e=i.length<0?0:Fr(i.length)|0;t=We(t,e);for(var n=0;n<e;n+=1)t[n]=i[n]&255;return t}function tu(t,i,e,n){if(i.byteLength,e<0||i.byteLength<e)throw new RangeError("'offset' is out of bounds");if(i.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?i=new Uint8Array(i):n===void 0?i=new Uint8Array(i,e):i=new Uint8Array(i,e,n),R.TYPED_ARRAY_SUPPORT?(t=i,t.__proto__=R.prototype):t=br(t,i),t}function iu(t,i){if(Be(i)){var e=Fr(i.length)|0;return t=We(t,e),t.length===0||i.copy(t,0,0,e),t}if(i){if(typeof ArrayBuffer<"u"&&i.buffer instanceof ArrayBuffer||"length"in i)return typeof i.length!="number"||bu(i.length)?We(t,0):br(t,i);if(i.type==="Buffer"&&ha(i.data))return br(t,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Fr(t){if(t>=Gi())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Gi().toString(16)+" bytes");return t|0}R.isBuffer=xu;function Be(t){return!!(t!=null&&t._isBuffer)}R.compare=function(i,e){if(!Be(i)||!Be(e))throw new TypeError("Arguments must be Buffers");if(i===e)return 0;for(var n=i.length,o=e.length,s=0,r=Math.min(n,o);s<r;++s)if(i[s]!==e[s]){n=i[s],o=e[s];break}return n<o?-1:o<n?1:0};R.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};R.concat=function(i,e){if(!ha(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return R.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<i.length;++n)e+=i[n].length;var o=R.allocUnsafe(e),s=0;for(n=0;n<i.length;++n){var r=i[n];if(!Be(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(o,s),s+=r.length}return o};function pa(t,i){if(Be(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;if(e===0)return 0;for(var n=!1;;)switch(i){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Wi(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return ba(t).length;default:if(n)return Wi(t).length;i=(""+i).toLowerCase(),n=!0}}R.byteLength=pa;function nu(t,i,e){var n=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,i>>>=0,e<=i))return"";for(t||(t="utf8");;)switch(t){case"hex":return du(this,i,e);case"utf8":case"utf-8":return ma(this,i,e);case"ascii":return hu(this,i,e);case"latin1":case"binary":return cu(this,i,e);case"base64":return uu(this,i,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pu(this,i,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}R.prototype._isBuffer=!0;function wt(t,i,e){var n=t[i];t[i]=t[e],t[e]=n}R.prototype.swap16=function(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<i;e+=2)wt(this,e,e+1);return this};R.prototype.swap32=function(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<i;e+=4)wt(this,e,e+3),wt(this,e+1,e+2);return this};R.prototype.swap64=function(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<i;e+=8)wt(this,e,e+7),wt(this,e+1,e+6),wt(this,e+2,e+5),wt(this,e+3,e+4);return this};R.prototype.toString=function(){var i=this.length|0;return i===0?"":arguments.length===0?ma(this,0,i):nu.apply(this,arguments)};R.prototype.equals=function(i){if(!Be(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:R.compare(this,i)===0};R.prototype.inspect=function(){var i="",e=Ql;return this.length>0&&(i=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(i+=" ... ")),"<Buffer "+i+">"};R.prototype.compare=function(i,e,n,o,s){if(!Be(i))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=i?i.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),e<0||n>i.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&e>=n)return 0;if(o>=s)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,o>>>=0,s>>>=0,this===i)return 0;for(var r=s-o,l=n-e,c=Math.min(r,l),h=this.slice(o,s),d=i.slice(e,n),a=0;a<c;++a)if(h[a]!==d[a]){r=h[a],l=d[a];break}return r<l?-1:l<r?1:0};function _a(t,i,e,n,o){if(t.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=o?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(o)return-1;e=t.length-1}else if(e<0)if(o)e=0;else return-1;if(typeof i=="string"&&(i=R.from(i,n)),Be(i))return i.length===0?-1:bs(t,i,e,n,o);if(typeof i=="number")return i=i&255,R.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(t,i,e):Uint8Array.prototype.lastIndexOf.call(t,i,e):bs(t,[i],e,n,o);throw new TypeError("val must be string, number or Buffer")}function bs(t,i,e,n,o){var s=1,r=t.length,l=i.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||i.length<2)return-1;s=2,r/=2,l/=2,e/=2}function c(f,_){return s===1?f[_]:f.readUInt16BE(_*s)}var h;if(o){var d=-1;for(h=e;h<r;h++)if(c(t,h)===c(i,d===-1?0:h-d)){if(d===-1&&(d=h),h-d+1===l)return d*s}else d!==-1&&(h-=h-d),d=-1}else for(e+l>r&&(e=r-l),h=e;h>=0;h--){for(var a=!0,u=0;u<l;u++)if(c(t,h+u)!==c(i,u)){a=!1;break}if(a)return h}return-1}R.prototype.includes=function(i,e,n){return this.indexOf(i,e,n)!==-1};R.prototype.indexOf=function(i,e,n){return _a(this,i,e,n,!0)};R.prototype.lastIndexOf=function(i,e,n){return _a(this,i,e,n,!1)};function ru(t,i,e,n){e=Number(e)||0;var o=t.length-e;n?(n=Number(n),n>o&&(n=o)):n=o;var s=i.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var r=0;r<n;++r){var l=parseInt(i.substr(r*2,2),16);if(isNaN(l))return r;t[e+r]=l}return r}function su(t,i,e,n){return on(Wi(i,t.length-e),t,e,n)}function ga(t,i,e,n){return on(vu(i),t,e,n)}function ou(t,i,e,n){return ga(t,i,e,n)}function au(t,i,e,n){return on(ba(i),t,e,n)}function lu(t,i,e,n){return on(wu(i,t.length-e),t,e,n)}R.prototype.write=function(i,e,n,o){if(e===void 0)o="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")o=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-e;if((n===void 0||n>s)&&(n=s),i.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return ru(this,i,e,n);case"utf8":case"utf-8":return su(this,i,e,n);case"ascii":return ga(this,i,e,n);case"latin1":case"binary":return ou(this,i,e,n);case"base64":return au(this,i,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lu(this,i,e,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}};R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function uu(t,i,e){return i===0&&e===t.length?ws(t):ws(t.slice(i,e))}function ma(t,i,e){e=Math.min(t.length,e);for(var n=[],o=i;o<e;){var s=t[o],r=null,l=s>239?4:s>223?3:s>191?2:1;if(o+l<=e){var c,h,d,a;switch(l){case 1:s<128&&(r=s);break;case 2:c=t[o+1],(c&192)===128&&(a=(s&31)<<6|c&63,a>127&&(r=a));break;case 3:c=t[o+1],h=t[o+2],(c&192)===128&&(h&192)===128&&(a=(s&15)<<12|(c&63)<<6|h&63,a>2047&&(a<55296||a>57343)&&(r=a));break;case 4:c=t[o+1],h=t[o+2],d=t[o+3],(c&192)===128&&(h&192)===128&&(d&192)===128&&(a=(s&15)<<18|(c&63)<<12|(h&63)<<6|d&63,a>65535&&a<1114112&&(r=a))}}r===null?(r=65533,l=1):r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|r&1023),n.push(r),o+=l}return fu(n)}var xs=4096;function fu(t){var i=t.length;if(i<=xs)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<i;)e+=String.fromCharCode.apply(String,t.slice(n,n+=xs));return e}function hu(t,i,e){var n="";e=Math.min(t.length,e);for(var o=i;o<e;++o)n+=String.fromCharCode(t[o]&127);return n}function cu(t,i,e){var n="";e=Math.min(t.length,e);for(var o=i;o<e;++o)n+=String.fromCharCode(t[o]);return n}function du(t,i,e){var n=t.length;(!i||i<0)&&(i=0),(!e||e<0||e>n)&&(e=n);for(var o="",s=i;s<e;++s)o+=yu(t[s]);return o}function pu(t,i,e){for(var n=t.slice(i,e),o="",s=0;s<n.length;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}R.prototype.slice=function(i,e){var n=this.length;i=~~i,e=e===void 0?n:~~e,i<0?(i+=n,i<0&&(i=0)):i>n&&(i=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<i&&(e=i);var o;if(R.TYPED_ARRAY_SUPPORT)o=this.subarray(i,e),o.__proto__=R.prototype;else{var s=e-i;o=new R(s,void 0);for(var r=0;r<s;++r)o[r]=this[r+i]}return o};function fe(t,i,e){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+i>e)throw new RangeError("Trying to access beyond buffer length")}R.prototype.readUIntLE=function(i,e,n){i=i|0,e=e|0,n||fe(i,e,this.length);for(var o=this[i],s=1,r=0;++r<e&&(s*=256);)o+=this[i+r]*s;return o};R.prototype.readUIntBE=function(i,e,n){i=i|0,e=e|0,n||fe(i,e,this.length);for(var o=this[i+--e],s=1;e>0&&(s*=256);)o+=this[i+--e]*s;return o};R.prototype.readUInt8=function(i,e){return e||fe(i,1,this.length),this[i]};R.prototype.readUInt16LE=function(i,e){return e||fe(i,2,this.length),this[i]|this[i+1]<<8};R.prototype.readUInt16BE=function(i,e){return e||fe(i,2,this.length),this[i]<<8|this[i+1]};R.prototype.readUInt32LE=function(i,e){return e||fe(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216};R.prototype.readUInt32BE=function(i,e){return e||fe(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])};R.prototype.readIntLE=function(i,e,n){i=i|0,e=e|0,n||fe(i,e,this.length);for(var o=this[i],s=1,r=0;++r<e&&(s*=256);)o+=this[i+r]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*e)),o};R.prototype.readIntBE=function(i,e,n){i=i|0,e=e|0,n||fe(i,e,this.length);for(var o=e,s=1,r=this[i+--o];o>0&&(s*=256);)r+=this[i+--o]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*e)),r};R.prototype.readInt8=function(i,e){return e||fe(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]};R.prototype.readInt16LE=function(i,e){e||fe(i,2,this.length);var n=this[i]|this[i+1]<<8;return n&32768?n|4294901760:n};R.prototype.readInt16BE=function(i,e){e||fe(i,2,this.length);var n=this[i+1]|this[i]<<8;return n&32768?n|4294901760:n};R.prototype.readInt32LE=function(i,e){return e||fe(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24};R.prototype.readInt32BE=function(i,e){return e||fe(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]};R.prototype.readFloatLE=function(i,e){return e||fe(i,4,this.length),nn(this,i,!0,23,4)};R.prototype.readFloatBE=function(i,e){return e||fe(i,4,this.length),nn(this,i,!1,23,4)};R.prototype.readDoubleLE=function(i,e){return e||fe(i,8,this.length),nn(this,i,!0,52,8)};R.prototype.readDoubleBE=function(i,e){return e||fe(i,8,this.length),nn(this,i,!1,52,8)};function me(t,i,e,n,o,s){if(!Be(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>o||i<s)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}R.prototype.writeUIntLE=function(i,e,n,o){if(i=+i,e=e|0,n=n|0,!o){var s=Math.pow(2,8*n)-1;me(this,i,e,n,s,0)}var r=1,l=0;for(this[e]=i&255;++l<n&&(r*=256);)this[e+l]=i/r&255;return e+n};R.prototype.writeUIntBE=function(i,e,n,o){if(i=+i,e=e|0,n=n|0,!o){var s=Math.pow(2,8*n)-1;me(this,i,e,n,s,0)}var r=n-1,l=1;for(this[e+r]=i&255;--r>=0&&(l*=256);)this[e+r]=i/l&255;return e+n};R.prototype.writeUInt8=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,1,255,0),R.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),this[e]=i&255,e+1};function rn(t,i,e,n){i<0&&(i=65535+i+1);for(var o=0,s=Math.min(t.length-e,2);o<s;++o)t[e+o]=(i&255<<8*(n?o:1-o))>>>(n?o:1-o)*8}R.prototype.writeUInt16LE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,2,65535,0),R.TYPED_ARRAY_SUPPORT?(this[e]=i&255,this[e+1]=i>>>8):rn(this,i,e,!0),e+2};R.prototype.writeUInt16BE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,2,65535,0),R.TYPED_ARRAY_SUPPORT?(this[e]=i>>>8,this[e+1]=i&255):rn(this,i,e,!1),e+2};function sn(t,i,e,n){i<0&&(i=4294967295+i+1);for(var o=0,s=Math.min(t.length-e,4);o<s;++o)t[e+o]=i>>>(n?o:3-o)*8&255}R.prototype.writeUInt32LE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,4,4294967295,0),R.TYPED_ARRAY_SUPPORT?(this[e+3]=i>>>24,this[e+2]=i>>>16,this[e+1]=i>>>8,this[e]=i&255):sn(this,i,e,!0),e+4};R.prototype.writeUInt32BE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,4,4294967295,0),R.TYPED_ARRAY_SUPPORT?(this[e]=i>>>24,this[e+1]=i>>>16,this[e+2]=i>>>8,this[e+3]=i&255):sn(this,i,e,!1),e+4};R.prototype.writeIntLE=function(i,e,n,o){if(i=+i,e=e|0,!o){var s=Math.pow(2,8*n-1);me(this,i,e,n,s-1,-s)}var r=0,l=1,c=0;for(this[e]=i&255;++r<n&&(l*=256);)i<0&&c===0&&this[e+r-1]!==0&&(c=1),this[e+r]=(i/l>>0)-c&255;return e+n};R.prototype.writeIntBE=function(i,e,n,o){if(i=+i,e=e|0,!o){var s=Math.pow(2,8*n-1);me(this,i,e,n,s-1,-s)}var r=n-1,l=1,c=0;for(this[e+r]=i&255;--r>=0&&(l*=256);)i<0&&c===0&&this[e+r+1]!==0&&(c=1),this[e+r]=(i/l>>0)-c&255;return e+n};R.prototype.writeInt8=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,1,127,-128),R.TYPED_ARRAY_SUPPORT||(i=Math.floor(i)),i<0&&(i=255+i+1),this[e]=i&255,e+1};R.prototype.writeInt16LE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,2,32767,-32768),R.TYPED_ARRAY_SUPPORT?(this[e]=i&255,this[e+1]=i>>>8):rn(this,i,e,!0),e+2};R.prototype.writeInt16BE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,2,32767,-32768),R.TYPED_ARRAY_SUPPORT?(this[e]=i>>>8,this[e+1]=i&255):rn(this,i,e,!1),e+2};R.prototype.writeInt32LE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,4,2147483647,-2147483648),R.TYPED_ARRAY_SUPPORT?(this[e]=i&255,this[e+1]=i>>>8,this[e+2]=i>>>16,this[e+3]=i>>>24):sn(this,i,e,!0),e+4};R.prototype.writeInt32BE=function(i,e,n){return i=+i,e=e|0,n||me(this,i,e,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),R.TYPED_ARRAY_SUPPORT?(this[e]=i>>>24,this[e+1]=i>>>16,this[e+2]=i>>>8,this[e+3]=i&255):sn(this,i,e,!1),e+4};function ya(t,i,e,n,o,s){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function va(t,i,e,n,o){return o||ya(t,i,e,4),fa(t,i,e,n,23,4),e+4}R.prototype.writeFloatLE=function(i,e,n){return va(this,i,e,!0,n)};R.prototype.writeFloatBE=function(i,e,n){return va(this,i,e,!1,n)};function wa(t,i,e,n,o){return o||ya(t,i,e,8),fa(t,i,e,n,52,8),e+8}R.prototype.writeDoubleLE=function(i,e,n){return wa(this,i,e,!0,n)};R.prototype.writeDoubleBE=function(i,e,n){return wa(this,i,e,!1,n)};R.prototype.copy=function(i,e,n,o){if(n||(n=0),!o&&o!==0&&(o=this.length),e>=i.length&&(e=i.length),e||(e=0),o>0&&o<n&&(o=n),o===n||i.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),i.length-e<o-n&&(o=i.length-e+n);var s=o-n,r;if(this===i&&n<e&&e<o)for(r=s-1;r>=0;--r)i[r+e]=this[r+n];else if(s<1e3||!R.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)i[r+e]=this[r+n];else Uint8Array.prototype.set.call(i,this.subarray(n,n+s),e);return s};R.prototype.fill=function(i,e,n,o){if(typeof i=="string"){if(typeof e=="string"?(o=e,e=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),i.length===1){var s=i.charCodeAt(0);s<256&&(i=s)}if(o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!R.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else typeof i=="number"&&(i=i&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,i||(i=0);var r;if(typeof i=="number")for(r=e;r<n;++r)this[r]=i;else{var l=Be(i)?i:Wi(new R(i,o).toString()),c=l.length;for(r=0;r<n-e;++r)this[r+e]=l[r%c]}return this};var _u=/[^+\/0-9A-Za-z-_]/g;function gu(t){if(t=mu(t).replace(_u,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function mu(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function yu(t){return t<16?"0"+t.toString(16):t.toString(16)}function Wi(t,i){i=i||1/0;for(var e,n=t.length,o=null,s=[],r=0;r<n;++r){if(e=t.charCodeAt(r),e>55295&&e<57344){if(!o){if(e>56319){(i-=3)>-1&&s.push(239,191,189);continue}else if(r+1===n){(i-=3)>-1&&s.push(239,191,189);continue}o=e;continue}if(e<56320){(i-=3)>-1&&s.push(239,191,189),o=e;continue}e=(o-55296<<10|e-56320)+65536}else o&&(i-=3)>-1&&s.push(239,191,189);if(o=null,e<128){if((i-=1)<0)break;s.push(e)}else if(e<2048){if((i-=2)<0)break;s.push(e>>6|192,e&63|128)}else if(e<65536){if((i-=3)<0)break;s.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((i-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return s}function vu(t){for(var i=[],e=0;e<t.length;++e)i.push(t.charCodeAt(e)&255);return i}function wu(t,i){for(var e,n,o,s=[],r=0;r<t.length&&!((i-=2)<0);++r)e=t.charCodeAt(r),n=e>>8,o=e%256,s.push(o),s.push(n);return s}function ba(t){return Zl(gu(t))}function on(t,i,e,n){for(var o=0;o<n&&!(o+e>=i.length||o>=t.length);++o)i[o+e]=t[o];return o}function bu(t){return t!==t}function xu(t){return t!=null&&(!!t._isBuffer||xa(t)||Eu(t))}function xa(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Eu(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&xa(t.slice(0,0))}function Ea(){throw new Error("setTimeout has not been defined")}function Ta(){throw new Error("clearTimeout has not been defined")}var $e=Ea,Qe=Ta;typeof te.setTimeout=="function"&&($e=setTimeout);typeof te.clearTimeout=="function"&&(Qe=clearTimeout);function Aa(t){if($e===setTimeout)return setTimeout(t,0);if(($e===Ea||!$e)&&setTimeout)return $e=setTimeout,setTimeout(t,0);try{return $e(t,0)}catch{try{return $e.call(null,t,0)}catch{return $e.call(this,t,0)}}}function Tu(t){if(Qe===clearTimeout)return clearTimeout(t);if((Qe===Ta||!Qe)&&clearTimeout)return Qe=clearTimeout,clearTimeout(t);try{return Qe(t)}catch{try{return Qe.call(null,t)}catch{return Qe.call(this,t)}}}var qe=[],Yt=!1,bt,Ui=-1;function Au(){!Yt||!bt||(Yt=!1,bt.length?qe=bt.concat(qe):Ui=-1,qe.length&&Sa())}function Sa(){if(!Yt){var t=Aa(Au);Yt=!0;for(var i=qe.length;i;){for(bt=qe,qe=[];++Ui<i;)bt&&bt[Ui].run();Ui=-1,i=qe.length}bt=null,Yt=!1,Tu(t)}}function Ee(t){var i=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)i[e-1]=arguments[e];qe.push(new Da(t,i)),qe.length===1&&!Yt&&Aa(Sa)}function Da(t,i){this.fun=t,this.array=i}Da.prototype.run=function(){this.fun.apply(null,this.array)};var Su="browser",Du="browser",Cu=!0,Ou={},Iu=[],Lu="",Ru={},Nu={},Mu={};function Nt(){}var Pu=Nt,ku=Nt,Fu=Nt,Bu=Nt,Uu=Nt,zu=Nt,Xu=Nt;function ju(t){throw new Error("process.binding is not supported")}function Hu(){return"/"}function Vu(t){throw new Error("process.chdir is not supported")}function Gu(){return 0}var Ht=te.performance||{},Wu=Ht.now||Ht.mozNow||Ht.msNow||Ht.oNow||Ht.webkitNow||function(){return new Date().getTime()};function qu(t){var i=Wu.call(Ht)*.001,e=Math.floor(i),n=Math.floor(i%1*1e9);return t&&(e=e-t[0],n=n-t[1],n<0&&(e--,n+=1e9)),[e,n]}var Zu=new Date;function Yu(){var t=new Date,i=t-Zu;return i/1e3}var Fe={nextTick:Ee,title:Su,browser:Cu,env:Ou,argv:Iu,version:Lu,versions:Ru,on:Pu,addListener:ku,once:Fu,off:Bu,removeListener:Uu,removeAllListeners:zu,emit:Xu,binding:ju,cwd:Hu,chdir:Vu,umask:Gu,hrtime:qu,platform:Du,release:Nu,config:Mu,uptime:Yu},Ku;function at(){}at.prototype=Object.create(null);function Z(){Z.init.call(this)}Z.EventEmitter=Z;Z.usingDomains=!1;Z.prototype.domain=void 0;Z.prototype._events=void 0;Z.prototype._maxListeners=void 0;Z.defaultMaxListeners=10;Z.init=function(){this.domain=null,Z.usingDomains&&Ku.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new at,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Z.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||isNaN(i))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=i,this};function Ca(t){return t._maxListeners===void 0?Z.defaultMaxListeners:t._maxListeners}Z.prototype.getMaxListeners=function(){return Ca(this)};function $u(t,i,e){if(i)t.call(e);else for(var n=t.length,o=Ai(t,n),s=0;s<n;++s)o[s].call(e)}function Qu(t,i,e,n){if(i)t.call(e,n);else for(var o=t.length,s=Ai(t,o),r=0;r<o;++r)s[r].call(e,n)}function Ju(t,i,e,n,o){if(i)t.call(e,n,o);else for(var s=t.length,r=Ai(t,s),l=0;l<s;++l)r[l].call(e,n,o)}function ef(t,i,e,n,o,s){if(i)t.call(e,n,o,s);else for(var r=t.length,l=Ai(t,r),c=0;c<r;++c)l[c].call(e,n,o,s)}function tf(t,i,e,n){if(i)t.apply(e,n);else for(var o=t.length,s=Ai(t,o),r=0;r<o;++r)s[r].apply(e,n)}Z.prototype.emit=function(i){var e,n,o,s,r,l,c,h=i==="error";if(l=this._events,l)h=h&&l.error==null;else if(!h)return!1;if(c=this.domain,h){if(e=arguments[1],c)e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=c,e.domainThrown=!1,c.emit("error",e);else{if(e instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}return!1}if(n=l[i],!n)return!1;var a=typeof n=="function";switch(o=arguments.length,o){case 1:$u(n,a,this);break;case 2:Qu(n,a,this,arguments[1]);break;case 3:Ju(n,a,this,arguments[1],arguments[2]);break;case 4:ef(n,a,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(o-1),r=1;r<o;r++)s[r-1]=arguments[r];tf(n,a,this,s)}return!0};function Oa(t,i,e,n){var o,s,r;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(s=t._events,s?(s.newListener&&(t.emit("newListener",i,e.listener?e.listener:e),s=t._events),r=s[i]):(s=t._events=new at,t._eventsCount=0),!r)r=s[i]=e,++t._eventsCount;else if(typeof r=="function"?r=s[i]=n?[e,r]:[r,e]:n?r.unshift(e):r.push(e),!r.warned&&(o=Ca(t),o&&o>0&&r.length>o)){r.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+i+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=i,l.count=r.length,nf(l)}return t}function nf(t){typeof console.warn=="function"?console.warn(t):console.log(t)}Z.prototype.addListener=function(i,e){return Oa(this,i,e,!1)};Z.prototype.on=Z.prototype.addListener;Z.prototype.prependListener=function(i,e){return Oa(this,i,e,!0)};function Ia(t,i,e){var n=!1;function o(){t.removeListener(i,o),n||(n=!0,e.apply(t,arguments))}return o.listener=e,o}Z.prototype.once=function(i,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(i,Ia(this,i,e)),this};Z.prototype.prependOnceListener=function(i,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(i,Ia(this,i,e)),this};Z.prototype.removeListener=function(i,e){var n,o,s,r,l;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(o=this._events,!o)return this;if(n=o[i],!n)return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount===0?this._events=new at:(delete o[i],o.removeListener&&this.emit("removeListener",i,n.listener||e));else if(typeof n!="function"){for(s=-1,r=n.length;r-- >0;)if(n[r]===e||n[r].listener&&n[r].listener===e){l=n[r].listener,s=r;break}if(s<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount===0)return this._events=new at,this;delete o[i]}else rf(n,s);o.removeListener&&this.emit("removeListener",i,l||e)}return this};Z.prototype.removeAllListeners=function(i){var e,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new at,this._eventsCount=0):n[i]&&(--this._eventsCount===0?this._events=new at:delete n[i]),this;if(arguments.length===0){for(var o=Object.keys(n),s=0,r;s<o.length;++s)r=o[s],r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new at,this._eventsCount=0,this}if(e=n[i],typeof e=="function")this.removeListener(i,e);else if(e)do this.removeListener(i,e[e.length-1]);while(e[0]);return this};Z.prototype.listeners=function(i){var e,n,o=this._events;return o?(e=o[i],e?typeof e=="function"?n=[e.listener||e]:n=sf(e):n=[]):n=[],n};Z.listenerCount=function(t,i){return typeof t.listenerCount=="function"?t.listenerCount(i):La.call(t,i)};Z.prototype.listenerCount=La;function La(t){var i=this._events;if(i){var e=i[t];if(typeof e=="function")return 1;if(e)return e.length}return 0}Z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function rf(t,i){for(var e=i,n=e+1,o=t.length;n<o;e+=1,n+=1)t[e]=t[n];t.pop()}function Ai(t,i){for(var e=new Array(i);i--;)e[i]=t[i];return e}function sf(t){for(var i=new Array(t.length),e=0;e<i.length;++e)i[e]=t[e].listener||t[e];return i}const of=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Z,default:Z},Symbol.toStringTag,{value:"Module"}));var xr;typeof Object.create=="function"?xr=function(i,e){i.super_=e,i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:xr=function(i,e){i.super_=e;var n=function(){};n.prototype=e.prototype,i.prototype=new n,i.prototype.constructor=i};const ye=xr;var af=/%[sdj%]/g;function lf(t){if(!Ur(t)){for(var i=[],e=0;e<arguments.length;e++)i.push(lt(arguments[e]));return i.join(" ")}for(var e=1,n=arguments,o=n.length,s=String(t).replace(af,function(l){if(l==="%%")return"%";if(e>=o)return l;switch(l){case"%s":return String(n[e++]);case"%d":return Number(n[e++]);case"%j":try{return JSON.stringify(n[e++])}catch{return"[Circular]"}default:return l}}),r=n[e];e<o;r=n[++e])Br(r)||!Si(r)?s+=" "+r:s+=" "+lt(r);return s}function Ra(t,i){if(nt(te.process))return function(){return Ra(t,i).apply(this,arguments)};if(Fe.noDeprecation===!0)return t;var e=!1;function n(){if(!e){if(Fe.throwDeprecation)throw new Error(i);Fe.traceDeprecation?console.trace(i):console.error(i),e=!0}return t.apply(this,arguments)}return n}var Li={},pn;function uf(t){if(nt(pn)&&(pn=Fe.env.NODE_DEBUG||""),t=t.toUpperCase(),!Li[t])if(new RegExp("\\b"+t+"\\b","i").test(pn)){var i=0;Li[t]=function(){var e=lf.apply(null,arguments);console.error("%s %d: %s",t,i,e)}}else Li[t]=function(){};return Li[t]}function lt(t,i){var e={seen:[],stylize:hf};return arguments.length>=3&&(e.depth=arguments[2]),arguments.length>=4&&(e.colors=arguments[3]),Na(i)?e.showHidden=i:i&&yf(e,i),nt(e.showHidden)&&(e.showHidden=!1),nt(e.depth)&&(e.depth=2),nt(e.colors)&&(e.colors=!1),nt(e.customInspect)&&(e.customInspect=!0),e.colors&&(e.stylize=ff),qi(e,t,e.depth)}lt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};lt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ff(t,i){var e=lt.styles[i];return e?"\x1B["+lt.colors[e][0]+"m"+t+"\x1B["+lt.colors[e][1]+"m":t}function hf(t,i){return t}function cf(t){var i={};return t.forEach(function(e,n){i[e]=!0}),i}function qi(t,i,e){if(t.customInspect&&i&&yn(i.inspect)&&i.inspect!==lt&&!(i.constructor&&i.constructor.prototype===i)){var n=i.inspect(e,t);return Ur(n)||(n=qi(t,n,e)),n}var o=df(t,i);if(o)return o;var s=Object.keys(i),r=cf(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(i)),mn(i)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return _n(i);if(s.length===0){if(yn(i)){var l=i.name?": "+i.name:"";return t.stylize("[Function"+l+"]","special")}if(gn(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(Es(i))return t.stylize(Date.prototype.toString.call(i),"date");if(mn(i))return _n(i)}var c="",h=!1,d=["{","}"];if(gf(i)&&(h=!0,d=["[","]"]),yn(i)){var a=i.name?": "+i.name:"";c=" [Function"+a+"]"}if(gn(i)&&(c=" "+RegExp.prototype.toString.call(i)),Es(i)&&(c=" "+Date.prototype.toUTCString.call(i)),mn(i)&&(c=" "+_n(i)),s.length===0&&(!h||i.length==0))return d[0]+c+d[1];if(e<0)return gn(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i);var u;return h?u=pf(t,i,e,r,s):u=s.map(function(f){return Er(t,i,e,r,f,h)}),t.seen.pop(),_f(u,c,d)}function df(t,i){if(nt(i))return t.stylize("undefined","undefined");if(Ur(i)){var e="'"+JSON.stringify(i).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(e,"string")}if(mf(i))return t.stylize(""+i,"number");if(Na(i))return t.stylize(""+i,"boolean");if(Br(i))return t.stylize("null","null")}function _n(t){return"["+Error.prototype.toString.call(t)+"]"}function pf(t,i,e,n,o){for(var s=[],r=0,l=i.length;r<l;++r)Ma(i,String(r))?s.push(Er(t,i,e,n,String(r),!0)):s.push("");return o.forEach(function(c){c.match(/^\d+$/)||s.push(Er(t,i,e,n,c,!0))}),s}function Er(t,i,e,n,o,s){var r,l,c;if(c=Object.getOwnPropertyDescriptor(i,o)||{value:i[o]},c.get?c.set?l=t.stylize("[Getter/Setter]","special"):l=t.stylize("[Getter]","special"):c.set&&(l=t.stylize("[Setter]","special")),Ma(n,o)||(r="["+o+"]"),l||(t.seen.indexOf(c.value)<0?(Br(e)?l=qi(t,c.value,null):l=qi(t,c.value,e-1),l.indexOf(`
`)>-1&&(s?l=l.split(`
`).map(function(h){return"  "+h}).join(`
`).substr(2):l=`
`+l.split(`
`).map(function(h){return"   "+h}).join(`
`))):l=t.stylize("[Circular]","special")),nt(r)){if(s&&o.match(/^\d+$/))return l;r=JSON.stringify(""+o),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=t.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=t.stylize(r,"string"))}return r+": "+l}function _f(t,i,e){var n=t.reduce(function(o,s){return s.indexOf(`
`)>=0,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?e[0]+(i===""?"":i+`
 `)+" "+t.join(`,
  `)+" "+e[1]:e[0]+i+" "+t.join(", ")+" "+e[1]}function gf(t){return Array.isArray(t)}function Na(t){return typeof t=="boolean"}function Br(t){return t===null}function mf(t){return typeof t=="number"}function Ur(t){return typeof t=="string"}function nt(t){return t===void 0}function gn(t){return Si(t)&&zr(t)==="[object RegExp]"}function Si(t){return typeof t=="object"&&t!==null}function Es(t){return Si(t)&&zr(t)==="[object Date]"}function mn(t){return Si(t)&&(zr(t)==="[object Error]"||t instanceof Error)}function yn(t){return typeof t=="function"}function zr(t){return Object.prototype.toString.call(t)}function yf(t,i){if(!i||!Si(i))return t;for(var e=Object.keys(i),n=e.length;n--;)t[e[n]]=i[e[n]];return t}function Ma(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function Mt(){this.head=null,this.tail=null,this.length=0}Mt.prototype.push=function(t){var i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length};Mt.prototype.unshift=function(t){var i={data:t,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length};Mt.prototype.shift=function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}};Mt.prototype.clear=function(){this.head=this.tail=null,this.length=0};Mt.prototype.join=function(t){if(this.length===0)return"";for(var i=this.head,e=""+i.data;i=i.next;)e+=t+i.data;return e};Mt.prototype.concat=function(t){if(this.length===0)return R.alloc(0);if(this.length===1)return this.head.data;for(var i=R.allocUnsafe(t>>>0),e=this.head,n=0;e;)e.data.copy(i,n),n+=e.data.length,e=e.next;return i};var vf=R.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function wf(t){if(t&&!vf(t))throw new Error("Unknown encoding: "+t)}function ei(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),wf(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=xf;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Ef;break;default:this.write=bf;return}this.charBuffer=new R(6),this.charReceived=0,this.charLength=0}ei.prototype.write=function(t){for(var i="";this.charLength;){var e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,e),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length),i=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var o=i.charCodeAt(i.length-1);if(o>=55296&&o<=56319){this.charLength+=this.surrogateSize,i="";continue}if(this.charReceived=this.charLength=0,t.length===0)return i;break}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),i+=t.toString(this.encoding,0,n);var n=i.length-1,o=i.charCodeAt(n);if(o>=55296&&o<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),i.substring(0,n)}return i};ei.prototype.detectIncompleteChar=function(t){for(var i=t.length>=3?3:t.length;i>0;i--){var e=t[t.length-i];if(i==1&&e>>5==6){this.charLength=2;break}if(i<=2&&e>>4==14){this.charLength=3;break}if(i<=3&&e>>3==30){this.charLength=4;break}}this.charReceived=i};ei.prototype.end=function(t){var i="";if(t&&t.length&&(i=this.write(t)),this.charReceived){var e=this.charReceived,n=this.charBuffer,o=this.encoding;i+=n.slice(0,e).toString(o)}return i};function bf(t){return t.toString(this.encoding)}function xf(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function Ef(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}const Tf=Object.freeze(Object.defineProperty({__proto__:null,StringDecoder:ei},Symbol.toStringTag,{value:"Module"}));re.ReadableState=Pa;var ee=uf("stream");ye(re,Z);function Af(t,i,e){if(typeof t.prependListener=="function")return t.prependListener(i,e);!t._events||!t._events[i]?t.on(i,e):Array.isArray(t._events[i])?t._events[i].unshift(e):t._events[i]=[e,t._events[i]]}function Sf(t,i){return t.listeners(i).length}function Pa(t,i){t=t||{},this.objectMode=!!t.objectMode,i instanceof be&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var e=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=e||e===0?e:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Mt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new ei(t.encoding),this.encoding=t.encoding)}function re(t){if(!(this instanceof re))return new re(t);this._readableState=new Pa(t,this),this.readable=!0,t&&typeof t.read=="function"&&(this._read=t.read),Z.call(this)}re.prototype.push=function(t,i){var e=this._readableState;return!e.objectMode&&typeof t=="string"&&(i=i||e.defaultEncoding,i!==e.encoding&&(t=R.from(t,i),i="")),ka(this,e,t,i,!1)};re.prototype.unshift=function(t){var i=this._readableState;return ka(this,i,t,"",!0)};re.prototype.isPaused=function(){return this._readableState.flowing===!1};function ka(t,i,e,n,o){var s=Of(i,e);if(s)t.emit("error",s);else if(e===null)i.reading=!1,If(t,i);else if(i.objectMode||e&&e.length>0)if(i.ended&&!o){var r=new Error("stream.push() after EOF");t.emit("error",r)}else if(i.endEmitted&&o){var l=new Error("stream.unshift() after end event");t.emit("error",l)}else{var c;i.decoder&&!o&&!n&&(e=i.decoder.write(e),c=!i.objectMode&&e.length===0),o||(i.reading=!1),c||(i.flowing&&i.length===0&&!i.sync?(t.emit("data",e),t.read(0)):(i.length+=i.objectMode?1:e.length,o?i.buffer.unshift(e):i.buffer.push(e),i.needReadable&&an(t))),Lf(t,i)}else o||(i.reading=!1);return Df(i)}function Df(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}re.prototype.setEncoding=function(t){return this._readableState.decoder=new ei(t),this._readableState.encoding=t,this};var Ts=8388608;function Cf(t){return t>=Ts?t=Ts:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function As(t,i){return t<=0||i.length===0&&i.ended?0:i.objectMode?1:t!==t?i.flowing&&i.length?i.buffer.head.data.length:i.length:(t>i.highWaterMark&&(i.highWaterMark=Cf(t)),t<=i.length?t:i.ended?i.length:(i.needReadable=!0,0))}re.prototype.read=function(t){ee("read",t),t=parseInt(t,10);var i=this._readableState,e=t;if(t!==0&&(i.emittedReadable=!1),t===0&&i.needReadable&&(i.length>=i.highWaterMark||i.ended))return ee("read: emitReadable",i.length,i.ended),i.length===0&&i.ended?vn(this):an(this),null;if(t=As(t,i),t===0&&i.ended)return i.length===0&&vn(this),null;var n=i.needReadable;ee("need readable",n),(i.length===0||i.length-t<i.highWaterMark)&&(n=!0,ee("length less than watermark",n)),i.ended||i.reading?(n=!1,ee("reading or ended",n)):n&&(ee("do read"),i.reading=!0,i.sync=!0,i.length===0&&(i.needReadable=!0),this._read(i.highWaterMark),i.sync=!1,i.reading||(t=As(e,i)));var o;return t>0?o=Fa(t,i):o=null,o===null?(i.needReadable=!0,t=0):i.length-=t,i.length===0&&(i.ended||(i.needReadable=!0),e!==t&&i.ended&&vn(this)),o!==null&&this.emit("data",o),o};function Of(t,i){var e=null;return!R.isBuffer(i)&&typeof i!="string"&&i!==null&&i!==void 0&&!t.objectMode&&(e=new TypeError("Invalid non-string/buffer chunk")),e}function If(t,i){if(!i.ended){if(i.decoder){var e=i.decoder.end();e&&e.length&&(i.buffer.push(e),i.length+=i.objectMode?1:e.length)}i.ended=!0,an(t)}}function an(t){var i=t._readableState;i.needReadable=!1,i.emittedReadable||(ee("emitReadable",i.flowing),i.emittedReadable=!0,i.sync?Ee(Ss,t):Ss(t))}function Ss(t){ee("emit readable"),t.emit("readable"),Xr(t)}function Lf(t,i){i.readingMore||(i.readingMore=!0,Ee(Rf,t,i))}function Rf(t,i){for(var e=i.length;!i.reading&&!i.flowing&&!i.ended&&i.length<i.highWaterMark&&(ee("maybeReadMore read 0"),t.read(0),e!==i.length);)e=i.length;i.readingMore=!1}re.prototype._read=function(t){this.emit("error",new Error("not implemented"))};re.prototype.pipe=function(t,i){var e=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ee("pipe count=%d opts=%j",n.pipesCount,i);var o=!i||i.end!==!1,s=o?l:d;n.endEmitted?Ee(s):e.once("end",s),t.on("unpipe",r);function r(b){ee("onunpipe"),b===e&&d()}function l(){ee("onend"),t.end()}var c=Nf(e);t.on("drain",c);var h=!1;function d(){ee("cleanup"),t.removeListener("close",_),t.removeListener("finish",v),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",r),e.removeListener("end",l),e.removeListener("end",d),e.removeListener("data",u),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var a=!1;e.on("data",u);function u(b){ee("ondata"),a=!1;var E=t.write(b);E===!1&&!a&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Ba(n.pipes,t)!==-1)&&!h&&(ee("false write response, pause",e._readableState.awaitDrain),e._readableState.awaitDrain++,a=!0),e.pause())}function f(b){ee("onerror",b),w(),t.removeListener("error",f),Sf(t,"error")===0&&t.emit("error",b)}Af(t,"error",f);function _(){t.removeListener("finish",v),w()}t.once("close",_);function v(){ee("onfinish"),t.removeListener("close",_),w()}t.once("finish",v);function w(){ee("unpipe"),e.unpipe(t)}return t.emit("pipe",e),n.flowing||(ee("pipe resume"),e.resume()),t};function Nf(t){return function(){var i=t._readableState;ee("pipeOnDrain",i.awaitDrain),i.awaitDrain&&i.awaitDrain--,i.awaitDrain===0&&t.listeners("data").length&&(i.flowing=!0,Xr(t))}}re.prototype.unpipe=function(t){var i=this._readableState;if(i.pipesCount===0)return this;if(i.pipesCount===1)return t&&t!==i.pipes?this:(t||(t=i.pipes),i.pipes=null,i.pipesCount=0,i.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var e=i.pipes,n=i.pipesCount;i.pipes=null,i.pipesCount=0,i.flowing=!1;for(var o=0;o<n;o++)e[o].emit("unpipe",this);return this}var s=Ba(i.pipes,t);return s===-1?this:(i.pipes.splice(s,1),i.pipesCount-=1,i.pipesCount===1&&(i.pipes=i.pipes[0]),t.emit("unpipe",this),this)};re.prototype.on=function(t,i){var e=Z.prototype.on.call(this,t,i);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&an(this):Ee(Mf,this))}return e};re.prototype.addListener=re.prototype.on;function Mf(t){ee("readable nexttick read 0"),t.read(0)}re.prototype.resume=function(){var t=this._readableState;return t.flowing||(ee("resume"),t.flowing=!0,Pf(this,t)),this};function Pf(t,i){i.resumeScheduled||(i.resumeScheduled=!0,Ee(kf,t,i))}function kf(t,i){i.reading||(ee("resume read 0"),t.read(0)),i.resumeScheduled=!1,i.awaitDrain=0,t.emit("resume"),Xr(t),i.flowing&&!i.reading&&t.read(0)}re.prototype.pause=function(){return ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Xr(t){var i=t._readableState;for(ee("flow",i.flowing);i.flowing&&t.read()!==null;);}re.prototype.wrap=function(t){var i=this._readableState,e=!1,n=this;t.on("end",function(){if(ee("wrapped end"),i.decoder&&!i.ended){var r=i.decoder.end();r&&r.length&&n.push(r)}n.push(null)}),t.on("data",function(r){if(ee("wrapped data"),i.decoder&&(r=i.decoder.write(r)),!(i.objectMode&&r==null)&&!(!i.objectMode&&(!r||!r.length))){var l=n.push(r);l||(e=!0,t.pause())}});for(var o in t)this[o]===void 0&&typeof t[o]=="function"&&(this[o]=function(r){return function(){return t[r].apply(t,arguments)}}(o));var s=["error","close","destroy","pause","resume"];return Xf(s,function(r){t.on(r,n.emit.bind(n,r))}),n._read=function(r){ee("wrapped _read",r),e&&(e=!1,t.resume())},n};re._fromList=Fa;function Fa(t,i){if(i.length===0)return null;var e;return i.objectMode?e=i.buffer.shift():!t||t>=i.length?(i.decoder?e=i.buffer.join(""):i.buffer.length===1?e=i.buffer.head.data:e=i.buffer.concat(i.length),i.buffer.clear()):e=Ff(t,i.buffer,i.decoder),e}function Ff(t,i,e){var n;return t<i.head.data.length?(n=i.head.data.slice(0,t),i.head.data=i.head.data.slice(t)):t===i.head.data.length?n=i.shift():n=e?Bf(t,i):Uf(t,i),n}function Bf(t,i){var e=i.head,n=1,o=e.data;for(t-=o.length;e=e.next;){var s=e.data,r=t>s.length?s.length:t;if(r===s.length?o+=s:o+=s.slice(0,t),t-=r,t===0){r===s.length?(++n,e.next?i.head=e.next:i.head=i.tail=null):(i.head=e,e.data=s.slice(r));break}++n}return i.length-=n,o}function Uf(t,i){var e=R.allocUnsafe(t),n=i.head,o=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var s=n.data,r=t>s.length?s.length:t;if(s.copy(e,e.length-t,0,r),t-=r,t===0){r===s.length?(++o,n.next?i.head=n.next:i.head=i.tail=null):(i.head=n,n.data=s.slice(r));break}++o}return i.length-=o,e}function vn(t){var i=t._readableState;if(i.length>0)throw new Error('"endReadable()" called on non-empty stream');i.endEmitted||(i.ended=!0,Ee(zf,i,t))}function zf(t,i){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,i.readable=!1,i.emit("end"))}function Xf(t,i){for(var e=0,n=t.length;e<n;e++)i(t[e],e)}function Ba(t,i){for(var e=0,n=t.length;e<n;e++)if(t[e]===i)return e;return-1}pe.WritableState=jr;ye(pe,Z);function jf(){}function Hf(t,i,e){this.chunk=t,this.encoding=i,this.callback=e,this.next=null}function jr(t,i){Object.defineProperty(this,"buffer",{get:Ra(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,i instanceof be&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var e=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=e||e===0?e:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){Kf(i,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ja(this)}jr.prototype.getBuffer=function(){for(var i=this.bufferedRequest,e=[];i;)e.push(i),i=i.next;return e};function pe(t){if(!(this instanceof pe)&&!(this instanceof be))return new pe(t);this._writableState=new jr(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev)),Z.call(this)}pe.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Vf(t,i){var e=new Error("write after end");t.emit("error",e),Ee(i,e)}function Gf(t,i,e,n){var o=!0,s=!1;return e===null?s=new TypeError("May not write null values to stream"):!R.isBuffer(e)&&typeof e!="string"&&e!==void 0&&!i.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Ee(n,s),o=!1),o}pe.prototype.write=function(t,i,e){var n=this._writableState,o=!1;return typeof i=="function"&&(e=i,i=null),R.isBuffer(t)?i="buffer":i||(i=n.defaultEncoding),typeof e!="function"&&(e=jf),n.ended?Vf(this,e):Gf(this,n,t,e)&&(n.pendingcb++,o=qf(this,n,t,i,e)),o};pe.prototype.cork=function(){var t=this._writableState;t.corked++};pe.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&Ua(this,t))};pe.prototype.setDefaultEncoding=function(i){if(typeof i=="string"&&(i=i.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((i+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+i);return this._writableState.defaultEncoding=i,this};function Wf(t,i,e){return!t.objectMode&&t.decodeStrings!==!1&&typeof i=="string"&&(i=R.from(i,e)),i}function qf(t,i,e,n,o){e=Wf(i,e,n),R.isBuffer(e)&&(n="buffer");var s=i.objectMode?1:e.length;i.length+=s;var r=i.length<i.highWaterMark;if(r||(i.needDrain=!0),i.writing||i.corked){var l=i.lastBufferedRequest;i.lastBufferedRequest=new Hf(e,n,o),l?l.next=i.lastBufferedRequest:i.bufferedRequest=i.lastBufferedRequest,i.bufferedRequestCount+=1}else Tr(t,i,!1,s,e,n,o);return r}function Tr(t,i,e,n,o,s,r){i.writelen=n,i.writecb=r,i.writing=!0,i.sync=!0,e?t._writev(o,i.onwrite):t._write(o,s,i.onwrite),i.sync=!1}function Zf(t,i,e,n,o){--i.pendingcb,e?Ee(o,n):o(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function Yf(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Kf(t,i){var e=t._writableState,n=e.sync,o=e.writecb;if(Yf(e),i)Zf(t,e,n,i,o);else{var s=za(e);!s&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&Ua(t,e),n?Ee(Ds,t,e,s,o):Ds(t,e,s,o)}}function Ds(t,i,e,n){e||$f(t,i),i.pendingcb--,n(),Xa(t,i)}function $f(t,i){i.length===0&&i.needDrain&&(i.needDrain=!1,t.emit("drain"))}function Ua(t,i){i.bufferProcessing=!0;var e=i.bufferedRequest;if(t._writev&&e&&e.next){var n=i.bufferedRequestCount,o=new Array(n),s=i.corkedRequestsFree;s.entry=e;for(var r=0;e;)o[r]=e,e=e.next,r+=1;Tr(t,i,!0,i.length,o,"",s.finish),i.pendingcb++,i.lastBufferedRequest=null,s.next?(i.corkedRequestsFree=s.next,s.next=null):i.corkedRequestsFree=new ja(i)}else{for(;e;){var l=e.chunk,c=e.encoding,h=e.callback,d=i.objectMode?1:l.length;if(Tr(t,i,!1,d,l,c,h),e=e.next,i.writing)break}e===null&&(i.lastBufferedRequest=null)}i.bufferedRequestCount=0,i.bufferedRequest=e,i.bufferProcessing=!1}pe.prototype._write=function(t,i,e){e(new Error("not implemented"))};pe.prototype._writev=null;pe.prototype.end=function(t,i,e){var n=this._writableState;typeof t=="function"?(e=t,t=null,i=null):typeof i=="function"&&(e=i,i=null),t!=null&&this.write(t,i),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Qf(this,n,e)};function za(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Cs(t,i){i.prefinished||(i.prefinished=!0,t.emit("prefinish"))}function Xa(t,i){var e=za(i);return e&&(i.pendingcb===0?(Cs(t,i),i.finished=!0,t.emit("finish")):Cs(t,i)),e}function Qf(t,i,e){i.ending=!0,Xa(t,i),e&&(i.finished?Ee(e):t.once("finish",e)),i.ended=!0,t.writable=!1}function ja(t){var i=this;this.next=null,this.entry=null,this.finish=function(e){var n=i.entry;for(i.entry=null;n;){var o=n.callback;t.pendingcb--,o(e),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=i:t.corkedRequestsFree=i}}ye(be,re);var Os=Object.keys(pe.prototype);for(var wn=0;wn<Os.length;wn++){var bn=Os[wn];be.prototype[bn]||(be.prototype[bn]=pe.prototype[bn])}function be(t){if(!(this instanceof be))return new be(t);re.call(this,t),pe.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Jf)}function Jf(){this.allowHalfOpen||this._writableState.ended||Ee(eh,this)}function eh(t){t.end()}ye(xe,be);function th(t){this.afterTransform=function(i,e){return ih(t,i,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function ih(t,i,e){var n=t._transformState;n.transforming=!1;var o=n.writecb;if(!o)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,e!=null&&t.push(e),o(i);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function xe(t){if(!(this instanceof xe))return new xe(t);be.call(this,t),this._transformState=new th(this);var i=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(e){Is(i,e)}):Is(i)})}xe.prototype.push=function(t,i){return this._transformState.needTransform=!1,be.prototype.push.call(this,t,i)};xe.prototype._transform=function(t,i,e){throw new Error("Not implemented")};xe.prototype._write=function(t,i,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=i,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};xe.prototype._read=function(t){var i=this._transformState;i.writechunk!==null&&i.writecb&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0};function Is(t,i){if(i)return t.emit("error",i);var e=t._writableState,n=t._transformState;if(e.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}ye($t,xe);function $t(t){if(!(this instanceof $t))return new $t(t);xe.call(this,t)}$t.prototype._transform=function(t,i,e){e(null,t)};ye(Le,Z);Le.Readable=re;Le.Writable=pe;Le.Duplex=be;Le.Transform=xe;Le.PassThrough=$t;Le.Stream=Le;function Le(){Z.call(this)}Le.prototype.pipe=function(t,i){var e=this;function n(d){t.writable&&t.write(d)===!1&&e.pause&&e.pause()}e.on("data",n);function o(){e.readable&&e.resume&&e.resume()}t.on("drain",o),!t._isStdio&&(!i||i.end!==!1)&&(e.on("end",r),e.on("close",l));var s=!1;function r(){s||(s=!0,t.end())}function l(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function c(d){if(h(),Z.listenerCount(this,"error")===0)throw d}e.on("error",c),t.on("error",c);function h(){e.removeListener("data",n),t.removeListener("drain",o),e.removeListener("end",r),e.removeListener("close",l),e.removeListener("error",c),t.removeListener("error",c),e.removeListener("end",h),e.removeListener("close",h),t.removeListener("close",h)}return e.on("end",h),e.on("close",h),t.on("close",h),t.emit("pipe",e),t};const nh=Object.freeze(Object.defineProperty({__proto__:null,Duplex:be,PassThrough:$t,Readable:re,Stream:Le,Transform:xe,Writable:pe,default:Le},Symbol.toStringTag,{value:"Module"})),Ha={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function rh(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Ze(t,i,e,n,o){if(i.subarray&&t.subarray){t.set(i.subarray(e,e+n),o);return}for(var s=0;s<n;s++)t[o+s]=i[e+s]}var Zi=Uint8Array,Se=Uint16Array,Yi=Int32Array,sh=4,Ls=0,Rs=1,oh=2;function ti(t){for(var i=t.length;--i>=0;)t[i]=0}var ah=0,Va=1,lh=2,uh=3,fh=258,Hr=29,Di=256,_i=Di+1+Hr,Kt=30,Vr=19,Ga=2*_i+1,xt=15,xn=16,hh=7,Gr=256,Wa=16,qa=17,Za=18,Ar=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],zi=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ch=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ya=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],dh=512,Ge=new Array((_i+2)*2);ti(Ge);var fi=new Array(Kt*2);ti(fi);var gi=new Array(dh);ti(gi);var mi=new Array(fh-uh+1);ti(mi);var Wr=new Array(Hr);ti(Wr);var Ki=new Array(Kt);ti(Ki);function En(t,i,e,n,o){this.static_tree=t,this.extra_bits=i,this.extra_base=e,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}var Ka,$a,Qa;function Tn(t,i){this.dyn_tree=t,this.max_code=0,this.stat_desc=i}function Ja(t){return t<256?gi[t]:gi[256+(t>>>7)]}function yi(t,i){t.pending_buf[t.pending++]=i&255,t.pending_buf[t.pending++]=i>>>8&255}function ge(t,i,e){t.bi_valid>xn-e?(t.bi_buf|=i<<t.bi_valid&65535,yi(t,t.bi_buf),t.bi_buf=i>>xn-t.bi_valid,t.bi_valid+=e-xn):(t.bi_buf|=i<<t.bi_valid&65535,t.bi_valid+=e)}function Pe(t,i,e){ge(t,e[i*2],e[i*2+1])}function el(t,i){var e=0;do e|=t&1,t>>>=1,e<<=1;while(--i>0);return e>>>1}function ph(t){t.bi_valid===16?(yi(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function _h(t,i){var e=i.dyn_tree,n=i.max_code,o=i.stat_desc.static_tree,s=i.stat_desc.has_stree,r=i.stat_desc.extra_bits,l=i.stat_desc.extra_base,c=i.stat_desc.max_length,h,d,a,u,f,_,v=0;for(u=0;u<=xt;u++)t.bl_count[u]=0;for(e[t.heap[t.heap_max]*2+1]=0,h=t.heap_max+1;h<Ga;h++)d=t.heap[h],u=e[e[d*2+1]*2+1]+1,u>c&&(u=c,v++),e[d*2+1]=u,!(d>n)&&(t.bl_count[u]++,f=0,d>=l&&(f=r[d-l]),_=e[d*2],t.opt_len+=_*(u+f),s&&(t.static_len+=_*(o[d*2+1]+f)));if(v!==0){do{for(u=c-1;t.bl_count[u]===0;)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(u=c;u!==0;u--)for(d=t.bl_count[u];d!==0;)a=t.heap[--h],!(a>n)&&(e[a*2+1]!==u&&(t.opt_len+=(u-e[a*2+1])*e[a*2],e[a*2+1]=u),d--)}}function tl(t,i,e){var n=new Array(xt+1),o=0,s,r;for(s=1;s<=xt;s++)n[s]=o=o+e[s-1]<<1;for(r=0;r<=i;r++){var l=t[r*2+1];l!==0&&(t[r*2]=el(n[l]++,l))}}function gh(){var t,i,e,n,o,s=new Array(xt+1);for(e=0,n=0;n<Hr-1;n++)for(Wr[n]=e,t=0;t<1<<Ar[n];t++)mi[e++]=n;for(mi[e-1]=n,o=0,n=0;n<16;n++)for(Ki[n]=o,t=0;t<1<<zi[n];t++)gi[o++]=n;for(o>>=7;n<Kt;n++)for(Ki[n]=o<<7,t=0;t<1<<zi[n]-7;t++)gi[256+o++]=n;for(i=0;i<=xt;i++)s[i]=0;for(t=0;t<=143;)Ge[t*2+1]=8,t++,s[8]++;for(;t<=255;)Ge[t*2+1]=9,t++,s[9]++;for(;t<=279;)Ge[t*2+1]=7,t++,s[7]++;for(;t<=287;)Ge[t*2+1]=8,t++,s[8]++;for(tl(Ge,_i+1,s),t=0;t<Kt;t++)fi[t*2+1]=5,fi[t*2]=el(t,5);Ka=new En(Ge,Ar,Di+1,_i,xt),$a=new En(fi,zi,0,Kt,xt),Qa=new En(new Array(0),ch,0,Vr,hh)}function il(t){var i;for(i=0;i<_i;i++)t.dyn_ltree[i*2]=0;for(i=0;i<Kt;i++)t.dyn_dtree[i*2]=0;for(i=0;i<Vr;i++)t.bl_tree[i*2]=0;t.dyn_ltree[Gr*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function nl(t){t.bi_valid>8?yi(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function mh(t,i,e,n){nl(t),yi(t,e),yi(t,~e),Ze(t.pending_buf,t.window,i,e,t.pending),t.pending+=e}function Ns(t,i,e,n){var o=i*2,s=e*2;return t[o]<t[s]||t[o]===t[s]&&n[i]<=n[e]}function An(t,i,e){for(var n=t.heap[e],o=e<<1;o<=t.heap_len&&(o<t.heap_len&&Ns(i,t.heap[o+1],t.heap[o],t.depth)&&o++,!Ns(i,n,t.heap[o],t.depth));)t.heap[e]=t.heap[o],e=o,o<<=1;t.heap[e]=n}function Ms(t,i,e){var n,o,s=0,r,l;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+s*2]<<8|t.pending_buf[t.d_buf+s*2+1],o=t.pending_buf[t.l_buf+s],s++,n===0?Pe(t,o,i):(r=mi[o],Pe(t,r+Di+1,i),l=Ar[r],l!==0&&(o-=Wr[r],ge(t,o,l)),n--,r=Ja(n),Pe(t,r,e),l=zi[r],l!==0&&(n-=Ki[r],ge(t,n,l)));while(s<t.last_lit);Pe(t,Gr,i)}function Sr(t,i){var e=i.dyn_tree,n=i.stat_desc.static_tree,o=i.stat_desc.has_stree,s=i.stat_desc.elems,r,l,c=-1,h;for(t.heap_len=0,t.heap_max=Ga,r=0;r<s;r++)e[r*2]!==0?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):e[r*2+1]=0;for(;t.heap_len<2;)h=t.heap[++t.heap_len]=c<2?++c:0,e[h*2]=1,t.depth[h]=0,t.opt_len--,o&&(t.static_len-=n[h*2+1]);for(i.max_code=c,r=t.heap_len>>1;r>=1;r--)An(t,e,r);h=s;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],An(t,e,1),l=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=l,e[h*2]=e[r*2]+e[l*2],t.depth[h]=(t.depth[r]>=t.depth[l]?t.depth[r]:t.depth[l])+1,e[r*2+1]=e[l*2+1]=h,t.heap[1]=h++,An(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_h(t,i),tl(e,c,t.bl_count)}function Ps(t,i,e){var n,o=-1,s,r=i[0*2+1],l=0,c=7,h=4;for(r===0&&(c=138,h=3),i[(e+1)*2+1]=65535,n=0;n<=e;n++)s=r,r=i[(n+1)*2+1],!(++l<c&&s===r)&&(l<h?t.bl_tree[s*2]+=l:s!==0?(s!==o&&t.bl_tree[s*2]++,t.bl_tree[Wa*2]++):l<=10?t.bl_tree[qa*2]++:t.bl_tree[Za*2]++,l=0,o=s,r===0?(c=138,h=3):s===r?(c=6,h=3):(c=7,h=4))}function ks(t,i,e){var n,o=-1,s,r=i[0*2+1],l=0,c=7,h=4;for(r===0&&(c=138,h=3),n=0;n<=e;n++)if(s=r,r=i[(n+1)*2+1],!(++l<c&&s===r)){if(l<h)do Pe(t,s,t.bl_tree);while(--l!==0);else s!==0?(s!==o&&(Pe(t,s,t.bl_tree),l--),Pe(t,Wa,t.bl_tree),ge(t,l-3,2)):l<=10?(Pe(t,qa,t.bl_tree),ge(t,l-3,3)):(Pe(t,Za,t.bl_tree),ge(t,l-11,7));l=0,o=s,r===0?(c=138,h=3):s===r?(c=6,h=3):(c=7,h=4)}}function yh(t){var i;for(Ps(t,t.dyn_ltree,t.l_desc.max_code),Ps(t,t.dyn_dtree,t.d_desc.max_code),Sr(t,t.bl_desc),i=Vr-1;i>=3&&t.bl_tree[Ya[i]*2+1]===0;i--);return t.opt_len+=3*(i+1)+5+5+4,i}function vh(t,i,e,n){var o;for(ge(t,i-257,5),ge(t,e-1,5),ge(t,n-4,4),o=0;o<n;o++)ge(t,t.bl_tree[Ya[o]*2+1],3);ks(t,t.dyn_ltree,i-1),ks(t,t.dyn_dtree,e-1)}function wh(t){var i=4093624447,e;for(e=0;e<=31;e++,i>>>=1)if(i&1&&t.dyn_ltree[e*2]!==0)return Ls;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Rs;for(e=32;e<Di;e++)if(t.dyn_ltree[e*2]!==0)return Rs;return Ls}var Fs=!1;function bh(t){Fs||(gh(),Fs=!0),t.l_desc=new Tn(t.dyn_ltree,Ka),t.d_desc=new Tn(t.dyn_dtree,$a),t.bl_desc=new Tn(t.bl_tree,Qa),t.bi_buf=0,t.bi_valid=0,il(t)}function rl(t,i,e,n){ge(t,(ah<<1)+(n?1:0),3),mh(t,i,e)}function xh(t){ge(t,Va<<1,3),Pe(t,Gr,Ge),ph(t)}function Eh(t,i,e,n){var o,s,r=0;t.level>0?(t.strm.data_type===oh&&(t.strm.data_type=wh(t)),Sr(t,t.l_desc),Sr(t,t.d_desc),r=yh(t),o=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=o&&(o=s)):o=s=e+5,e+4<=o&&i!==-1?rl(t,i,e,n):t.strategy===sh||s===o?(ge(t,(Va<<1)+(n?1:0),3),Ms(t,Ge,fi)):(ge(t,(lh<<1)+(n?1:0),3),vh(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),Ms(t,t.dyn_ltree,t.dyn_dtree)),il(t),n&&nl(t)}function ut(t,i,e){return t.pending_buf[t.d_buf+t.last_lit*2]=i>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=i&255,t.pending_buf[t.l_buf+t.last_lit]=e&255,t.last_lit++,i===0?t.dyn_ltree[e*2]++:(t.matches++,i--,t.dyn_ltree[(mi[e]+Di+1)*2]++,t.dyn_dtree[Ja(i)*2]++),t.last_lit===t.lit_bufsize-1}function Dr(t,i,e,n){for(var o=t&65535|0,s=t>>>16&65535|0,r=0;e!==0;){r=e>2e3?2e3:e,e-=r;do o=o+i[n++]|0,s=s+o|0;while(--r);o%=65521,s%=65521}return o|s<<16|0}function Th(){for(var t,i=[],e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;i[e]=t}return i}var Ah=Th();function ue(t,i,e,n){var o=Ah,s=n+e;t^=-1;for(var r=n;r<s;r++)t=t>>>8^o[(t^i[r])&255];return t^-1}var Pt=0,Sh=1,Dh=3,ft=4,Bs=5,tt=0,Us=1,ht=-2,Ch=-3,Sn=-5,Oh=-1,Ih=1,Ri=2,Lh=3,Rh=4,Nh=2,qr=8,Mh=9,Ph=29,kh=256,Cr=kh+1+Ph,Fh=30,Bh=19,Uh=2*Cr+1,zh=15,J=3,rt=258,Ie=rt+J+1,Xh=32,Zr=42,Or=69,Xi=73,ji=91,Hi=103,Et=113,li=666,le=1,Ci=2,At=3,ii=4,jh=3;function st(t,i){return t.msg=Ha[i],i}function zs(t){return(t<<1)-(t>4?9:0)}function yt(t){for(var i=t.length;--i>=0;)t[i]=0}function Je(t){var i=t.state,e=i.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(Ze(t.output,i.pending_buf,i.pending_out,e,t.next_out),t.next_out+=e,i.pending_out+=e,t.total_out+=e,t.avail_out-=e,i.pending-=e,i.pending===0&&(i.pending_out=0))}function de(t,i){Eh(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,i),t.block_start=t.strstart,Je(t.strm)}function K(t,i){t.pending_buf[t.pending++]=i}function ai(t,i){t.pending_buf[t.pending++]=i>>>8&255,t.pending_buf[t.pending++]=i&255}function Hh(t,i,e,n){var o=t.avail_in;return o>n&&(o=n),o===0?0:(t.avail_in-=o,Ze(i,t.input,t.next_in,o,e),t.state.wrap===1?t.adler=Dr(t.adler,i,o,e):t.state.wrap===2&&(t.adler=ue(t.adler,i,o,e)),t.next_in+=o,t.total_in+=o,o)}function sl(t,i){var e=t.max_chain_length,n=t.strstart,o,s,r=t.prev_length,l=t.nice_match,c=t.strstart>t.w_size-Ie?t.strstart-(t.w_size-Ie):0,h=t.window,d=t.w_mask,a=t.prev,u=t.strstart+rt,f=h[n+r-1],_=h[n+r];t.prev_length>=t.good_match&&(e>>=2),l>t.lookahead&&(l=t.lookahead);do if(o=i,!(h[o+r]!==_||h[o+r-1]!==f||h[o]!==h[n]||h[++o]!==h[n+1])){n+=2,o++;do;while(h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&h[++n]===h[++o]&&n<u);if(s=rt-(u-n),n=u-rt,s>r){if(t.match_start=i,r=s,s>=l)break;f=h[n+r-1],_=h[n+r]}}while((i=a[i&d])>c&&--e!==0);return r<=t.lookahead?r:t.lookahead}function Oi(t){var i=t.w_size,e,n,o,s,r;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-Ie)){Ze(t.window,t.window,i,i,0),t.match_start-=i,t.strstart-=i,t.block_start-=i,n=t.hash_size,e=n;do o=t.head[--e],t.head[e]=o>=i?o-i:0;while(--n);n=i,e=n;do o=t.prev[--e],t.prev[e]=o>=i?o-i:0;while(--n);s+=i}if(t.strm.avail_in===0)break;if(n=Hh(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=J)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+J-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<J)););}while(t.lookahead<Ie&&t.strm.avail_in!==0)}function Vh(t,i){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Oi(t),t.lookahead===0&&i===Pt)return le;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+e;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,de(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Ie&&(de(t,!1),t.strm.avail_out===0))return le}return t.insert=0,i===ft?(de(t,!0),t.strm.avail_out===0?At:ii):(t.strstart>t.block_start&&(de(t,!1),t.strm.avail_out===0),le)}function Dn(t,i){for(var e,n;;){if(t.lookahead<Ie){if(Oi(t),t.lookahead<Ie&&i===Pt)return le;if(t.lookahead===0)break}if(e=0,t.lookahead>=J&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+J-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-Ie&&(t.match_length=sl(t,e)),t.match_length>=J)if(n=ut(t,t.strstart-t.match_start,t.match_length-J),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=J){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+J-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=ut(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(de(t,!1),t.strm.avail_out===0))return le}return t.insert=t.strstart<J-1?t.strstart:J-1,i===ft?(de(t,!0),t.strm.avail_out===0?At:ii):t.last_lit&&(de(t,!1),t.strm.avail_out===0)?le:Ci}function Xt(t,i){for(var e,n,o;;){if(t.lookahead<Ie){if(Oi(t),t.lookahead<Ie&&i===Pt)return le;if(t.lookahead===0)break}if(e=0,t.lookahead>=J&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+J-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=J-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-Ie&&(t.match_length=sl(t,e),t.match_length<=5&&(t.strategy===Ih||t.match_length===J&&t.strstart-t.match_start>4096)&&(t.match_length=J-1)),t.prev_length>=J&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-J,n=ut(t,t.strstart-1-t.prev_match,t.prev_length-J),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+J-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=J-1,t.strstart++,n&&(de(t,!1),t.strm.avail_out===0))return le}else if(t.match_available){if(n=ut(t,0,t.window[t.strstart-1]),n&&de(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return le}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=ut(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<J-1?t.strstart:J-1,i===ft?(de(t,!0),t.strm.avail_out===0?At:ii):t.last_lit&&(de(t,!1),t.strm.avail_out===0)?le:Ci}function Gh(t,i){for(var e,n,o,s,r=t.window;;){if(t.lookahead<=rt){if(Oi(t),t.lookahead<=rt&&i===Pt)return le;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=J&&t.strstart>0&&(o=t.strstart-1,n=r[o],n===r[++o]&&n===r[++o]&&n===r[++o])){s=t.strstart+rt;do;while(n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&o<s);t.match_length=rt-(s-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=J?(e=ut(t,1,t.match_length-J),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=ut(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(de(t,!1),t.strm.avail_out===0))return le}return t.insert=0,i===ft?(de(t,!0),t.strm.avail_out===0?At:ii):t.last_lit&&(de(t,!1),t.strm.avail_out===0)?le:Ci}function Wh(t,i){for(var e;;){if(t.lookahead===0&&(Oi(t),t.lookahead===0)){if(i===Pt)return le;break}if(t.match_length=0,e=ut(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(de(t,!1),t.strm.avail_out===0))return le}return t.insert=0,i===ft?(de(t,!0),t.strm.avail_out===0?At:ii):t.last_lit&&(de(t,!1),t.strm.avail_out===0)?le:Ci}function Ne(t,i,e,n,o){this.good_length=t,this.max_lazy=i,this.nice_length=e,this.max_chain=n,this.func=o}var Wt;Wt=[new Ne(0,0,0,0,Vh),new Ne(4,4,8,4,Dn),new Ne(4,5,16,8,Dn),new Ne(4,6,32,32,Dn),new Ne(4,4,16,16,Xt),new Ne(8,16,32,32,Xt),new Ne(8,16,128,128,Xt),new Ne(8,32,128,256,Xt),new Ne(32,128,258,1024,Xt),new Ne(32,258,258,4096,Xt)];function qh(t){t.window_size=2*t.w_size,yt(t.head),t.max_lazy_match=Wt[t.level].max_lazy,t.good_match=Wt[t.level].good_length,t.nice_match=Wt[t.level].nice_length,t.max_chain_length=Wt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=J-1,t.match_available=0,t.ins_h=0}function Zh(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Se(Uh*2),this.dyn_dtree=new Se((2*Fh+1)*2),this.bl_tree=new Se((2*Bh+1)*2),yt(this.dyn_ltree),yt(this.dyn_dtree),yt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Se(zh+1),this.heap=new Se(2*Cr+1),yt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Se(2*Cr+1),yt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Yh(t){var i;return!t||!t.state?st(t,ht):(t.total_in=t.total_out=0,t.data_type=Nh,i=t.state,i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap?Zr:Et,t.adler=i.wrap===2?0:1,i.last_flush=Pt,bh(i),tt)}function ol(t){var i=Yh(t);return i===tt&&qh(t.state),i}function Kh(t,i,e,n,o,s){if(!t)return ht;var r=1;if(i===Oh&&(i=6),n<0?(r=0,n=-n):n>15&&(r=2,n-=16),o<1||o>Mh||e!==qr||n<8||n>15||i<0||i>9||s<0||s>Rh)return st(t,ht);n===8&&(n=9);var l=new Zh;return t.state=l,l.strm=t,l.wrap=r,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+J-1)/J),l.window=new Zi(l.w_size*2),l.head=new Se(l.hash_size),l.prev=new Se(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Zi(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=i,l.strategy=s,l.method=e,ol(t)}function $h(t,i){var e,n,o,s;if(!t||!t.state||i>Bs||i<0)return t?st(t,ht):ht;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===li&&i!==ft)return st(t,t.avail_out===0?Sn:ht);if(n.strm=t,e=n.last_flush,n.last_flush=i,n.status===Zr)if(n.wrap===2)t.adler=0,K(n,31),K(n,139),K(n,8),n.gzhead?(K(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),K(n,n.gzhead.time&255),K(n,n.gzhead.time>>8&255),K(n,n.gzhead.time>>16&255),K(n,n.gzhead.time>>24&255),K(n,n.level===9?2:n.strategy>=Ri||n.level<2?4:0),K(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(K(n,n.gzhead.extra.length&255),K(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=ue(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Or):(K(n,0),K(n,0),K(n,0),K(n,0),K(n,0),K(n,n.level===9?2:n.strategy>=Ri||n.level<2?4:0),K(n,jh),n.status=Et);else{var r=qr+(n.w_bits-8<<4)<<8,l=-1;n.strategy>=Ri||n.level<2?l=0:n.level<6?l=1:n.level===6?l=2:l=3,r|=l<<6,n.strstart!==0&&(r|=Xh),r+=31-r%31,n.status=Et,ai(n,r),n.strstart!==0&&(ai(n,t.adler>>>16),ai(n,t.adler&65535)),t.adler=1}if(n.status===Or)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=ue(t.adler,n.pending_buf,n.pending-o,o)),Je(t),o=n.pending,n.pending===n.pending_buf_size));)K(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=ue(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Xi)}else n.status=Xi;if(n.status===Xi)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=ue(t.adler,n.pending_buf,n.pending-o,o)),Je(t),o=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,K(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>o&&(t.adler=ue(t.adler,n.pending_buf,n.pending-o,o)),s===0&&(n.gzindex=0,n.status=ji)}else n.status=ji;if(n.status===ji)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=ue(t.adler,n.pending_buf,n.pending-o,o)),Je(t),o=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,K(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>o&&(t.adler=ue(t.adler,n.pending_buf,n.pending-o,o)),s===0&&(n.status=Hi)}else n.status=Hi;if(n.status===Hi&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Je(t),n.pending+2<=n.pending_buf_size&&(K(n,t.adler&255),K(n,t.adler>>8&255),t.adler=0,n.status=Et)):n.status=Et),n.pending!==0){if(Je(t),t.avail_out===0)return n.last_flush=-1,tt}else if(t.avail_in===0&&zs(i)<=zs(e)&&i!==ft)return st(t,Sn);if(n.status===li&&t.avail_in!==0)return st(t,Sn);if(t.avail_in!==0||n.lookahead!==0||i!==Pt&&n.status!==li){var c=n.strategy===Ri?Wh(n,i):n.strategy===Lh?Gh(n,i):Wt[n.level].func(n,i);if((c===At||c===ii)&&(n.status=li),c===le||c===At)return t.avail_out===0&&(n.last_flush=-1),tt;if(c===Ci&&(i===Sh?xh(n):i!==Bs&&(rl(n,0,0,!1),i===Dh&&(yt(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Je(t),t.avail_out===0))return n.last_flush=-1,tt}return i!==ft?tt:n.wrap<=0?Us:(n.wrap===2?(K(n,t.adler&255),K(n,t.adler>>8&255),K(n,t.adler>>16&255),K(n,t.adler>>24&255),K(n,t.total_in&255),K(n,t.total_in>>8&255),K(n,t.total_in>>16&255),K(n,t.total_in>>24&255)):(ai(n,t.adler>>>16),ai(n,t.adler&65535)),Je(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?tt:Us)}function Qh(t){var i;return!t||!t.state?ht:(i=t.state.status,i!==Zr&&i!==Or&&i!==Xi&&i!==ji&&i!==Hi&&i!==Et&&i!==li?st(t,ht):(t.state=null,i===Et?st(t,Ch):tt))}var Ni=30,Jh=12;function ec(t,i){var e,n,o,s,r,l,c,h,d,a,u,f,_,v,w,b,E,m,x,A,O,C,I,p,D;e=t.state,n=t.next_in,p=t.input,o=n+(t.avail_in-5),s=t.next_out,D=t.output,r=s-(i-t.avail_out),l=s+(t.avail_out-257),c=e.dmax,h=e.wsize,d=e.whave,a=e.wnext,u=e.window,f=e.hold,_=e.bits,v=e.lencode,w=e.distcode,b=(1<<e.lenbits)-1,E=(1<<e.distbits)-1;e:do{_<15&&(f+=p[n++]<<_,_+=8,f+=p[n++]<<_,_+=8),m=v[f&b];t:for(;;){if(x=m>>>24,f>>>=x,_-=x,x=m>>>16&255,x===0)D[s++]=m&65535;else if(x&16){A=m&65535,x&=15,x&&(_<x&&(f+=p[n++]<<_,_+=8),A+=f&(1<<x)-1,f>>>=x,_-=x),_<15&&(f+=p[n++]<<_,_+=8,f+=p[n++]<<_,_+=8),m=w[f&E];i:for(;;){if(x=m>>>24,f>>>=x,_-=x,x=m>>>16&255,x&16){if(O=m&65535,x&=15,_<x&&(f+=p[n++]<<_,_+=8,_<x&&(f+=p[n++]<<_,_+=8)),O+=f&(1<<x)-1,O>c){t.msg="invalid distance too far back",e.mode=Ni;break e}if(f>>>=x,_-=x,x=s-r,O>x){if(x=O-x,x>d&&e.sane){t.msg="invalid distance too far back",e.mode=Ni;break e}if(C=0,I=u,a===0){if(C+=h-x,x<A){A-=x;do D[s++]=u[C++];while(--x);C=s-O,I=D}}else if(a<x){if(C+=h+a-x,x-=a,x<A){A-=x;do D[s++]=u[C++];while(--x);if(C=0,a<A){x=a,A-=x;do D[s++]=u[C++];while(--x);C=s-O,I=D}}}else if(C+=a-x,x<A){A-=x;do D[s++]=u[C++];while(--x);C=s-O,I=D}for(;A>2;)D[s++]=I[C++],D[s++]=I[C++],D[s++]=I[C++],A-=3;A&&(D[s++]=I[C++],A>1&&(D[s++]=I[C++]))}else{C=s-O;do D[s++]=D[C++],D[s++]=D[C++],D[s++]=D[C++],A-=3;while(A>2);A&&(D[s++]=D[C++],A>1&&(D[s++]=D[C++]))}}else if(x&64){t.msg="invalid distance code",e.mode=Ni;break e}else{m=w[(m&65535)+(f&(1<<x)-1)];continue i}break}}else if(x&64)if(x&32){e.mode=Jh;break e}else{t.msg="invalid literal/length code",e.mode=Ni;break e}else{m=v[(m&65535)+(f&(1<<x)-1)];continue t}break}}while(n<o&&s<l);A=_>>3,n-=A,_-=A<<3,f&=(1<<_)-1,t.next_in=n,t.next_out=s,t.avail_in=n<o?5+(o-n):5-(n-o),t.avail_out=s<l?257+(l-s):257-(s-l),e.hold=f,e.bits=_}var jt=15,Xs=852,js=592,Hs=0,Cn=1,Vs=2,tc=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ic=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],nc=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],rc=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function hi(t,i,e,n,o,s,r,l){var c=l.bits,h=0,d=0,a=0,u=0,f=0,_=0,v=0,w=0,b=0,E=0,m,x,A,O,C,I=null,p=0,D,N=new Se(jt+1),F=new Se(jt+1),j=null,z=0,$,q,H;for(h=0;h<=jt;h++)N[h]=0;for(d=0;d<n;d++)N[i[e+d]]++;for(f=c,u=jt;u>=1&&N[u]===0;u--);if(f>u&&(f=u),u===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,l.bits=1,0;for(a=1;a<u&&N[a]===0;a++);for(f<a&&(f=a),w=1,h=1;h<=jt;h++)if(w<<=1,w-=N[h],w<0)return-1;if(w>0&&(t===Hs||u!==1))return-1;for(F[1]=0,h=1;h<jt;h++)F[h+1]=F[h]+N[h];for(d=0;d<n;d++)i[e+d]!==0&&(r[F[i[e+d]]++]=d);if(t===Hs?(I=j=r,D=19):t===Cn?(I=tc,p-=257,j=ic,z-=257,D=256):(I=nc,j=rc,D=-1),E=0,d=0,h=a,C=s,_=f,v=0,A=-1,b=1<<f,O=b-1,t===Cn&&b>Xs||t===Vs&&b>js)return 1;for(;;){$=h-v,r[d]<D?(q=0,H=r[d]):r[d]>D?(q=j[z+r[d]],H=I[p+r[d]]):(q=96,H=0),m=1<<h-v,x=1<<_,a=x;do x-=m,o[C+(E>>v)+x]=$<<24|q<<16|H|0;while(x!==0);for(m=1<<h-1;E&m;)m>>=1;if(m!==0?(E&=m-1,E+=m):E=0,d++,--N[h]===0){if(h===u)break;h=i[e+r[d]]}if(h>f&&(E&O)!==A){for(v===0&&(v=f),C+=a,_=h-v,w=1<<_;_+v<u&&(w-=N[_+v],!(w<=0));)_++,w<<=1;if(b+=1<<_,t===Cn&&b>Xs||t===Vs&&b>js)return 1;A=E&O,o[A]=f<<24|_<<16|C-s|0}}return E!==0&&(o[C+E]=h-v<<24|64<<16|0),l.bits=f,0}var sc=0,al=1,ll=2,Gs=4,oc=5,Mi=6,vi=0,ac=1,lc=2,dt=-2,uc=-3,fc=-4,hc=-5,Ws=8,ul=1,qs=2,Zs=3,Ys=4,Ks=5,$s=6,Qs=7,Js=8,eo=9,to=10,io=11,je=12,On=13,no=14,In=15,ro=16,so=17,oo=18,ao=19,Pi=20,ki=21,lo=22,uo=23,fo=24,ho=25,co=26,Ln=27,po=28,_o=29,ne=30,cc=31,dc=32,pc=852,_c=592;function go(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function gc(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Se(320),this.work=new Se(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function mc(t){var i;return!t||!t.state?dt:(i=t.state,t.total_in=t.total_out=i.total=0,t.msg="",i.wrap&&(t.adler=i.wrap&1),i.mode=ul,i.last=0,i.havedict=0,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Yi(pc),i.distcode=i.distdyn=new Yi(_c),i.sane=1,i.back=-1,vi)}function fl(t){var i;return!t||!t.state?dt:(i=t.state,i.wsize=0,i.whave=0,i.wnext=0,mc(t))}function yc(t,i){var e,n;return!t||!t.state||(n=t.state,i<0?(e=0,i=-i):(e=(i>>4)+1,i<48&&(i&=15)),i&&(i<8||i>15))?dt:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=e,n.wbits=i,fl(t))}function vc(t,i){var e,n;return t?(n=new gc,t.state=n,n.window=null,e=yc(t,i),e!==vi&&(t.state=null),e):dt}var mo=!0,Rn,Nn;function wc(t){if(mo){var i;for(Rn=new Yi(512),Nn=new Yi(32),i=0;i<144;)t.lens[i++]=8;for(;i<256;)t.lens[i++]=9;for(;i<280;)t.lens[i++]=7;for(;i<288;)t.lens[i++]=8;for(hi(al,t.lens,0,288,Rn,0,t.work,{bits:9}),i=0;i<32;)t.lens[i++]=5;hi(ll,t.lens,0,32,Nn,0,t.work,{bits:5}),mo=!1}t.lencode=Rn,t.lenbits=9,t.distcode=Nn,t.distbits=5}function bc(t,i,e,n){var o,s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Zi(s.wsize)),n>=s.wsize?(Ze(s.window,i,e-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>n&&(o=n),Ze(s.window,i,e-n,o,s.wnext),n-=o,n?(Ze(s.window,i,e-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}function xc(t,i){var e,n,o,s,r,l,c,h,d,a,u,f,_,v,w=0,b,E,m,x,A,O,C,I,p=new Zi(4),D,N,F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return dt;e=t.state,e.mode===je&&(e.mode=On),r=t.next_out,o=t.output,c=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,h=e.hold,d=e.bits,a=l,u=c,I=vi;e:for(;;)switch(e.mode){case ul:if(e.wrap===0){e.mode=On;break}for(;d<16;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(e.wrap&2&&h===35615){e.check=0,p[0]=h&255,p[1]=h>>>8&255,e.check=ue(e.check,p,2,0),h=0,d=0,e.mode=qs;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",e.mode=ne;break}if((h&15)!==Ws){t.msg="unknown compression method",e.mode=ne;break}if(h>>>=4,d-=4,C=(h&15)+8,e.wbits===0)e.wbits=C;else if(C>e.wbits){t.msg="invalid window size",e.mode=ne;break}e.dmax=1<<C,t.adler=e.check=1,e.mode=h&512?to:je,h=0,d=0;break;case qs:for(;d<16;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(e.flags=h,(e.flags&255)!==Ws){t.msg="unknown compression method",e.mode=ne;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=ne;break}e.head&&(e.head.text=h>>8&1),e.flags&512&&(p[0]=h&255,p[1]=h>>>8&255,e.check=ue(e.check,p,2,0)),h=0,d=0,e.mode=Zs;case Zs:for(;d<32;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}e.head&&(e.head.time=h),e.flags&512&&(p[0]=h&255,p[1]=h>>>8&255,p[2]=h>>>16&255,p[3]=h>>>24&255,e.check=ue(e.check,p,4,0)),h=0,d=0,e.mode=Ys;case Ys:for(;d<16;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}e.head&&(e.head.xflags=h&255,e.head.os=h>>8),e.flags&512&&(p[0]=h&255,p[1]=h>>>8&255,e.check=ue(e.check,p,2,0)),h=0,d=0,e.mode=Ks;case Ks:if(e.flags&1024){for(;d<16;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}e.length=h,e.head&&(e.head.extra_len=h),e.flags&512&&(p[0]=h&255,p[1]=h>>>8&255,e.check=ue(e.check,p,2,0)),h=0,d=0}else e.head&&(e.head.extra=null);e.mode=$s;case $s:if(e.flags&1024&&(f=e.length,f>l&&(f=l),f&&(e.head&&(C=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Ze(e.head.extra,n,s,f,C)),e.flags&512&&(e.check=ue(e.check,n,f,s)),l-=f,s+=f,e.length-=f),e.length))break e;e.length=0,e.mode=Qs;case Qs:if(e.flags&2048){if(l===0)break e;f=0;do C=n[s+f++],e.head&&C&&e.length<65536&&(e.head.name+=String.fromCharCode(C));while(C&&f<l);if(e.flags&512&&(e.check=ue(e.check,n,f,s)),l-=f,s+=f,C)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Js;case Js:if(e.flags&4096){if(l===0)break e;f=0;do C=n[s+f++],e.head&&C&&e.length<65536&&(e.head.comment+=String.fromCharCode(C));while(C&&f<l);if(e.flags&512&&(e.check=ue(e.check,n,f,s)),l-=f,s+=f,C)break e}else e.head&&(e.head.comment=null);e.mode=eo;case eo:if(e.flags&512){for(;d<16;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(h!==(e.check&65535)){t.msg="header crc mismatch",e.mode=ne;break}h=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=je;break;case to:for(;d<32;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}t.adler=e.check=go(h),h=0,d=0,e.mode=io;case io:if(e.havedict===0)return t.next_out=r,t.avail_out=c,t.next_in=s,t.avail_in=l,e.hold=h,e.bits=d,lc;t.adler=e.check=1,e.mode=je;case je:if(i===oc||i===Mi)break e;case On:if(e.last){h>>>=d&7,d-=d&7,e.mode=Ln;break}for(;d<3;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}switch(e.last=h&1,h>>>=1,d-=1,h&3){case 0:e.mode=no;break;case 1:if(wc(e),e.mode=Pi,i===Mi){h>>>=2,d-=2;break e}break;case 2:e.mode=so;break;case 3:t.msg="invalid block type",e.mode=ne}h>>>=2,d-=2;break;case no:for(h>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",e.mode=ne;break}if(e.length=h&65535,h=0,d=0,e.mode=In,i===Mi)break e;case In:e.mode=ro;case ro:if(f=e.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;Ze(o,n,s,f,r),l-=f,s+=f,c-=f,r+=f,e.length-=f;break}e.mode=je;break;case so:for(;d<14;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(e.nlen=(h&31)+257,h>>>=5,d-=5,e.ndist=(h&31)+1,h>>>=5,d-=5,e.ncode=(h&15)+4,h>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=ne;break}e.have=0,e.mode=oo;case oo:for(;e.have<e.ncode;){for(;d<3;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}e.lens[F[e.have++]]=h&7,h>>>=3,d-=3}for(;e.have<19;)e.lens[F[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,D={bits:e.lenbits},I=hi(sc,e.lens,0,19,e.lencode,0,e.work,D),e.lenbits=D.bits,I){t.msg="invalid code lengths set",e.mode=ne;break}e.have=0,e.mode=ao;case ao:for(;e.have<e.nlen+e.ndist;){for(;w=e.lencode[h&(1<<e.lenbits)-1],b=w>>>24,E=w>>>16&255,m=w&65535,!(b<=d);){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(m<16)h>>>=b,d-=b,e.lens[e.have++]=m;else{if(m===16){for(N=b+2;d<N;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(h>>>=b,d-=b,e.have===0){t.msg="invalid bit length repeat",e.mode=ne;break}C=e.lens[e.have-1],f=3+(h&3),h>>>=2,d-=2}else if(m===17){for(N=b+3;d<N;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}h>>>=b,d-=b,C=0,f=3+(h&7),h>>>=3,d-=3}else{for(N=b+7;d<N;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}h>>>=b,d-=b,C=0,f=11+(h&127),h>>>=7,d-=7}if(e.have+f>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=ne;break}for(;f--;)e.lens[e.have++]=C}}if(e.mode===ne)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=ne;break}if(e.lenbits=9,D={bits:e.lenbits},I=hi(al,e.lens,0,e.nlen,e.lencode,0,e.work,D),e.lenbits=D.bits,I){t.msg="invalid literal/lengths set",e.mode=ne;break}if(e.distbits=6,e.distcode=e.distdyn,D={bits:e.distbits},I=hi(ll,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,D),e.distbits=D.bits,I){t.msg="invalid distances set",e.mode=ne;break}if(e.mode=Pi,i===Mi)break e;case Pi:e.mode=ki;case ki:if(l>=6&&c>=258){t.next_out=r,t.avail_out=c,t.next_in=s,t.avail_in=l,e.hold=h,e.bits=d,ec(t,u),r=t.next_out,o=t.output,c=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,h=e.hold,d=e.bits,e.mode===je&&(e.back=-1);break}for(e.back=0;w=e.lencode[h&(1<<e.lenbits)-1],b=w>>>24,E=w>>>16&255,m=w&65535,!(b<=d);){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(E&&!(E&240)){for(x=b,A=E,O=m;w=e.lencode[O+((h&(1<<x+A)-1)>>x)],b=w>>>24,E=w>>>16&255,m=w&65535,!(x+b<=d);){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}h>>>=x,d-=x,e.back+=x}if(h>>>=b,d-=b,e.back+=b,e.length=m,E===0){e.mode=co;break}if(E&32){e.back=-1,e.mode=je;break}if(E&64){t.msg="invalid literal/length code",e.mode=ne;break}e.extra=E&15,e.mode=lo;case lo:if(e.extra){for(N=e.extra;d<N;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}e.length+=h&(1<<e.extra)-1,h>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=uo;case uo:for(;w=e.distcode[h&(1<<e.distbits)-1],b=w>>>24,E=w>>>16&255,m=w&65535,!(b<=d);){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(!(E&240)){for(x=b,A=E,O=m;w=e.distcode[O+((h&(1<<x+A)-1)>>x)],b=w>>>24,E=w>>>16&255,m=w&65535,!(x+b<=d);){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}h>>>=x,d-=x,e.back+=x}if(h>>>=b,d-=b,e.back+=b,E&64){t.msg="invalid distance code",e.mode=ne;break}e.offset=m,e.extra=E&15,e.mode=fo;case fo:if(e.extra){for(N=e.extra;d<N;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}e.offset+=h&(1<<e.extra)-1,h>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=ne;break}e.mode=ho;case ho:if(c===0)break e;if(f=u-c,e.offset>f){if(f=e.offset-f,f>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=ne;break}f>e.wnext?(f-=e.wnext,_=e.wsize-f):_=e.wnext-f,f>e.length&&(f=e.length),v=e.window}else v=o,_=r-e.offset,f=e.length;f>c&&(f=c),c-=f,e.length-=f;do o[r++]=v[_++];while(--f);e.length===0&&(e.mode=ki);break;case co:if(c===0)break e;o[r++]=e.length,c--,e.mode=ki;break;case Ln:if(e.wrap){for(;d<32;){if(l===0)break e;l--,h|=n[s++]<<d,d+=8}if(u-=c,t.total_out+=u,e.total+=u,u&&(t.adler=e.check=e.flags?ue(e.check,o,u,r-u):Dr(e.check,o,u,r-u)),u=c,(e.flags?h:go(h))!==e.check){t.msg="incorrect data check",e.mode=ne;break}h=0,d=0}e.mode=po;case po:if(e.wrap&&e.flags){for(;d<32;){if(l===0)break e;l--,h+=n[s++]<<d,d+=8}if(h!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=ne;break}h=0,d=0}e.mode=_o;case _o:I=ac;break e;case ne:I=uc;break e;case cc:return fc;case dc:default:return dt}return t.next_out=r,t.avail_out=c,t.next_in=s,t.avail_in=l,e.hold=h,e.bits=d,(e.wsize||u!==t.avail_out&&e.mode<ne&&(e.mode<Ln||i!==Gs))&&bc(t,t.output,t.next_out,u-t.avail_out),a-=t.avail_in,u-=t.avail_out,t.total_in+=a,t.total_out+=u,e.total+=u,e.wrap&&u&&(t.adler=e.check=e.flags?ue(e.check,o,u,t.next_out-u):Dr(e.check,o,u,t.next_out-u)),t.data_type=e.bits+(e.last?64:0)+(e.mode===je?128:0)+(e.mode===Pi||e.mode===In?256:0),(a===0&&u===0||i===Gs)&&I===vi&&(I=hc),I}function Ec(t){if(!t||!t.state)return dt;var i=t.state;return i.window&&(i.window=null),t.state=null,vi}var Yr=0,ni=1,ln=2,wi=3,$i=4,Qt=5,bi=6,xi=7,hl=0,cl=1,dl=2,pl=3,_l=4,gl=5,Tc=6,un=0,ml=1,Ac=2,Sc=-1,Dc=-2,Cc=-3,Oc=-5,Ic=0,Lc=1,Rc=9,Nc=-1,Mc=1,Pc=2,kc=3,Fc=4,Bc=0,Uc=0,zc=1,Xc=2,yl=8;function ze(t){if(t<ni||t>xi)throw new TypeError("Bad argument");this.mode=t,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}ze.prototype.init=function(t,i,e,n,o){this.windowBits=t,this.level=i,this.memLevel=e,this.strategy=n,(this.mode===wi||this.mode===$i)&&(this.windowBits+=16),this.mode===xi&&(this.windowBits+=32),(this.mode===Qt||this.mode===bi)&&(this.windowBits=-this.windowBits),this.strm=new rh;var s;switch(this.mode){case ni:case wi:case Qt:s=Kh(this.strm,this.level,yl,this.windowBits,this.memLevel,this.strategy);break;case ln:case $i:case bi:case xi:s=vc(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(s!==un){this._error(s);return}this.write_in_progress=!1,this.init_done=!0};ze.prototype.params=function(){throw new Error("deflateParams Not supported")};ze.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===Yr)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};ze.prototype.write=function(t,i,e,n,o,s,r){this._writeCheck(),this.write_in_progress=!0;var l=this;return Fe.nextTick(function(){l.write_in_progress=!1;var c=l._write(t,i,e,n,o,s,r);l.callback(c[0],c[1]),l.pending_close&&l.close()}),this};function jc(t,i){for(var e=0;e<t.length;e++)this[i+e]=t[e]}ze.prototype.writeSync=function(t,i,e,n,o,s,r){return this._writeCheck(),this._write(t,i,e,n,o,s,r)};ze.prototype._write=function(t,i,e,n,o,s,r){if(this.write_in_progress=!0,t!==hl&&t!==cl&&t!==dl&&t!==pl&&t!==_l&&t!==gl)throw new Error("Invalid flush value");i==null&&(i=new R(0),n=0,e=0),o._set?o.set=o._set:o.set=jc;var l=this.strm;l.avail_in=n,l.input=i,l.next_in=e,l.avail_out=r,l.output=o,l.next_out=s;var c;switch(this.mode){case ni:case wi:case Qt:c=$h(l,t);break;case xi:case ln:case $i:case bi:c=xc(l,t);break;default:throw new Error("Unknown mode "+this.mode)}return c!==ml&&c!==un&&this._error(c),this.write_in_progress=!1,[l.avail_in,l.avail_out]};ze.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===ni||this.mode===wi||this.mode===Qt?Qh(this.strm):Ec(this.strm),this.mode=Yr};var Fi;ze.prototype.reset=function(){switch(this.mode){case ni:case Qt:Fi=ol(this.strm);break;case ln:case bi:Fi=fl(this.strm);break}Fi!==un&&this._error(Fi)};ze.prototype._error=function(t){this.onerror(Ha[t]+": "+this.strm.msg,t),this.write_in_progress=!1,this.pending_close&&this.close()};const yo=Object.freeze(Object.defineProperty({__proto__:null,DEFLATE:ni,DEFLATERAW:Qt,GUNZIP:$i,GZIP:wi,INFLATE:ln,INFLATERAW:bi,NONE:Yr,UNZIP:xi,Z_BEST_COMPRESSION:Rc,Z_BEST_SPEED:Lc,Z_BINARY:Uc,Z_BLOCK:gl,Z_BUF_ERROR:Oc,Z_DATA_ERROR:Cc,Z_DEFAULT_COMPRESSION:Nc,Z_DEFAULT_STRATEGY:Bc,Z_DEFLATED:yl,Z_ERRNO:Sc,Z_FILTERED:Mc,Z_FINISH:_l,Z_FIXED:Fc,Z_FULL_FLUSH:pl,Z_HUFFMAN_ONLY:Pc,Z_NEED_DICT:Ac,Z_NO_COMPRESSION:Ic,Z_NO_FLUSH:hl,Z_OK:un,Z_PARTIAL_FLUSH:cl,Z_RLE:kc,Z_STREAM_END:ml,Z_STREAM_ERROR:Dc,Z_SYNC_FLUSH:dl,Z_TEXT:zc,Z_TREES:Tc,Z_UNKNOWN:Xc,Zlib:ze},Symbol.toStringTag,{value:"Module"}));function Hc(t,i){if(!t)throw new Error(i)}var U={};Object.keys(yo).forEach(function(t){U[t]=yo[t]});U.Z_MIN_WINDOWBITS=8;U.Z_MAX_WINDOWBITS=15;U.Z_DEFAULT_WINDOWBITS=15;U.Z_MIN_CHUNK=64;U.Z_MAX_CHUNK=1/0;U.Z_DEFAULT_CHUNK=16*1024;U.Z_MIN_MEMLEVEL=1;U.Z_MAX_MEMLEVEL=9;U.Z_DEFAULT_MEMLEVEL=8;U.Z_MIN_LEVEL=-1;U.Z_MAX_LEVEL=9;U.Z_DEFAULT_LEVEL=U.Z_DEFAULT_COMPRESSION;var Vi={Z_OK:U.Z_OK,Z_STREAM_END:U.Z_STREAM_END,Z_NEED_DICT:U.Z_NEED_DICT,Z_ERRNO:U.Z_ERRNO,Z_STREAM_ERROR:U.Z_STREAM_ERROR,Z_DATA_ERROR:U.Z_DATA_ERROR,Z_MEM_ERROR:U.Z_MEM_ERROR,Z_BUF_ERROR:U.Z_BUF_ERROR,Z_VERSION_ERROR:U.Z_VERSION_ERROR};Object.keys(Vi).forEach(function(t){Vi[Vi[t]]=t});function Vc(t){return new St(t)}function Gc(t){return new Dt(t)}function Wc(t){return new It(t)}function qc(t){return new Lt(t)}function Zc(t){return new Ct(t)}function Yc(t){return new Ot(t)}function Kc(t){return new Rt(t)}function $c(t,i,e){return typeof i=="function"&&(e=i,i={}),kt(new St(i),t,e)}function Qc(t,i){return Ft(new St(i),t)}function Jc(t,i,e){return typeof i=="function"&&(e=i,i={}),kt(new Ct(i),t,e)}function ed(t,i){return Ft(new Ct(i),t)}function td(t,i,e){return typeof i=="function"&&(e=i,i={}),kt(new It(i),t,e)}function id(t,i){return Ft(new It(i),t)}function nd(t,i,e){return typeof i=="function"&&(e=i,i={}),kt(new Rt(i),t,e)}function rd(t,i){return Ft(new Rt(i),t)}function sd(t,i,e){return typeof i=="function"&&(e=i,i={}),kt(new Dt(i),t,e)}function od(t,i){return Ft(new Dt(i),t)}function ad(t,i,e){return typeof i=="function"&&(e=i,i={}),kt(new Ot(i),t,e)}function ld(t,i){return Ft(new Ot(i),t)}function ud(t,i,e){return typeof i=="function"&&(e=i,i={}),kt(new Lt(i),t,e)}function fd(t,i){return Ft(new Lt(i),t)}function kt(t,i,e){var n=[],o=0;t.on("error",r),t.on("end",l),t.end(i),s();function s(){for(var c;(c=t.read())!==null;)n.push(c),o+=c.length;t.once("readable",s)}function r(c){t.removeListener("end",l),t.removeListener("readable",s),e(c)}function l(){var c=R.concat(n,o);n=[],e(null,c),t.close()}}function Ft(t,i){if(typeof i=="string"&&(i=new R(i)),!R.isBuffer(i))throw new TypeError("Not a string or buffer");var e=U.Z_FINISH;return t._processChunk(i,e)}function St(t){if(!(this instanceof St))return new St(t);se.call(this,t,U.DEFLATE)}function Dt(t){if(!(this instanceof Dt))return new Dt(t);se.call(this,t,U.INFLATE)}function Ct(t){if(!(this instanceof Ct))return new Ct(t);se.call(this,t,U.GZIP)}function Ot(t){if(!(this instanceof Ot))return new Ot(t);se.call(this,t,U.GUNZIP)}function It(t){if(!(this instanceof It))return new It(t);se.call(this,t,U.DEFLATERAW)}function Lt(t){if(!(this instanceof Lt))return new Lt(t);se.call(this,t,U.INFLATERAW)}function Rt(t){if(!(this instanceof Rt))return new Rt(t);se.call(this,t,U.UNZIP)}function se(t,i){if(this._opts=t=t||{},this._chunkSize=t.chunkSize||U.Z_DEFAULT_CHUNK,xe.call(this,t),t.flush&&t.flush!==U.Z_NO_FLUSH&&t.flush!==U.Z_PARTIAL_FLUSH&&t.flush!==U.Z_SYNC_FLUSH&&t.flush!==U.Z_FULL_FLUSH&&t.flush!==U.Z_FINISH&&t.flush!==U.Z_BLOCK)throw new Error("Invalid flush flag: "+t.flush);if(this._flushFlag=t.flush||U.Z_NO_FLUSH,t.chunkSize&&(t.chunkSize<U.Z_MIN_CHUNK||t.chunkSize>U.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<U.Z_MIN_WINDOWBITS||t.windowBits>U.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<U.Z_MIN_LEVEL||t.level>U.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<U.Z_MIN_MEMLEVEL||t.memLevel>U.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=U.Z_FILTERED&&t.strategy!=U.Z_HUFFMAN_ONLY&&t.strategy!=U.Z_RLE&&t.strategy!=U.Z_FIXED&&t.strategy!=U.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!R.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new U.Zlib(i);var e=this;this._hadError=!1,this._binding.onerror=function(s,r){e._binding=null,e._hadError=!0;var l=new Error(s);l.errno=r,l.code=U.codes[r],e.emit("error",l)};var n=U.Z_DEFAULT_COMPRESSION;typeof t.level=="number"&&(n=t.level);var o=U.Z_DEFAULT_STRATEGY;typeof t.strategy=="number"&&(o=t.strategy),this._binding.init(t.windowBits||U.Z_DEFAULT_WINDOWBITS,n,t.memLevel||U.Z_DEFAULT_MEMLEVEL,o,t.dictionary),this._buffer=new R(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=o,this.once("end",this.close)}ye(se,xe);se.prototype.params=function(t,i,e){if(t<U.Z_MIN_LEVEL||t>U.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(i!=U.Z_FILTERED&&i!=U.Z_HUFFMAN_ONLY&&i!=U.Z_RLE&&i!=U.Z_FIXED&&i!=U.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==t||this._strategy!==i){var n=this;this.flush(U.Z_SYNC_FLUSH,function(){n._binding.params(t,i),n._hadError||(n._level=t,n._strategy=i,e&&e())})}else Fe.nextTick(e)};se.prototype.reset=function(){return this._binding.reset()};se.prototype._flush=function(t){this._transform(new R(0),"",t)};se.prototype.flush=function(t,i){var e=this._writableState;if((typeof t=="function"||t===void 0&&!i)&&(i=t,t=U.Z_FULL_FLUSH),e.ended)i&&Fe.nextTick(i);else if(e.ending)i&&this.once("end",i);else if(e.needDrain){var n=this;this.once("drain",function(){n.flush(i)})}else this._flushFlag=t,this.write(new R(0),"",i)};se.prototype.close=function(t){if(t&&Fe.nextTick(t),!this._closed){this._closed=!0,this._binding.close();var i=this;Fe.nextTick(function(){i.emit("close")})}};se.prototype._transform=function(t,i,e){var n,o=this._writableState,s=o.ending||o.ended,r=s&&(!t||o.length===t.length);if(!t===null&&!R.isBuffer(t))return e(new Error("invalid input"));r?n=U.Z_FINISH:(n=this._flushFlag,t.length>=o.length&&(this._flushFlag=this._opts.flush||U.Z_NO_FLUSH)),this._processChunk(t,n,e)};se.prototype._processChunk=function(t,i,e){var n=t&&t.length,o=this._chunkSize-this._offset,s=0,r=this,l=typeof e=="function";if(!l){var c=[],h=0,d;this.on("error",function(v){d=v});do var a=this._binding.writeSync(i,t,s,n,this._buffer,this._offset,o);while(!this._hadError&&_(a[0],a[1]));if(this._hadError)throw d;var u=R.concat(c,h);return this.close(),u}var f=this._binding.write(i,t,s,n,this._buffer,this._offset,o);f.buffer=t,f.callback=_;function _(v,w){if(!r._hadError){var b=o-w;if(Hc(b>=0,"have should not go down"),b>0){var E=r._buffer.slice(r._offset,r._offset+b);r._offset+=b,l?r.push(E):(c.push(E),h+=E.length)}if((w===0||r._offset>=r._chunkSize)&&(o=r._chunkSize,r._offset=0,r._buffer=new R(r._chunkSize)),w===0){if(s+=n-v,n=v,!l)return!0;var m=r._binding.write(i,t,s,n,r._buffer,r._offset,r._chunkSize);m.callback=_,m.buffer=t;return}if(!l)return!1;e()}}};ye(St,se);ye(Dt,se);ye(Ct,se);ye(Ot,se);ye(It,se);ye(Lt,se);ye(Rt,se);const vo={codes:Vi,createDeflate:Vc,createInflate:Gc,createDeflateRaw:Wc,createInflateRaw:qc,createGzip:Zc,createGunzip:Yc,createUnzip:Kc,deflate:$c,deflateSync:Qc,gzip:Jc,gzipSync:ed,deflateRaw:td,deflateRawSync:id,unzip:nd,unzipSync:rd,inflate:sd,inflateSync:od,gunzip:ad,gunzipSync:ld,inflateRaw:ud,inflateRawSync:fd,Deflate:St,Inflate:Dt,Gzip:Ct,Gunzip:Ot,DeflateRaw:It,InflateRaw:Lt,Unzip:Rt,Zlib:se};var Mn={},wo;function Kr(){return wo||(wo=1,function(){Mn.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}.call(V)),Mn}var Pn={},He={},Ve={},bo;function Ke(){return bo||(bo=1,function(){var t,i,e,n,o,s,r,l=[].slice,c={}.hasOwnProperty;t=function(){var h,d,a,u,f,_;if(_=arguments[0],f=2<=arguments.length?l.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(h=0,a=f.length;h<a;h++)if(u=f[h],u!=null)for(d in u)c.call(u,d)&&(_[d]=u[d]);return _},o=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},s=function(h){var d;return!!h&&((d=typeof h)=="function"||d==="object")},e=function(h){return o(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},n=function(h){var d;if(e(h))return!h.length;for(d in h)if(c.call(h,d))return!1;return!0},r=function(h){var d,a;return s(h)&&(a=Object.getPrototypeOf(h))&&(d=a.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},i=function(h){return o(h.valueOf)?h.valueOf():h},Ve.assign=t,Ve.isFunction=o,Ve.isObject=s,Ve.isArray=e,Ve.isEmpty=n,Ve.isPlainObject=r,Ve.getValue=i}.call(V)),Ve}var kn={exports:{}},xo;function vl(){return xo||(xo=1,function(){kn.exports=function(){function t(){}return t.prototype.hasFeature=function(i,e){return!0},t.prototype.createDocumentType=function(i,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(i,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(i){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(i,e){throw new Error("This DOM method is not implemented.")},t}()}.call(V)),kn.exports}var Fn={exports:{}},Bn={exports:{}},Un={exports:{}},Eo;function hd(){return Eo||(Eo=1,function(){Un.exports=function(){function t(){}return t.prototype.handleError=function(i){throw new Error(i)},t}()}.call(V)),Un.exports}var zn={exports:{}},To;function cd(){return To||(To=1,function(){zn.exports=function(){function t(i){this.arr=i||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(i){return this.arr[i]||null},t.prototype.contains=function(i){return this.arr.indexOf(i)!==-1},t}()}.call(V)),zn.exports}var Ao;function dd(){return Ao||(Ao=1,function(){var t,i;t=hd(),i=cd(),Bn.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}}),e.prototype.getParameter=function(n){return this.params.hasOwnProperty(n)?this.params[n]:null},e.prototype.canSetParameter=function(n,o){return!0},e.prototype.setParameter=function(n,o){return o!=null?this.params[n]=o:delete this.params[n]},e}()}.call(V)),Bn.exports}var Xn={exports:{}},jn={exports:{}},Hn={exports:{}},So;function oe(){return So||(So=1,function(){Hn.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}.call(V)),Hn.exports}var Vn={exports:{}},Do;function wl(){return Do||(Do=1,function(){var t;t=oe(),De(),Vn.exports=function(){function i(e,n,o){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(o),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(i.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(i.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(i.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(i.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(i.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(i.prototype,"specified",{get:function(){return!0}}),i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},i.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},i.prototype.isEqualNode=function(e){return!(e.namespaceURI!==this.namespaceURI||e.prefix!==this.prefix||e.localName!==this.localName||e.value!==this.value)},i}()}.call(V)),Vn.exports}var Gn={exports:{}},Co;function $r(){return Co||(Co=1,function(){Gn.exports=function(){function t(i){this.nodes=i}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(i){return this.nodes[i]},t.prototype.setNamedItem=function(i){var e;return e=this.nodes[i.nodeName],this.nodes[i.nodeName]=i,e||null},t.prototype.removeNamedItem=function(i){var e;return e=this.nodes[i],delete this.nodes[i],e||null},t.prototype.item=function(i){return this.nodes[Object.keys(this.nodes)[i]]||null},t.prototype.getNamedItemNS=function(i,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(i){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(i,e){throw new Error("This DOM method is not implemented.")},t}()}.call(V)),Gn.exports}var Oo;function Qr(){return Oo||(Oo=1,function(){var t,i,e,n,o,s,r,l,c=function(d,a){for(var u in a)h.call(a,u)&&(d[u]=a[u]);function f(){this.constructor=d}return f.prototype=a.prototype,d.prototype=new f,d.__super__=a.prototype,d},h={}.hasOwnProperty;l=Ke(),r=l.isObject,s=l.isFunction,o=l.getValue,n=De(),t=oe(),i=wl(),e=$r(),jn.exports=function(d){c(a,d);function a(u,f,_){var v,w,b,E;if(a.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(f),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,_!=null&&this.attribute(_),u.type===t.Document&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this,u.children)){for(E=u.children,w=0,b=E.length;w<b;w++)if(v=E[w],v.type===t.DocType){v.name=this.name;break}}}return Object.defineProperty(a.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(a.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(a.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(a.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(a.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new e(this.attribs)),this.attributeMap}}),a.prototype.clone=function(){var u,f,_,v;_=Object.create(this),_.isRoot&&(_.documentObject=null),_.attribs={},v=this.attribs;for(f in v)h.call(v,f)&&(u=v[f],_.attribs[f]=u.clone());return _.children=[],this.children.forEach(function(w){var b;return b=w.clone(),b.parent=_,_.children.push(b)}),_},a.prototype.attribute=function(u,f){var _,v;if(u!=null&&(u=o(u)),r(u))for(_ in u)h.call(u,_)&&(v=u[_],this.attribute(_,v));else s(f)&&(f=f.apply()),this.options.keepNullAttributes&&f==null?this.attribs[u]=new i(this,u,""):f!=null&&(this.attribs[u]=new i(this,u,f));return this},a.prototype.removeAttribute=function(u){var f,_,v;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=o(u),Array.isArray(u))for(_=0,v=u.length;_<v;_++)f=u[_],delete this.attribs[f];else delete this.attribs[u];return this},a.prototype.toString=function(u){return this.options.writer.element(this,this.options.writer.filterOptions(u))},a.prototype.att=function(u,f){return this.attribute(u,f)},a.prototype.a=function(u,f){return this.attribute(u,f)},a.prototype.getAttribute=function(u){return this.attribs.hasOwnProperty(u)?this.attribs[u].value:null},a.prototype.setAttribute=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNode=function(u){return this.attribs.hasOwnProperty(u)?this.attribs[u]:null},a.prototype.setAttributeNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.removeAttributeNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagName=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNS=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setAttributeNS=function(u,f,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.removeAttributeNS=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNodeNS=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setAttributeNodeNS=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagNameNS=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.hasAttribute=function(u){return this.attribs.hasOwnProperty(u)},a.prototype.hasAttributeNS=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setIdAttribute=function(u,f){return this.attribs.hasOwnProperty(u)?this.attribs[u].isId:f},a.prototype.setIdAttributeNS=function(u,f,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setIdAttributeNode=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagName=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagNameNS=function(u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByClassName=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isEqualNode=function(u){var f,_,v;if(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(u)||u.namespaceURI!==this.namespaceURI||u.prefix!==this.prefix||u.localName!==this.localName||u.attribs.length!==this.attribs.length)return!1;for(f=_=0,v=this.attribs.length-1;0<=v?_<=v:_>=v;f=0<=v?++_:--_)if(!this.attribs[f].isEqualNode(u.attribs[f]))return!1;return!0},a}(n)}.call(V)),jn.exports}var Wn={exports:{}},qn={exports:{}},Io;function fn(){return Io||(Io=1,function(){var t,i=function(n,o){for(var s in o)e.call(o,s)&&(n[s]=o[s]);function r(){this.constructor=n}return r.prototype=o.prototype,n.prototype=new r,n.__super__=o.prototype,n},e={}.hasOwnProperty;t=De(),qn.exports=function(n){i(o,n);function o(s){o.__super__.constructor.call(this,s),this.value=""}return Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(s,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(s,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(s,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(s,r,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(s){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.data!==this.data)},o}(t)}.call(V)),qn.exports}var Lo;function Jr(){return Lo||(Lo=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;t=oe(),i=fn(),Wn.exports=function(o){e(s,o);function s(r,l){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(r){return this.options.writer.cdata(this,this.options.writer.filterOptions(r))},s}(i)}.call(V)),Wn.exports}var Zn={exports:{}},Ro;function es(){return Ro||(Ro=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;t=oe(),i=fn(),Zn.exports=function(o){e(s,o);function s(r,l){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(r){return this.options.writer.comment(this,this.options.writer.filterOptions(r))},s}(i)}.call(V)),Zn.exports}var Yn={exports:{}},No;function ts(){return No||(No=1,function(){var t,i,e,n=function(s,r){for(var l in r)o.call(r,l)&&(s[l]=r[l]);function c(){this.constructor=s}return c.prototype=r.prototype,s.prototype=new c,s.__super__=r.prototype,s},o={}.hasOwnProperty;e=Ke().isObject,i=De(),t=oe(),Yn.exports=function(s){n(r,s);function r(l,c,h,d){var a;r.__super__.constructor.call(this,l),e(c)&&(a=c,c=a.version,h=a.encoding,d=a.standalone),c||(c="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(c),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),d!=null&&(this.standalone=this.stringify.xmlStandalone(d))}return r.prototype.toString=function(l){return this.options.writer.declaration(this,this.options.writer.filterOptions(l))},r}(i)}.call(V)),Yn.exports}var Kn={exports:{}},$n={exports:{}},Mo;function is(){return Mo||(Mo=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;i=De(),t=oe(),$n.exports=function(o){e(s,o);function s(r,l,c,h,d,a){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(c==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(l));if(!h)throw new Error("Missing DTD attribute type. "+this.debugInfo(l));if(!d)throw new Error("Missing DTD attribute default. "+this.debugInfo(l));if(d.indexOf("#")!==0&&(d="#"+d),!d.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(l));if(a&&!d.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(l));this.elementName=this.stringify.name(l),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(c),this.attributeType=this.stringify.dtdAttType(h),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=d}return s.prototype.toString=function(r){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(r))},s}(i)}.call(V)),$n.exports}var Qn={exports:{}},Po;function ns(){return Po||(Po=1,function(){var t,i,e,n=function(s,r){for(var l in r)o.call(r,l)&&(s[l]=r[l]);function c(){this.constructor=s}return c.prototype=r.prototype,s.prototype=new c,s.__super__=r.prototype,s},o={}.hasOwnProperty;e=Ke().isObject,i=De(),t=oe(),Qn.exports=function(s){n(r,s);function r(l,c,h,d){if(r.__super__.constructor.call(this,l),h==null)throw new Error("Missing DTD entity name. "+this.debugInfo(h));if(d==null)throw new Error("Missing DTD entity value. "+this.debugInfo(h));if(this.pe=!!c,this.name=this.stringify.name(h),this.type=t.EntityDeclaration,!e(d))this.value=this.stringify.dtdEntityValue(d),this.internal=!0;else{if(!d.pubID&&!d.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(h));if(d.pubID&&!d.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(h));if(this.internal=!1,d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID)),d.nData!=null&&(this.nData=this.stringify.dtdNData(d.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(h))}}return Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return null}}),r.prototype.toString=function(l){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(l))},r}(i)}.call(V)),Qn.exports}var Jn={exports:{}},ko;function rs(){return ko||(ko=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;i=De(),t=oe(),Jn.exports=function(o){e(s,o);function s(r,l,c){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.name(l),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(c)}return s.prototype.toString=function(r){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(r))},s}(i)}.call(V)),Jn.exports}var er={exports:{}},Fo;function ss(){return Fo||(Fo=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;i=De(),t=oe(),er.exports=function(o){e(s,o);function s(r,l,c){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing DTD notation name. "+this.debugInfo(l));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(l));this.name=this.stringify.name(l),this.type=t.NotationDeclaration,c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),s.prototype.toString=function(r){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(r))},s}(i)}.call(V)),er.exports}var Bo;function os(){return Bo||(Bo=1,function(){var t,i,e,n,o,s,r,l,c=function(d,a){for(var u in a)h.call(a,u)&&(d[u]=a[u]);function f(){this.constructor=d}return f.prototype=a.prototype,d.prototype=new f,d.__super__=a.prototype,d},h={}.hasOwnProperty;l=Ke().isObject,r=De(),t=oe(),i=is(),n=ns(),e=rs(),o=ss(),s=$r(),Kn.exports=function(d){c(a,d);function a(u,f,_){var v,w,b,E,m,x;if(a.__super__.constructor.call(this,u),this.type=t.DocType,u.children){for(E=u.children,w=0,b=E.length;w<b;w++)if(v=E[w],v.type===t.Element){this.name=v.name;break}}this.documentObject=u,l(f)&&(m=f,f=m.pubID,_=m.sysID),_==null&&(x=[f,_],_=x[0],f=x[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),_!=null&&(this.sysID=this.stringify.dtdSysID(_))}return Object.defineProperty(a.prototype,"entities",{get:function(){var u,f,_,v,w;for(v={},w=this.children,f=0,_=w.length;f<_;f++)u=w[f],u.type===t.EntityDeclaration&&!u.pe&&(v[u.name]=u);return new s(v)}}),Object.defineProperty(a.prototype,"notations",{get:function(){var u,f,_,v,w;for(v={},w=this.children,f=0,_=w.length;f<_;f++)u=w[f],u.type===t.NotationDeclaration&&(v[u.name]=u);return new s(v)}}),Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(a.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),a.prototype.element=function(u,f){var _;return _=new e(this,u,f),this.children.push(_),this},a.prototype.attList=function(u,f,_,v,w){var b;return b=new i(this,u,f,_,v,w),this.children.push(b),this},a.prototype.entity=function(u,f){var _;return _=new n(this,!1,u,f),this.children.push(_),this},a.prototype.pEntity=function(u,f){var _;return _=new n(this,!0,u,f),this.children.push(_),this},a.prototype.notation=function(u,f){var _;return _=new o(this,u,f),this.children.push(_),this},a.prototype.toString=function(u){return this.options.writer.docType(this,this.options.writer.filterOptions(u))},a.prototype.ele=function(u,f){return this.element(u,f)},a.prototype.att=function(u,f,_,v,w){return this.attList(u,f,_,v,w)},a.prototype.ent=function(u,f){return this.entity(u,f)},a.prototype.pent=function(u,f){return this.pEntity(u,f)},a.prototype.not=function(u,f){return this.notation(u,f)},a.prototype.up=function(){return this.root()||this.documentObject},a.prototype.isEqualNode=function(u){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(u)||u.name!==this.name||u.publicId!==this.publicId||u.systemId!==this.systemId)},a}(r)}.call(V)),Kn.exports}var tr={exports:{}},Uo;function as(){return Uo||(Uo=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;t=oe(),i=De(),tr.exports=function(o){e(s,o);function s(r,l){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(r){return this.options.writer.raw(this,this.options.writer.filterOptions(r))},s}(i)}.call(V)),tr.exports}var ir={exports:{}},zo;function ls(){return zo||(zo=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;t=oe(),i=fn(),ir.exports=function(o){e(s,o);function s(r,l){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(l)}return Object.defineProperty(s.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"wholeText",{get:function(){var r,l,c;for(c="",l=this.previousSibling;l;)c=l.data+c,l=l.previousSibling;for(c+=this.data,r=this.nextSibling;r;)c=c+r.data,r=r.nextSibling;return c}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(r){return this.options.writer.text(this,this.options.writer.filterOptions(r))},s.prototype.splitText=function(r){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceWholeText=function(r){throw new Error("This DOM method is not implemented."+this.debugInfo())},s}(i)}.call(V)),ir.exports}var nr={exports:{}},Xo;function us(){return Xo||(Xo=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;t=oe(),i=fn(),nr.exports=function(o){e(s,o);function s(r,l,c){if(s.__super__.constructor.call(this,r),l==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(l),this.name=this.target,c&&(this.value=this.stringify.insValue(c))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(r){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(r))},s.prototype.isEqualNode=function(r){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(r)||r.target!==this.target)},s}(i)}.call(V)),nr.exports}var rr={exports:{}},jo;function bl(){return jo||(jo=1,function(){var t,i,e=function(o,s){for(var r in s)n.call(s,r)&&(o[r]=s[r]);function l(){this.constructor=o}return l.prototype=s.prototype,o.prototype=new l,o.__super__=s.prototype,o},n={}.hasOwnProperty;i=De(),t=oe(),rr.exports=function(o){e(s,o);function s(r){s.__super__.constructor.call(this,r),this.type=t.Dummy}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(r){return""},s}(i)}.call(V)),rr.exports}var sr={exports:{}},Ho;function pd(){return Ho||(Ho=1,function(){sr.exports=function(){function t(i){this.nodes=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(i){return this.nodes[i]||null},t}()}.call(V)),sr.exports}var or={exports:{}},Vo;function _d(){return Vo||(Vo=1,function(){or.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}.call(V)),or.exports}var Go;function De(){return Go||(Go=1,function(){var t,i,e,n,o,s,r,l,c,h,d,a,u,f,_,v,w,b={}.hasOwnProperty;w=Ke(),v=w.isObject,_=w.isFunction,f=w.isEmpty,u=w.getValue,l=null,e=null,n=null,o=null,s=null,d=null,a=null,h=null,r=null,i=null,c=null,t=null,Xn.exports=function(){function E(m){this.parent=m,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,l||(l=Qr(),e=Jr(),n=es(),o=ts(),s=os(),d=as(),a=ls(),h=us(),r=bl(),i=oe(),c=pd(),$r(),t=_d())}return Object.defineProperty(E.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(E.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(E.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(E.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(E.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(E.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(E.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(E.prototype,"previousSibling",{get:function(){var m;return m=this.parent.children.indexOf(this),this.parent.children[m-1]||null}}),Object.defineProperty(E.prototype,"nextSibling",{get:function(){var m;return m=this.parent.children.indexOf(this),this.parent.children[m+1]||null}}),Object.defineProperty(E.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(E.prototype,"textContent",{get:function(){var m,x,A,O,C;if(this.nodeType===i.Element||this.nodeType===i.DocumentFragment){for(C="",O=this.children,x=0,A=O.length;x<A;x++)m=O[x],m.textContent&&(C+=m.textContent);return C}else return null},set:function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),E.prototype.setParent=function(m){var x,A,O,C,I;for(this.parent=m,m&&(this.options=m.options,this.stringify=m.stringify),C=this.children,I=[],A=0,O=C.length;A<O;A++)x=C[A],I.push(x.setParent(this));return I},E.prototype.element=function(m,x,A){var O,C,I,p,D,N,F,j,z,$,q;if(N=null,x===null&&A==null&&(z=[{},null],x=z[0],A=z[1]),x==null&&(x={}),x=u(x),v(x)||($=[x,A],A=$[0],x=$[1]),m!=null&&(m=u(m)),Array.isArray(m))for(I=0,F=m.length;I<F;I++)C=m[I],N=this.element(C);else if(_(m))N=this.element(m.apply());else if(v(m)){for(D in m)if(b.call(m,D))if(q=m[D],_(q)&&(q=q.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(D.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q)&&f(q))N=this.dummy();else if(v(q)&&f(q))N=this.element(D);else if(!this.options.keepNullNodes&&q==null)N=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(q))for(p=0,j=q.length;p<j;p++)C=q[p],O={},O[D]=C,N=this.element(O);else v(q)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&D.indexOf(this.stringify.convertTextKey)===0?N=this.element(q):(N=this.element(D),N.element(q)):N=this.element(D,q)}else!this.options.keepNullNodes&&A===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&m.indexOf(this.stringify.convertTextKey)===0?N=this.text(A):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&m.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(A):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&m.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(A):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&m.indexOf(this.stringify.convertRawKey)===0?N=this.raw(A):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&m.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(m.substr(this.stringify.convertPIKey.length),A):N=this.node(m,x,A);if(N==null)throw new Error("Could not create any elements with: "+m+". "+this.debugInfo());return N},E.prototype.insertBefore=function(m,x,A){var O,C,I,p,D;if(m?.type)return I=m,p=x,I.setParent(this),p?(C=children.indexOf(p),D=children.splice(C),children.push(I),Array.prototype.push.apply(children,D)):children.push(I),I;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(m));return C=this.parent.children.indexOf(this),D=this.parent.children.splice(C),O=this.parent.element(m,x,A),Array.prototype.push.apply(this.parent.children,D),O},E.prototype.insertAfter=function(m,x,A){var O,C,I;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(m));return C=this.parent.children.indexOf(this),I=this.parent.children.splice(C+1),O=this.parent.element(m,x,A),Array.prototype.push.apply(this.parent.children,I),O},E.prototype.remove=function(){var m;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return m=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[m,m-m+1].concat([])),this.parent},E.prototype.node=function(m,x,A){var O,C;return m!=null&&(m=u(m)),x||(x={}),x=u(x),v(x)||(C=[x,A],A=C[0],x=C[1]),O=new l(this,m,x),A!=null&&O.text(A),this.children.push(O),O},E.prototype.text=function(m){var x;return v(m)&&this.element(m),x=new a(this,m),this.children.push(x),this},E.prototype.cdata=function(m){var x;return x=new e(this,m),this.children.push(x),this},E.prototype.comment=function(m){var x;return x=new n(this,m),this.children.push(x),this},E.prototype.commentBefore=function(m){var x,A;return x=this.parent.children.indexOf(this),A=this.parent.children.splice(x),this.parent.comment(m),Array.prototype.push.apply(this.parent.children,A),this},E.prototype.commentAfter=function(m){var x,A;return x=this.parent.children.indexOf(this),A=this.parent.children.splice(x+1),this.parent.comment(m),Array.prototype.push.apply(this.parent.children,A),this},E.prototype.raw=function(m){var x;return x=new d(this,m),this.children.push(x),this},E.prototype.dummy=function(){var m;return m=new r(this),m},E.prototype.instruction=function(m,x){var A,O,C,I,p;if(m!=null&&(m=u(m)),x!=null&&(x=u(x)),Array.isArray(m))for(I=0,p=m.length;I<p;I++)A=m[I],this.instruction(A);else if(v(m))for(A in m)b.call(m,A)&&(O=m[A],this.instruction(A,O));else _(x)&&(x=x.apply()),C=new h(this,m,x),this.children.push(C);return this},E.prototype.instructionBefore=function(m,x){var A,O;return A=this.parent.children.indexOf(this),O=this.parent.children.splice(A),this.parent.instruction(m,x),Array.prototype.push.apply(this.parent.children,O),this},E.prototype.instructionAfter=function(m,x){var A,O;return A=this.parent.children.indexOf(this),O=this.parent.children.splice(A+1),this.parent.instruction(m,x),Array.prototype.push.apply(this.parent.children,O),this},E.prototype.declaration=function(m,x,A){var O,C;return O=this.document(),C=new o(O,m,x,A),O.children.length===0?O.children.unshift(C):O.children[0].type===i.Declaration?O.children[0]=C:O.children.unshift(C),O.root()||O},E.prototype.dtd=function(m,x){var A,O,C,I,p,D,N,F,j,z;for(O=this.document(),C=new s(O,m,x),j=O.children,I=p=0,N=j.length;p<N;I=++p)if(A=j[I],A.type===i.DocType)return O.children[I]=C,C;for(z=O.children,I=D=0,F=z.length;D<F;I=++D)if(A=z[I],A.isRoot)return O.children.splice(I,0,C),C;return O.children.push(C),C},E.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},E.prototype.root=function(){var m;for(m=this;m;){if(m.type===i.Document)return m.rootObject;if(m.isRoot)return m;m=m.parent}},E.prototype.document=function(){var m;for(m=this;m;){if(m.type===i.Document)return m;m=m.parent}},E.prototype.end=function(m){return this.document().end(m)},E.prototype.prev=function(){var m;if(m=this.parent.children.indexOf(this),m<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[m-1]},E.prototype.next=function(){var m;if(m=this.parent.children.indexOf(this),m===-1||m===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[m+1]},E.prototype.importDocument=function(m){var x;return x=m.root().clone(),x.parent=this,x.isRoot=!1,this.children.push(x),this},E.prototype.debugInfo=function(m){var x,A;return m=m||this.name,m==null&&!((x=this.parent)!=null&&x.name)?"":m==null?"parent: <"+this.parent.name+">":(A=this.parent)!=null&&A.name?"node: <"+m+">, parent: <"+this.parent.name+">":"node: <"+m+">"},E.prototype.ele=function(m,x,A){return this.element(m,x,A)},E.prototype.nod=function(m,x,A){return this.node(m,x,A)},E.prototype.txt=function(m){return this.text(m)},E.prototype.dat=function(m){return this.cdata(m)},E.prototype.com=function(m){return this.comment(m)},E.prototype.ins=function(m,x){return this.instruction(m,x)},E.prototype.doc=function(){return this.document()},E.prototype.dec=function(m,x,A){return this.declaration(m,x,A)},E.prototype.e=function(m,x,A){return this.element(m,x,A)},E.prototype.n=function(m,x,A){return this.node(m,x,A)},E.prototype.t=function(m){return this.text(m)},E.prototype.d=function(m){return this.cdata(m)},E.prototype.c=function(m){return this.comment(m)},E.prototype.r=function(m){return this.raw(m)},E.prototype.i=function(m,x){return this.instruction(m,x)},E.prototype.u=function(){return this.up()},E.prototype.importXMLBuilder=function(m){return this.importDocument(m)},E.prototype.replaceChild=function(m,x){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.removeChild=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.appendChild=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.hasChildNodes=function(){return this.children.length!==0},E.prototype.cloneNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.isSupported=function(m,x){return!0},E.prototype.hasAttributes=function(){return this.attribs.length!==0},E.prototype.compareDocumentPosition=function(m){var x,A;return x=this,x===m?0:this.document()!==m.document()?(A=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?A|=t.Preceding:A|=t.Following,A):x.isAncestor(m)?t.Contains|t.Preceding:x.isDescendant(m)?t.Contains|t.Following:x.isPreceding(m)?t.Preceding:t.Following},E.prototype.isSameNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.lookupPrefix=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.isDefaultNamespace=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.lookupNamespaceURI=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.isEqualNode=function(m){var x,A,O;if(m.nodeType!==this.nodeType||m.children.length!==this.children.length)return!1;for(x=A=0,O=this.children.length-1;0<=O?A<=O:A>=O;x=0<=O?++A:--A)if(!this.children[x].isEqualNode(m.children[x]))return!1;return!0},E.prototype.getFeature=function(m,x){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.setUserData=function(m,x,A){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.getUserData=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.contains=function(m){return m?m===this||this.isDescendant(m):!1},E.prototype.isDescendant=function(m){var x,A,O,C,I;for(I=this.children,O=0,C=I.length;O<C;O++)if(x=I[O],m===x||(A=x.isDescendant(m),A))return!0;return!1},E.prototype.isAncestor=function(m){return m.isDescendant(this)},E.prototype.isPreceding=function(m){var x,A;return x=this.treePosition(m),A=this.treePosition(this),x===-1||A===-1?!1:x<A},E.prototype.isFollowing=function(m){var x,A;return x=this.treePosition(m),A=this.treePosition(this),x===-1||A===-1?!1:x>A},E.prototype.treePosition=function(m){var x,A;return A=0,x=!1,this.foreachTreeNode(this.document(),function(O){if(A++,!x&&O===m)return x=!0}),x?A:-1},E.prototype.foreachTreeNode=function(m,x){var A,O,C,I,p;for(m||(m=this.document()),I=m.children,O=0,C=I.length;O<C;O++){if(A=I[O],p=x(A))return p;if(p=this.foreachTreeNode(A,x),p)return p}},E}()}.call(V)),Xn.exports}var ar={exports:{}},Wo;function xl(){return Wo||(Wo=1,function(){var t=function(e,n){return function(){return e.apply(n,arguments)}},i={}.hasOwnProperty;ar.exports=function(){function e(n){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var o,s,r;n||(n={}),this.options=n,this.options.version||(this.options.version="1.0"),s=n.stringify||{};for(o in s)i.call(s,o)&&(r=s[o],this[o]=r)}return e.prototype.name=function(n){return this.options.noValidation?n:this.assertLegalName(""+n||"")},e.prototype.text=function(n){return this.options.noValidation?n:this.assertLegalChar(this.textEscape(""+n||""))},e.prototype.cdata=function(n){return this.options.noValidation?n:(n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n))},e.prototype.comment=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},e.prototype.raw=function(n){return this.options.noValidation?n:""+n||""},e.prototype.attValue=function(n){return this.options.noValidation?n:this.assertLegalChar(this.attEscape(n=""+n||""))},e.prototype.insTarget=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.insValue=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return this.assertLegalChar(n)},e.prototype.xmlVersion=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},e.prototype.xmlEncoding=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return this.assertLegalChar(n)},e.prototype.xmlStandalone=function(n){return this.options.noValidation?n:n?"yes":"no"},e.prototype.dtdPubID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.dtdSysID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.dtdElementValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.dtdAttType=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.dtdAttDefault=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.dtdEntityValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.dtdNData=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(n){var o,s;if(this.options.noValidation)return n;if(o="",this.options.version==="1.0"){if(o=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=n.match(o))throw new Error("Invalid character in string: "+n+" at index "+s.index)}else if(this.options.version==="1.1"&&(o=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=n.match(o)))throw new Error("Invalid character in string: "+n+" at index "+s.index);return n},e.prototype.assertLegalName=function(n){var o;if(this.options.noValidation)return n;if(this.assertLegalChar(n),o=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!n.match(o))throw new Error("Invalid character in name");return n},e.prototype.textEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},e.prototype.attEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},e}()}.call(V)),ar.exports}var lr={exports:{}},ur={exports:{}},fr={exports:{}},qo;function hn(){return qo||(qo=1,function(){fr.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}.call(V)),fr.exports}var Zo;function El(){return Zo||(Zo=1,function(){var t,i,e,n={}.hasOwnProperty;e=Ke().assign,t=oe(),ts(),os(),Jr(),es(),Qr(),as(),ls(),us(),bl(),is(),rs(),ns(),ss(),i=hn(),ur.exports=function(){function o(s){var r,l,c;s||(s={}),this.options=s,l=s.writer||{};for(r in l)n.call(l,r)&&(c=l[r],this["_"+r]=this[r],this[r]=c)}return o.prototype.filterOptions=function(s){var r,l,c,h,d,a,u,f;return s||(s={}),s=e({},this.options,s),r={writer:this},r.pretty=s.pretty||!1,r.allowEmpty=s.allowEmpty||!1,r.indent=(l=s.indent)!=null?l:"  ",r.newline=(c=s.newline)!=null?c:`
`,r.offset=(h=s.offset)!=null?h:0,r.dontPrettyTextNodes=(d=(a=s.dontPrettyTextNodes)!=null?a:s.dontprettytextnodes)!=null?d:0,r.spaceBeforeSlash=(u=(f=s.spaceBeforeSlash)!=null?f:s.spacebeforeslash)!=null?u:"",r.spaceBeforeSlash===!0&&(r.spaceBeforeSlash=" "),r.suppressPrettyCount=0,r.user={},r.state=i.None,r},o.prototype.indent=function(s,r,l){var c;return!r.pretty||r.suppressPrettyCount?"":r.pretty&&(c=(l||0)+r.offset+1,c>0)?new Array(c).join(r.indent):""},o.prototype.endline=function(s,r,l){return!r.pretty||r.suppressPrettyCount?"":r.newline},o.prototype.attribute=function(s,r,l){var c;return this.openAttribute(s,r,l),c=" "+s.name+'="'+s.value+'"',this.closeAttribute(s,r,l),c},o.prototype.cdata=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<![CDATA[",r.state=i.InsideTag,c+=s.value,r.state=i.CloseTag,c+="]]>"+this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.comment=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<!-- ",r.state=i.InsideTag,c+=s.value,r.state=i.CloseTag,c+=" -->"+this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.declaration=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<?xml",r.state=i.InsideTag,c+=' version="'+s.version+'"',s.encoding!=null&&(c+=' encoding="'+s.encoding+'"'),s.standalone!=null&&(c+=' standalone="'+s.standalone+'"'),r.state=i.CloseTag,c+=r.spaceBeforeSlash+"?>",c+=this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.docType=function(s,r,l){var c,h,d,a,u;if(l||(l=0),this.openNode(s,r,l),r.state=i.OpenTag,a=this.indent(s,r,l),a+="<!DOCTYPE "+s.root().name,s.pubID&&s.sysID?a+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.sysID&&(a+=' SYSTEM "'+s.sysID+'"'),s.children.length>0){for(a+=" [",a+=this.endline(s,r,l),r.state=i.InsideTag,u=s.children,h=0,d=u.length;h<d;h++)c=u[h],a+=this.writeChildNode(c,r,l+1);r.state=i.CloseTag,a+="]"}return r.state=i.CloseTag,a+=r.spaceBeforeSlash+">",a+=this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),a},o.prototype.element=function(s,r,l){var c,h,d,a,u,f,_,v,w,b,E,m,x,A;l||(l=0),b=!1,E="",this.openNode(s,r,l),r.state=i.OpenTag,E+=this.indent(s,r,l)+"<"+s.name,m=s.attribs;for(w in m)n.call(m,w)&&(c=m[w],E+=this.attribute(c,r,l));if(d=s.children.length,a=d===0?null:s.children[0],d===0||s.children.every(function(O){return(O.type===t.Text||O.type===t.Raw)&&O.value===""}))r.allowEmpty?(E+=">",r.state=i.CloseTag,E+="</"+s.name+">"+this.endline(s,r,l)):(r.state=i.CloseTag,E+=r.spaceBeforeSlash+"/>"+this.endline(s,r,l));else if(r.pretty&&d===1&&(a.type===t.Text||a.type===t.Raw)&&a.value!=null)E+=">",r.state=i.InsideTag,r.suppressPrettyCount++,b=!0,E+=this.writeChildNode(a,r,l+1),r.suppressPrettyCount--,b=!1,r.state=i.CloseTag,E+="</"+s.name+">"+this.endline(s,r,l);else{if(r.dontPrettyTextNodes){for(x=s.children,u=0,_=x.length;u<_;u++)if(h=x[u],(h.type===t.Text||h.type===t.Raw)&&h.value!=null){r.suppressPrettyCount++,b=!0;break}}for(E+=">"+this.endline(s,r,l),r.state=i.InsideTag,A=s.children,f=0,v=A.length;f<v;f++)h=A[f],E+=this.writeChildNode(h,r,l+1);r.state=i.CloseTag,E+=this.indent(s,r,l)+"</"+s.name+">",b&&r.suppressPrettyCount--,E+=this.endline(s,r,l),r.state=i.None}return this.closeNode(s,r,l),E},o.prototype.writeChildNode=function(s,r,l){switch(s.type){case t.CData:return this.cdata(s,r,l);case t.Comment:return this.comment(s,r,l);case t.Element:return this.element(s,r,l);case t.Raw:return this.raw(s,r,l);case t.Text:return this.text(s,r,l);case t.ProcessingInstruction:return this.processingInstruction(s,r,l);case t.Dummy:return"";case t.Declaration:return this.declaration(s,r,l);case t.DocType:return this.docType(s,r,l);case t.AttributeDeclaration:return this.dtdAttList(s,r,l);case t.ElementDeclaration:return this.dtdElement(s,r,l);case t.EntityDeclaration:return this.dtdEntity(s,r,l);case t.NotationDeclaration:return this.dtdNotation(s,r,l);default:throw new Error("Unknown XML node type: "+s.constructor.name)}},o.prototype.processingInstruction=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<?",r.state=i.InsideTag,c+=s.target,s.value&&(c+=" "+s.value),r.state=i.CloseTag,c+=r.spaceBeforeSlash+"?>",c+=this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.raw=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l),r.state=i.InsideTag,c+=s.value,r.state=i.CloseTag,c+=this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.text=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l),r.state=i.InsideTag,c+=s.value,r.state=i.CloseTag,c+=this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.dtdAttList=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<!ATTLIST",r.state=i.InsideTag,c+=" "+s.elementName+" "+s.attributeName+" "+s.attributeType,s.defaultValueType!=="#DEFAULT"&&(c+=" "+s.defaultValueType),s.defaultValue&&(c+=' "'+s.defaultValue+'"'),r.state=i.CloseTag,c+=r.spaceBeforeSlash+">"+this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.dtdElement=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<!ELEMENT",r.state=i.InsideTag,c+=" "+s.name+" "+s.value,r.state=i.CloseTag,c+=r.spaceBeforeSlash+">"+this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.dtdEntity=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<!ENTITY",r.state=i.InsideTag,s.pe&&(c+=" %"),c+=" "+s.name,s.value?c+=' "'+s.value+'"':(s.pubID&&s.sysID?c+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.sysID&&(c+=' SYSTEM "'+s.sysID+'"'),s.nData&&(c+=" NDATA "+s.nData)),r.state=i.CloseTag,c+=r.spaceBeforeSlash+">"+this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.dtdNotation=function(s,r,l){var c;return this.openNode(s,r,l),r.state=i.OpenTag,c=this.indent(s,r,l)+"<!NOTATION",r.state=i.InsideTag,c+=" "+s.name,s.pubID&&s.sysID?c+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.pubID?c+=' PUBLIC "'+s.pubID+'"':s.sysID&&(c+=' SYSTEM "'+s.sysID+'"'),r.state=i.CloseTag,c+=r.spaceBeforeSlash+">"+this.endline(s,r,l),r.state=i.None,this.closeNode(s,r,l),c},o.prototype.openNode=function(s,r,l){},o.prototype.closeNode=function(s,r,l){},o.prototype.openAttribute=function(s,r,l){},o.prototype.closeAttribute=function(s,r,l){},o}()}.call(V)),ur.exports}var Yo;function fs(){return Yo||(Yo=1,function(){var t,i=function(n,o){for(var s in o)e.call(o,s)&&(n[s]=o[s]);function r(){this.constructor=n}return r.prototype=o.prototype,n.prototype=new r,n.__super__=o.prototype,n},e={}.hasOwnProperty;t=El(),lr.exports=function(n){i(o,n);function o(s){o.__super__.constructor.call(this,s)}return o.prototype.document=function(s,r){var l,c,h,d,a;for(r=this.filterOptions(r),d="",a=s.children,c=0,h=a.length;c<h;c++)l=a[c],d+=this.writeChildNode(l,r,0);return r.pretty&&d.slice(-r.newline.length)===r.newline&&(d=d.slice(0,-r.newline.length)),d},o}(t)}.call(V)),lr.exports}var Ko;function Tl(){return Ko||(Ko=1,function(){var t,i,e,n,o,s,r,l=function(h,d){for(var a in d)c.call(d,a)&&(h[a]=d[a]);function u(){this.constructor=h}return u.prototype=d.prototype,h.prototype=new u,h.__super__=d.prototype,h},c={}.hasOwnProperty;r=Ke().isPlainObject,e=vl(),i=dd(),n=De(),t=oe(),s=xl(),o=fs(),Fn.exports=function(h){l(d,h);function d(a){d.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new i,a||(a={}),a.writer||(a.writer=new o),this.options=a,this.stringify=new s(a)}return Object.defineProperty(d.prototype,"implementation",{value:new e}),Object.defineProperty(d.prototype,"doctype",{get:function(){var a,u,f,_;for(_=this.children,u=0,f=_.length;u<f;u++)if(a=_[u],a.type===t.DocType)return a;return null}}),Object.defineProperty(d.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(d.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(d.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(d.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(d.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(d.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(d.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(d.prototype,"origin",{get:function(){return null}}),Object.defineProperty(d.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(d.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(d.prototype,"contentType",{get:function(){return null}}),d.prototype.end=function(a){var u;return u={},a?r(a)&&(u=a,a=this.options.writer):a=this.options.writer,a.document(this,a.filterOptions(u))},d.prototype.toString=function(a){return this.options.writer.document(this,this.options.writer.filterOptions(a))},d.prototype.createElement=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createTextNode=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createComment=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createCDATASection=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createProcessingInstruction=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createAttribute=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createEntityReference=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagName=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.importNode=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createElementNS=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createAttributeNS=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagNameNS=function(a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementById=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.adoptNode=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.renameNode=function(a,u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByClassName=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createEvent=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createNodeIterator=function(a,u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createTreeWalker=function(a,u,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d}(n)}.call(V)),Fn.exports}var hr={exports:{}},$o;function gd(){return $o||($o=1,function(){var t,i,e,n,o,s,r,l,c,h,d,a,u,f,_,v,w,b,E,m,x,A,O,C={}.hasOwnProperty;O=Ke(),x=O.isObject,m=O.isFunction,A=O.isPlainObject,E=O.getValue,t=oe(),a=Tl(),u=Qr(),n=Jr(),o=es(),_=as(),b=ls(),f=us(),h=ts(),d=os(),s=is(),l=ns(),r=rs(),c=ss(),e=wl(),w=xl(),v=fs(),i=hn(),hr.exports=function(){function I(p,D,N){var F;this.name="?xml",this.type=t.Document,p||(p={}),F={},p.writer?A(p.writer)&&(F=p.writer,p.writer=new v):p.writer=new v,this.options=p,this.writer=p.writer,this.writerOptions=this.writer.filterOptions(F),this.stringify=new w(p),this.onDataCallback=D||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return I.prototype.createChildNode=function(p){var D,N,F,j,z,$,q,H;switch(p.type){case t.CData:this.cdata(p.value);break;case t.Comment:this.comment(p.value);break;case t.Element:F={},q=p.attribs;for(N in q)C.call(q,N)&&(D=q[N],F[N]=D.value);this.node(p.name,F);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(p.value);break;case t.Text:this.text(p.value);break;case t.ProcessingInstruction:this.instruction(p.target,p.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+p.constructor.name)}for(H=p.children,z=0,$=H.length;z<$;z++)j=H[z],this.createChildNode(j),j.type===t.Element&&this.up();return this},I.prototype.dummy=function(){return this},I.prototype.node=function(p,D,N){var F;if(p==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(p));return this.openCurrent(),p=E(p),D==null&&(D={}),D=E(D),x(D)||(F=[D,N],N=F[0],D=F[1]),this.currentNode=new u(this,p,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},I.prototype.element=function(p,D,N){var F,j,z,$,q,H;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(p)||x(p)||m(p))for($=this.options.noValidation,this.options.noValidation=!0,H=new a(this.options).element("TEMP_ROOT"),H.element(p),this.options.noValidation=$,q=H.children,j=0,z=q.length;j<z;j++)F=q[j],this.createChildNode(F),F.type===t.Element&&this.up();else this.node(p,D,N);return this},I.prototype.attribute=function(p,D){var N,F;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(p));if(p!=null&&(p=E(p)),x(p))for(N in p)C.call(p,N)&&(F=p[N],this.attribute(N,F));else m(D)&&(D=D.apply()),this.options.keepNullAttributes&&D==null?this.currentNode.attribs[p]=new e(this,p,""):D!=null&&(this.currentNode.attribs[p]=new e(this,p,D));return this},I.prototype.text=function(p){var D;return this.openCurrent(),D=new b(this,p),this.onData(this.writer.text(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.cdata=function(p){var D;return this.openCurrent(),D=new n(this,p),this.onData(this.writer.cdata(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.comment=function(p){var D;return this.openCurrent(),D=new o(this,p),this.onData(this.writer.comment(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.raw=function(p){var D;return this.openCurrent(),D=new _(this,p),this.onData(this.writer.raw(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.instruction=function(p,D){var N,F,j,z,$;if(this.openCurrent(),p!=null&&(p=E(p)),D!=null&&(D=E(D)),Array.isArray(p))for(N=0,z=p.length;N<z;N++)F=p[N],this.instruction(F);else if(x(p))for(F in p)C.call(p,F)&&(j=p[F],this.instruction(F,j));else m(D)&&(D=D.apply()),$=new f(this,p,D),this.onData(this.writer.processingInstruction($,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},I.prototype.declaration=function(p,D,N){var F;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return F=new h(this,p,D,N),this.onData(this.writer.declaration(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.doctype=function(p,D,N){if(this.openCurrent(),p==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new d(this,D,N),this.currentNode.rootNodeName=p,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},I.prototype.dtdElement=function(p,D){var N;return this.openCurrent(),N=new r(this,p,D),this.onData(this.writer.dtdElement(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.attList=function(p,D,N,F,j){var z;return this.openCurrent(),z=new s(this,p,D,N,F,j),this.onData(this.writer.dtdAttList(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.entity=function(p,D){var N;return this.openCurrent(),N=new l(this,!1,p,D),this.onData(this.writer.dtdEntity(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.pEntity=function(p,D){var N;return this.openCurrent(),N=new l(this,!0,p,D),this.onData(this.writer.dtdEntity(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.notation=function(p,D){var N;return this.openCurrent(),N=new c(this,p,D),this.onData(this.writer.dtdNotation(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},I.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},I.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},I.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},I.prototype.openNode=function(p){var D,N,F,j;if(!p.isOpen){if(!this.root&&this.currentLevel===0&&p.type===t.Element&&(this.root=p),N="",p.type===t.Element){this.writerOptions.state=i.OpenTag,N=this.writer.indent(p,this.writerOptions,this.currentLevel)+"<"+p.name,j=p.attribs;for(F in j)C.call(j,F)&&(D=j[F],N+=this.writer.attribute(D,this.writerOptions,this.currentLevel));N+=(p.children?">":"/>")+this.writer.endline(p,this.writerOptions,this.currentLevel),this.writerOptions.state=i.InsideTag}else this.writerOptions.state=i.OpenTag,N=this.writer.indent(p,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+p.rootNodeName,p.pubID&&p.sysID?N+=' PUBLIC "'+p.pubID+'" "'+p.sysID+'"':p.sysID&&(N+=' SYSTEM "'+p.sysID+'"'),p.children?(N+=" [",this.writerOptions.state=i.InsideTag):(this.writerOptions.state=i.CloseTag,N+=">"),N+=this.writer.endline(p,this.writerOptions,this.currentLevel);return this.onData(N,this.currentLevel),p.isOpen=!0}},I.prototype.closeNode=function(p){var D;if(!p.isClosed)return D="",this.writerOptions.state=i.CloseTag,p.type===t.Element?D=this.writer.indent(p,this.writerOptions,this.currentLevel)+"</"+p.name+">"+this.writer.endline(p,this.writerOptions,this.currentLevel):D=this.writer.indent(p,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(p,this.writerOptions,this.currentLevel),this.writerOptions.state=i.None,this.onData(D,this.currentLevel),p.isClosed=!0},I.prototype.onData=function(p,D){return this.documentStarted=!0,this.onDataCallback(p,D+1)},I.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},I.prototype.debugInfo=function(p){return p==null?"":"node: <"+p+">"},I.prototype.ele=function(){return this.element.apply(this,arguments)},I.prototype.nod=function(p,D,N){return this.node(p,D,N)},I.prototype.txt=function(p){return this.text(p)},I.prototype.dat=function(p){return this.cdata(p)},I.prototype.com=function(p){return this.comment(p)},I.prototype.ins=function(p,D){return this.instruction(p,D)},I.prototype.dec=function(p,D,N){return this.declaration(p,D,N)},I.prototype.dtd=function(p,D,N){return this.doctype(p,D,N)},I.prototype.e=function(p,D,N){return this.element(p,D,N)},I.prototype.n=function(p,D,N){return this.node(p,D,N)},I.prototype.t=function(p){return this.text(p)},I.prototype.d=function(p){return this.cdata(p)},I.prototype.c=function(p){return this.comment(p)},I.prototype.r=function(p){return this.raw(p)},I.prototype.i=function(p,D){return this.instruction(p,D)},I.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},I.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},I.prototype.ent=function(p,D){return this.entity(p,D)},I.prototype.pent=function(p,D){return this.pEntity(p,D)},I.prototype.not=function(p,D){return this.notation(p,D)},I}()}.call(V)),hr.exports}var cr={exports:{}},Qo;function md(){return Qo||(Qo=1,function(){var t,i,e,n=function(s,r){for(var l in r)o.call(r,l)&&(s[l]=r[l]);function c(){this.constructor=s}return c.prototype=r.prototype,s.prototype=new c,s.__super__=r.prototype,s},o={}.hasOwnProperty;t=oe(),e=El(),i=hn(),cr.exports=function(s){n(r,s);function r(l,c){this.stream=l,r.__super__.constructor.call(this,c)}return r.prototype.endline=function(l,c,h){return l.isLastRootNode&&c.state===i.CloseTag?"":r.__super__.endline.call(this,l,c,h)},r.prototype.document=function(l,c){var h,d,a,u,f,_,v,w,b;for(v=l.children,d=a=0,f=v.length;a<f;d=++a)h=v[d],h.isLastRootNode=d===l.children.length-1;for(c=this.filterOptions(c),w=l.children,b=[],u=0,_=w.length;u<_;u++)h=w[u],b.push(this.writeChildNode(h,c,0));return b},r.prototype.attribute=function(l,c,h){return this.stream.write(r.__super__.attribute.call(this,l,c,h))},r.prototype.cdata=function(l,c,h){return this.stream.write(r.__super__.cdata.call(this,l,c,h))},r.prototype.comment=function(l,c,h){return this.stream.write(r.__super__.comment.call(this,l,c,h))},r.prototype.declaration=function(l,c,h){return this.stream.write(r.__super__.declaration.call(this,l,c,h))},r.prototype.docType=function(l,c,h){var d,a,u,f;if(h||(h=0),this.openNode(l,c,h),c.state=i.OpenTag,this.stream.write(this.indent(l,c,h)),this.stream.write("<!DOCTYPE "+l.root().name),l.pubID&&l.sysID?this.stream.write(' PUBLIC "'+l.pubID+'" "'+l.sysID+'"'):l.sysID&&this.stream.write(' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(l,c,h)),c.state=i.InsideTag,f=l.children,a=0,u=f.length;a<u;a++)d=f[a],this.writeChildNode(d,c,h+1);c.state=i.CloseTag,this.stream.write("]")}return c.state=i.CloseTag,this.stream.write(c.spaceBeforeSlash+">"),this.stream.write(this.endline(l,c,h)),c.state=i.None,this.closeNode(l,c,h)},r.prototype.element=function(l,c,h){var d,a,u,f,_,v,w,b,E;h||(h=0),this.openNode(l,c,h),c.state=i.OpenTag,this.stream.write(this.indent(l,c,h)+"<"+l.name),b=l.attribs;for(w in b)o.call(b,w)&&(d=b[w],this.attribute(d,c,h));if(u=l.children.length,f=u===0?null:l.children[0],u===0||l.children.every(function(m){return(m.type===t.Text||m.type===t.Raw)&&m.value===""}))c.allowEmpty?(this.stream.write(">"),c.state=i.CloseTag,this.stream.write("</"+l.name+">")):(c.state=i.CloseTag,this.stream.write(c.spaceBeforeSlash+"/>"));else if(c.pretty&&u===1&&(f.type===t.Text||f.type===t.Raw)&&f.value!=null)this.stream.write(">"),c.state=i.InsideTag,c.suppressPrettyCount++,this.writeChildNode(f,c,h+1),c.suppressPrettyCount--,c.state=i.CloseTag,this.stream.write("</"+l.name+">");else{for(this.stream.write(">"+this.endline(l,c,h)),c.state=i.InsideTag,E=l.children,_=0,v=E.length;_<v;_++)a=E[_],this.writeChildNode(a,c,h+1);c.state=i.CloseTag,this.stream.write(this.indent(l,c,h)+"</"+l.name+">")}return this.stream.write(this.endline(l,c,h)),c.state=i.None,this.closeNode(l,c,h)},r.prototype.processingInstruction=function(l,c,h){return this.stream.write(r.__super__.processingInstruction.call(this,l,c,h))},r.prototype.raw=function(l,c,h){return this.stream.write(r.__super__.raw.call(this,l,c,h))},r.prototype.text=function(l,c,h){return this.stream.write(r.__super__.text.call(this,l,c,h))},r.prototype.dtdAttList=function(l,c,h){return this.stream.write(r.__super__.dtdAttList.call(this,l,c,h))},r.prototype.dtdElement=function(l,c,h){return this.stream.write(r.__super__.dtdElement.call(this,l,c,h))},r.prototype.dtdEntity=function(l,c,h){return this.stream.write(r.__super__.dtdEntity.call(this,l,c,h))},r.prototype.dtdNotation=function(l,c,h){return this.stream.write(r.__super__.dtdNotation.call(this,l,c,h))},r}(e)}.call(V)),cr.exports}var Jo;function yd(){return Jo||(Jo=1,function(){var t,i,e,n,o,s,r,l,c,h;h=Ke(),l=h.assign,c=h.isFunction,e=vl(),n=Tl(),o=gd(),r=fs(),s=md(),t=oe(),i=hn(),He.create=function(d,a,u,f){var _,v;if(d==null)throw new Error("Root element needs a name.");return f=l({},a,u,f),_=new n(f),v=_.element(d),f.headless||(_.declaration(f),(f.pubID!=null||f.sysID!=null)&&_.dtd(f)),v},He.begin=function(d,a,u){var f;return c(d)&&(f=[d,a],a=f[0],u=f[1],d={}),a?new o(d,a,u):new n(d)},He.stringWriter=function(d){return new r(d)},He.streamWriter=function(d,a){return new s(d,a)},He.implementation=new e,He.nodeType=t,He.writerState=i}.call(V)),He}var ea;function vd(){return ea||(ea=1,function(){var t,i,e,n,o,s={}.hasOwnProperty;t=yd(),i=Kr().defaults,n=function(r){return typeof r=="string"&&(r.indexOf("&")>=0||r.indexOf(">")>=0||r.indexOf("<")>=0)},o=function(r){return"<![CDATA["+e(r)+"]]>"},e=function(r){return r.replace("]]>","]]]]><![CDATA[>")},Pn.Builder=function(){function r(l){var c,h,d;this.options={},h=i["0.2"];for(c in h)s.call(h,c)&&(d=h[c],this.options[c]=d);for(c in l)s.call(l,c)&&(d=l[c],this.options[c]=d)}return r.prototype.buildObject=function(l){var c,h,d,a,u;return c=this.options.attrkey,h=this.options.charkey,Object.keys(l).length===1&&this.options.rootName===i["0.2"].rootName?(u=Object.keys(l)[0],l=l[u]):u=this.options.rootName,d=function(f){return function(_,v){var w,b,E,m,x,A;if(typeof v!="object")f.options.cdata&&n(v)?_.raw(o(v)):_.txt(v);else if(Array.isArray(v)){for(m in v)if(s.call(v,m)){b=v[m];for(x in b)E=b[x],_=d(_.ele(x),E).up()}}else for(x in v)if(s.call(v,x))if(b=v[x],x===c){if(typeof b=="object")for(w in b)A=b[w],_=_.att(w,A)}else if(x===h)f.options.cdata&&n(b)?_=_.raw(o(b)):_=_.txt(b);else if(Array.isArray(b))for(m in b)s.call(b,m)&&(E=b[m],typeof E=="string"?f.options.cdata&&n(E)?_=_.ele(x).raw(o(E)).up():_=_.ele(x,E).up():_=d(_.ele(x),E).up());else typeof b=="object"?_=d(_.ele(x),b).up():typeof b=="string"&&f.options.cdata&&n(b)?_=_.ele(x).raw(o(b)).up():(b==null&&(b=""),_=_.ele(x,b.toString()).up());return _}}(this),a=t.create(u,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),d(a,l).end(this.options.renderOpts)},r}()}.call(V)),Pn}var dr={},pr={};const wd=tn(nh),bd=tn(Tf);var ta;function xd(){return ta||(ta=1,function(t){(function(i){i.parser=function(y,g){return new n(y,g)},i.SAXParser=n,i.SAXStream=d,i.createStream=h,i.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];i.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(y,g){if(!(this instanceof n))return new n(y,g);var L=this;s(L),L.q=L.c="",L.bufferCheckPosition=i.MAX_BUFFER_LENGTH,L.opt=g||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!y,L.noscript=!!(y||L.opt.noscript),L.state=p.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=L.strictEntities?Object.create(i.XML_ENTITIES):Object.create(i.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(v)),L.opt.unquotedAttributeValues===void 0&&(L.opt.unquotedAttributeValues=!y),L.trackPosition=L.opt.position!==!1,L.trackPosition&&(L.position=L.line=L.column=0),N(L,"onready")}Object.create||(Object.create=function(y){function g(){}g.prototype=y;var L=new g;return L}),Object.keys||(Object.keys=function(y){var g=[];for(var L in y)y.hasOwnProperty(L)&&g.push(L);return g});function o(y){for(var g=Math.max(i.MAX_BUFFER_LENGTH,10),L=0,S=0,G=e.length;S<G;S++){var W=y[e[S]].length;if(W>g)switch(e[S]){case"textNode":j(y);break;case"cdata":F(y,"oncdata",y.cdata),y.cdata="";break;case"script":F(y,"onscript",y.script),y.script="";break;default:$(y,"Max buffer length exceeded: "+e[S])}L=Math.max(L,W)}var ie=i.MAX_BUFFER_LENGTH-L;y.bufferCheckPosition=ie+y.position}function s(y){for(var g=0,L=e.length;g<L;g++)y[e[g]]=""}function r(y){j(y),y.cdata!==""&&(F(y,"oncdata",y.cdata),y.cdata=""),y.script!==""&&(F(y,"onscript",y.script),y.script="")}n.prototype={end:function(){q(this)},write:X,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){r(this)}};var l;try{l=wd.Stream}catch{l=function(){}}l||(l=function(){});var c=i.EVENTS.filter(function(y){return y!=="error"&&y!=="end"});function h(y,g){return new d(y,g)}function d(y,g){if(!(this instanceof d))return new d(y,g);l.apply(this),this._parser=new n(y,g),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(S){L.emit("error",S),L._parser.error=null},this._decoder=null,c.forEach(function(S){Object.defineProperty(L,"on"+S,{get:function(){return L._parser["on"+S]},set:function(G){if(!G)return L.removeAllListeners(S),L._parser["on"+S]=G,G;L.on(S,G)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(l.prototype,{constructor:{value:d}}),d.prototype.write=function(y){if(typeof R=="function"&&typeof R.isBuffer=="function"&&R.isBuffer(y)){if(!this._decoder){var g=bd.StringDecoder;this._decoder=new g("utf8")}y=this._decoder.write(y)}return this._parser.write(y.toString()),this.emit("data",y),!0},d.prototype.end=function(y){return y&&y.length&&this.write(y),this._parser.end(),!0},d.prototype.on=function(y,g){var L=this;return!L._parser["on"+y]&&c.indexOf(y)!==-1&&(L._parser["on"+y]=function(){var S=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);S.splice(0,0,y),L.emit.apply(L,S)}),l.prototype.on.call(L,y,g)};var a="[CDATA[",u="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",v={xml:f,xmlns:_},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x(y){return y===" "||y===`
`||y==="\r"||y==="	"}function A(y){return y==='"'||y==="'"}function O(y){return y===">"||x(y)}function C(y,g){return y.test(g)}function I(y,g){return!C(y,g)}var p=0;i.STATE={BEGIN:p++,BEGIN_WHITESPACE:p++,TEXT:p++,TEXT_ENTITY:p++,OPEN_WAKA:p++,SGML_DECL:p++,SGML_DECL_QUOTED:p++,DOCTYPE:p++,DOCTYPE_QUOTED:p++,DOCTYPE_DTD:p++,DOCTYPE_DTD_QUOTED:p++,COMMENT_STARTING:p++,COMMENT:p++,COMMENT_ENDING:p++,COMMENT_ENDED:p++,CDATA:p++,CDATA_ENDING:p++,CDATA_ENDING_2:p++,PROC_INST:p++,PROC_INST_BODY:p++,PROC_INST_ENDING:p++,OPEN_TAG:p++,OPEN_TAG_SLASH:p++,ATTRIB:p++,ATTRIB_NAME:p++,ATTRIB_NAME_SAW_WHITE:p++,ATTRIB_VALUE:p++,ATTRIB_VALUE_QUOTED:p++,ATTRIB_VALUE_CLOSED:p++,ATTRIB_VALUE_UNQUOTED:p++,ATTRIB_VALUE_ENTITY_Q:p++,ATTRIB_VALUE_ENTITY_U:p++,CLOSE_TAG:p++,CLOSE_TAG_SAW_WHITE:p++,SCRIPT:p++,SCRIPT_ENDING:p++},i.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},i.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(i.ENTITIES).forEach(function(y){var g=i.ENTITIES[y],L=typeof g=="number"?String.fromCharCode(g):g;i.ENTITIES[y]=L});for(var D in i.STATE)i.STATE[i.STATE[D]]=D;p=i.STATE;function N(y,g,L){y[g]&&y[g](L)}function F(y,g,L){y.textNode&&j(y),N(y,g,L)}function j(y){y.textNode=z(y.opt,y.textNode),y.textNode&&N(y,"ontext",y.textNode),y.textNode=""}function z(y,g){return y.trim&&(g=g.trim()),y.normalize&&(g=g.replace(/\s+/g," ")),g}function $(y,g){return j(y),y.trackPosition&&(g+=`
Line: `+y.line+`
Column: `+y.column+`
Char: `+y.c),g=new Error(g),y.error=g,N(y,"onerror",g),y}function q(y){return y.sawRoot&&!y.closedRoot&&H(y,"Unclosed root tag"),y.state!==p.BEGIN&&y.state!==p.BEGIN_WHITESPACE&&y.state!==p.TEXT&&$(y,"Unexpected end"),j(y),y.c="",y.closed=!0,N(y,"onend"),n.call(y,y.strict,y.opt),y}function H(y,g){if(typeof y!="object"||!(y instanceof n))throw new Error("bad call to strictFail");y.strict&&$(y,g)}function Bt(y){y.strict||(y.tagName=y.tagName[y.looseCase]());var g=y.tags[y.tags.length-1]||y,L=y.tag={name:y.tagName,attributes:{}};y.opt.xmlns&&(L.ns=g.ns),y.attribList.length=0,F(y,"onopentagstart",L)}function gt(y,g){var L=y.indexOf(":"),S=L<0?["",y]:y.split(":"),G=S[0],W=S[1];return g&&y==="xmlns"&&(G="xmlns",W=""),{prefix:G,local:W}}function oi(y){if(y.strict||(y.attribName=y.attribName[y.looseCase]()),y.attribList.indexOf(y.attribName)!==-1||y.tag.attributes.hasOwnProperty(y.attribName)){y.attribName=y.attribValue="";return}if(y.opt.xmlns){var g=gt(y.attribName,!0),L=g.prefix,S=g.local;if(L==="xmlns")if(S==="xml"&&y.attribValue!==f)H(y,"xml: prefix must be bound to "+f+`
Actual: `+y.attribValue);else if(S==="xmlns"&&y.attribValue!==_)H(y,"xmlns: prefix must be bound to "+_+`
Actual: `+y.attribValue);else{var G=y.tag,W=y.tags[y.tags.length-1]||y;G.ns===W.ns&&(G.ns=Object.create(W.ns)),G.ns[S]=y.attribValue}y.attribList.push([y.attribName,y.attribValue])}else y.tag.attributes[y.attribName]=y.attribValue,F(y,"onattribute",{name:y.attribName,value:y.attribValue});y.attribName=y.attribValue=""}function Ce(y,g){if(y.opt.xmlns){var L=y.tag,S=gt(y.tagName);L.prefix=S.prefix,L.local=S.local,L.uri=L.ns[S.prefix]||"",L.prefix&&!L.uri&&(H(y,"Unbound namespace prefix: "+JSON.stringify(y.tagName)),L.uri=S.prefix);var G=y.tags[y.tags.length-1]||y;L.ns&&G.ns!==L.ns&&Object.keys(L.ns).forEach(function(vs){F(y,"onopennamespace",{prefix:vs,uri:L.ns[vs]})});for(var W=0,ie=y.attribList.length;W<ie;W++){var Q=y.attribList[W],he=Q[0],zt=Q[1],ce=gt(he,!0),Xe=ce.prefix,Wl=ce.local,ys=Xe===""?"":L.ns[Xe]||"",dn={name:he,value:zt,prefix:Xe,local:Wl,uri:ys};Xe&&Xe!=="xmlns"&&!ys&&(H(y,"Unbound namespace prefix: "+JSON.stringify(Xe)),dn.uri=Xe),y.tag.attributes[he]=dn,F(y,"onattribute",dn)}y.attribList.length=0}y.tag.isSelfClosing=!!g,y.sawRoot=!0,y.tags.push(y.tag),F(y,"onopentag",y.tag),g||(!y.noscript&&y.tagName.toLowerCase()==="script"?y.state=p.SCRIPT:y.state=p.TEXT,y.tag=null,y.tagName=""),y.attribName=y.attribValue="",y.attribList.length=0}function Ut(y){if(!y.tagName){H(y,"Weird empty close tag."),y.textNode+="</>",y.state=p.TEXT;return}if(y.script){if(y.tagName!=="script"){y.script+="</"+y.tagName+">",y.tagName="",y.state=p.SCRIPT;return}F(y,"onscript",y.script),y.script=""}var g=y.tags.length,L=y.tagName;y.strict||(L=L[y.looseCase]());for(var S=L;g--;){var G=y.tags[g];if(G.name!==S)H(y,"Unexpected close tag");else break}if(g<0){H(y,"Unmatched closing tag: "+y.tagName),y.textNode+="</"+y.tagName+">",y.state=p.TEXT;return}y.tagName=L;for(var W=y.tags.length;W-- >g;){var ie=y.tag=y.tags.pop();y.tagName=y.tag.name,F(y,"onclosetag",y.tagName);var Q={};for(var he in ie.ns)Q[he]=ie.ns[he];var zt=y.tags[y.tags.length-1]||y;y.opt.xmlns&&ie.ns!==zt.ns&&Object.keys(ie.ns).forEach(function(ce){var Xe=ie.ns[ce];F(y,"onclosenamespace",{prefix:ce,uri:Xe})})}g===0&&(y.closedRoot=!0),y.tagName=y.attribValue=y.attribName="",y.attribList.length=0,y.state=p.TEXT}function T(y){var g=y.entity,L=g.toLowerCase(),S,G="";return y.ENTITIES[g]?y.ENTITIES[g]:y.ENTITIES[L]?y.ENTITIES[L]:(g=L,g.charAt(0)==="#"&&(g.charAt(1)==="x"?(g=g.slice(2),S=parseInt(g,16),G=S.toString(16)):(g=g.slice(1),S=parseInt(g,10),G=S.toString(10))),g=g.replace(/^0+/,""),isNaN(S)||G.toLowerCase()!==g?(H(y,"Invalid character entity"),"&"+y.entity+";"):String.fromCodePoint(S))}function M(y,g){g==="<"?(y.state=p.OPEN_WAKA,y.startTagPosition=y.position):x(g)||(H(y,"Non-whitespace before first tag."),y.textNode=g,y.state=p.TEXT)}function P(y,g){var L="";return g<y.length&&(L=y.charAt(g)),L}function X(y){var g=this;if(this.error)throw this.error;if(g.closed)return $(g,"Cannot write after close. Assign an onready handler.");if(y===null)return q(g);typeof y=="object"&&(y=y.toString());for(var L=0,S="";S=P(y,L++),g.c=S,!!S;)switch(g.trackPosition&&(g.position++,S===`
`?(g.line++,g.column=0):g.column++),g.state){case p.BEGIN:if(g.state=p.BEGIN_WHITESPACE,S==="\uFEFF")continue;M(g,S);continue;case p.BEGIN_WHITESPACE:M(g,S);continue;case p.TEXT:if(g.sawRoot&&!g.closedRoot){for(var G=L-1;S&&S!=="<"&&S!=="&";)S=P(y,L++),S&&g.trackPosition&&(g.position++,S===`
`?(g.line++,g.column=0):g.column++);g.textNode+=y.substring(G,L-1)}S==="<"&&!(g.sawRoot&&g.closedRoot&&!g.strict)?(g.state=p.OPEN_WAKA,g.startTagPosition=g.position):(!x(S)&&(!g.sawRoot||g.closedRoot)&&H(g,"Text data outside of root node."),S==="&"?g.state=p.TEXT_ENTITY:g.textNode+=S);continue;case p.SCRIPT:S==="<"?g.state=p.SCRIPT_ENDING:g.script+=S;continue;case p.SCRIPT_ENDING:S==="/"?g.state=p.CLOSE_TAG:(g.script+="<"+S,g.state=p.SCRIPT);continue;case p.OPEN_WAKA:if(S==="!")g.state=p.SGML_DECL,g.sgmlDecl="";else if(!x(S))if(C(w,S))g.state=p.OPEN_TAG,g.tagName=S;else if(S==="/")g.state=p.CLOSE_TAG,g.tagName="";else if(S==="?")g.state=p.PROC_INST,g.procInstName=g.procInstBody="";else{if(H(g,"Unencoded <"),g.startTagPosition+1<g.position){var W=g.position-g.startTagPosition;S=new Array(W).join(" ")+S}g.textNode+="<"+S,g.state=p.TEXT}continue;case p.SGML_DECL:if(g.sgmlDecl+S==="--"){g.state=p.COMMENT,g.comment="",g.sgmlDecl="";continue}g.doctype&&g.doctype!==!0&&g.sgmlDecl?(g.state=p.DOCTYPE_DTD,g.doctype+="<!"+g.sgmlDecl+S,g.sgmlDecl=""):(g.sgmlDecl+S).toUpperCase()===a?(F(g,"onopencdata"),g.state=p.CDATA,g.sgmlDecl="",g.cdata=""):(g.sgmlDecl+S).toUpperCase()===u?(g.state=p.DOCTYPE,(g.doctype||g.sawRoot)&&H(g,"Inappropriately located doctype declaration"),g.doctype="",g.sgmlDecl=""):S===">"?(F(g,"onsgmldeclaration",g.sgmlDecl),g.sgmlDecl="",g.state=p.TEXT):(A(S)&&(g.state=p.SGML_DECL_QUOTED),g.sgmlDecl+=S);continue;case p.SGML_DECL_QUOTED:S===g.q&&(g.state=p.SGML_DECL,g.q=""),g.sgmlDecl+=S;continue;case p.DOCTYPE:S===">"?(g.state=p.TEXT,F(g,"ondoctype",g.doctype),g.doctype=!0):(g.doctype+=S,S==="["?g.state=p.DOCTYPE_DTD:A(S)&&(g.state=p.DOCTYPE_QUOTED,g.q=S));continue;case p.DOCTYPE_QUOTED:g.doctype+=S,S===g.q&&(g.q="",g.state=p.DOCTYPE);continue;case p.DOCTYPE_DTD:S==="]"?(g.doctype+=S,g.state=p.DOCTYPE):S==="<"?(g.state=p.OPEN_WAKA,g.startTagPosition=g.position):A(S)?(g.doctype+=S,g.state=p.DOCTYPE_DTD_QUOTED,g.q=S):g.doctype+=S;continue;case p.DOCTYPE_DTD_QUOTED:g.doctype+=S,S===g.q&&(g.state=p.DOCTYPE_DTD,g.q="");continue;case p.COMMENT:S==="-"?g.state=p.COMMENT_ENDING:g.comment+=S;continue;case p.COMMENT_ENDING:S==="-"?(g.state=p.COMMENT_ENDED,g.comment=z(g.opt,g.comment),g.comment&&F(g,"oncomment",g.comment),g.comment=""):(g.comment+="-"+S,g.state=p.COMMENT);continue;case p.COMMENT_ENDED:S!==">"?(H(g,"Malformed comment"),g.comment+="--"+S,g.state=p.COMMENT):g.doctype&&g.doctype!==!0?g.state=p.DOCTYPE_DTD:g.state=p.TEXT;continue;case p.CDATA:S==="]"?g.state=p.CDATA_ENDING:g.cdata+=S;continue;case p.CDATA_ENDING:S==="]"?g.state=p.CDATA_ENDING_2:(g.cdata+="]"+S,g.state=p.CDATA);continue;case p.CDATA_ENDING_2:S===">"?(g.cdata&&F(g,"oncdata",g.cdata),F(g,"onclosecdata"),g.cdata="",g.state=p.TEXT):S==="]"?g.cdata+="]":(g.cdata+="]]"+S,g.state=p.CDATA);continue;case p.PROC_INST:S==="?"?g.state=p.PROC_INST_ENDING:x(S)?g.state=p.PROC_INST_BODY:g.procInstName+=S;continue;case p.PROC_INST_BODY:if(!g.procInstBody&&x(S))continue;S==="?"?g.state=p.PROC_INST_ENDING:g.procInstBody+=S;continue;case p.PROC_INST_ENDING:S===">"?(F(g,"onprocessinginstruction",{name:g.procInstName,body:g.procInstBody}),g.procInstName=g.procInstBody="",g.state=p.TEXT):(g.procInstBody+="?"+S,g.state=p.PROC_INST_BODY);continue;case p.OPEN_TAG:C(b,S)?g.tagName+=S:(Bt(g),S===">"?Ce(g):S==="/"?g.state=p.OPEN_TAG_SLASH:(x(S)||H(g,"Invalid character in tag name"),g.state=p.ATTRIB));continue;case p.OPEN_TAG_SLASH:S===">"?(Ce(g,!0),Ut(g)):(H(g,"Forward-slash in opening tag not followed by >"),g.state=p.ATTRIB);continue;case p.ATTRIB:if(x(S))continue;S===">"?Ce(g):S==="/"?g.state=p.OPEN_TAG_SLASH:C(w,S)?(g.attribName=S,g.attribValue="",g.state=p.ATTRIB_NAME):H(g,"Invalid attribute name");continue;case p.ATTRIB_NAME:S==="="?g.state=p.ATTRIB_VALUE:S===">"?(H(g,"Attribute without value"),g.attribValue=g.attribName,oi(g),Ce(g)):x(S)?g.state=p.ATTRIB_NAME_SAW_WHITE:C(b,S)?g.attribName+=S:H(g,"Invalid attribute name");continue;case p.ATTRIB_NAME_SAW_WHITE:if(S==="=")g.state=p.ATTRIB_VALUE;else{if(x(S))continue;H(g,"Attribute without value"),g.tag.attributes[g.attribName]="",g.attribValue="",F(g,"onattribute",{name:g.attribName,value:""}),g.attribName="",S===">"?Ce(g):C(w,S)?(g.attribName=S,g.state=p.ATTRIB_NAME):(H(g,"Invalid attribute name"),g.state=p.ATTRIB)}continue;case p.ATTRIB_VALUE:if(x(S))continue;A(S)?(g.q=S,g.state=p.ATTRIB_VALUE_QUOTED):(g.opt.unquotedAttributeValues||$(g,"Unquoted attribute value"),g.state=p.ATTRIB_VALUE_UNQUOTED,g.attribValue=S);continue;case p.ATTRIB_VALUE_QUOTED:if(S!==g.q){S==="&"?g.state=p.ATTRIB_VALUE_ENTITY_Q:g.attribValue+=S;continue}oi(g),g.q="",g.state=p.ATTRIB_VALUE_CLOSED;continue;case p.ATTRIB_VALUE_CLOSED:x(S)?g.state=p.ATTRIB:S===">"?Ce(g):S==="/"?g.state=p.OPEN_TAG_SLASH:C(w,S)?(H(g,"No whitespace between attributes"),g.attribName=S,g.attribValue="",g.state=p.ATTRIB_NAME):H(g,"Invalid attribute name");continue;case p.ATTRIB_VALUE_UNQUOTED:if(!O(S)){S==="&"?g.state=p.ATTRIB_VALUE_ENTITY_U:g.attribValue+=S;continue}oi(g),S===">"?Ce(g):g.state=p.ATTRIB;continue;case p.CLOSE_TAG:if(g.tagName)S===">"?Ut(g):C(b,S)?g.tagName+=S:g.script?(g.script+="</"+g.tagName,g.tagName="",g.state=p.SCRIPT):(x(S)||H(g,"Invalid tagname in closing tag"),g.state=p.CLOSE_TAG_SAW_WHITE);else{if(x(S))continue;I(w,S)?g.script?(g.script+="</"+S,g.state=p.SCRIPT):H(g,"Invalid tagname in closing tag."):g.tagName=S}continue;case p.CLOSE_TAG_SAW_WHITE:if(x(S))continue;S===">"?Ut(g):H(g,"Invalid characters in closing tag");continue;case p.TEXT_ENTITY:case p.ATTRIB_VALUE_ENTITY_Q:case p.ATTRIB_VALUE_ENTITY_U:var ie,Q;switch(g.state){case p.TEXT_ENTITY:ie=p.TEXT,Q="textNode";break;case p.ATTRIB_VALUE_ENTITY_Q:ie=p.ATTRIB_VALUE_QUOTED,Q="attribValue";break;case p.ATTRIB_VALUE_ENTITY_U:ie=p.ATTRIB_VALUE_UNQUOTED,Q="attribValue";break}if(S===";"){var he=T(g);g.opt.unparsedEntities&&!Object.values(i.XML_ENTITIES).includes(he)?(g.entity="",g.state=ie,g.write(he)):(g[Q]+=he,g.entity="",g.state=ie)}else C(g.entity.length?m:E,S)?g.entity+=S:(H(g,"Invalid character in entity name"),g[Q]+="&"+g.entity+S,g.entity="",g.state=ie);continue;default:throw new Error(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&o(g),g}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var y=String.fromCharCode,g=Math.floor,L=function(){var S=16384,G=[],W,ie,Q=-1,he=arguments.length;if(!he)return"";for(var zt="";++Q<he;){var ce=Number(arguments[Q]);if(!isFinite(ce)||ce<0||ce>1114111||g(ce)!==ce)throw RangeError("Invalid code point: "+ce);ce<=65535?G.push(ce):(ce-=65536,W=(ce>>10)+55296,ie=ce%1024+56320,G.push(W,ie)),(Q+1===he||G.length>S)&&(zt+=y.apply(null,G),G.length=0)}return zt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L}()})(t)}(pr)),pr}const Ed=tn(of);var _r={},ia;function Td(){return ia||(ia=1,function(){_r.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}.call(V)),_r}var mt={},na;function Al(){return na||(na=1,function(){var t;t=new RegExp(/(?!xmlns)^.*:/),mt.normalize=function(i){return i.toLowerCase()},mt.firstCharLowerCase=function(i){return i.charAt(0).toLowerCase()+i.slice(1)},mt.stripPrefix=function(i){return i.replace(t,"")},mt.parseNumbers=function(i){return isNaN(i)||(i=i%1===0?parseInt(i,10):parseFloat(i)),i},mt.parseBooleans=function(i){return/^(?:true|false)$/i.test(i)&&(i=i.toLowerCase()==="true"),i}}.call(V)),mt}var gr=1,hs={},mr=!1,Qi=te.document,ri;function Sl(t){typeof t!="function"&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),e=0;e<i.length;e++)i[e]=arguments[e+1];var n={callback:t,args:i};return hs[gr]=n,ri(gr),gr++}function cs(t){delete hs[t]}function Ad(t){var i=t.callback,e=t.args;switch(e.length){case 0:i();break;case 1:i(e[0]);break;case 2:i(e[0],e[1]);break;case 3:i(e[0],e[1],e[2]);break;default:i.apply(void 0,e);break}}function si(t){if(mr)setTimeout(si,0,t);else{var i=hs[t];if(i){mr=!0;try{Ad(i)}finally{cs(t),mr=!1}}}}function Sd(){ri=function(t){Fe.nextTick(function(){si(t)})}}function Dd(){if(te.postMessage&&!te.importScripts){var t=!0,i=te.onmessage;return te.onmessage=function(){t=!1},te.postMessage("","*"),te.onmessage=i,t}}function Cd(){var t="setImmediate$"+Math.random()+"$",i=function(e){e.source===te&&typeof e.data=="string"&&e.data.indexOf(t)===0&&si(+e.data.slice(t.length))};te.addEventListener?te.addEventListener("message",i,!1):te.attachEvent("onmessage",i),ri=function(e){te.postMessage(t+e,"*")}}function Od(){var t=new MessageChannel;t.port1.onmessage=function(i){var e=i.data;si(e)},ri=function(i){t.port2.postMessage(i)}}function Id(){var t=Qi.documentElement;ri=function(i){var e=Qi.createElement("script");e.onreadystatechange=function(){si(i),e.onreadystatechange=null,t.removeChild(e),e=null},t.appendChild(e)}}function Ld(){ri=function(t){setTimeout(si,0,t)}}var Bi=Object.getPrototypeOf&&Object.getPrototypeOf(te);Bi=Bi&&Bi.setTimeout?Bi:te;({}).toString.call(te.process)==="[object process]"?Sd():Dd()?Cd():te.MessageChannel?Od():Qi&&"onreadystatechange"in Qi.createElement("script")?Id():Ld();var Dl=Function.prototype.apply;function Cl(t){typeof t=="number"&&typeof te.clearInterval=="function"?te.clearInterval(t):ds(t)}function Ii(t){typeof t=="number"&&typeof te.clearTimeout=="function"?te.clearTimeout(t):ds(t)}function ds(t){t&&typeof t.close=="function"&&t.close()}function ps(){return new Ei(Dl.call(te.setTimeout,window,arguments))}function Ol(){return new Ei(Dl.call(te.setInterval,window,arguments))}function Ei(t){this._id=t}Ei.prototype.unref=Ei.prototype.ref=function(){};Ei.prototype.close=function(){ds(this._id)};function Il(t,i){Ii(t._idleTimeoutId),t._idleTimeout=i}function Ll(t){Ii(t._idleTimeoutId),t._idleTimeout=-1}var Rl=_s;function _s(t){Ii(t._idleTimeoutId);var i=t._idleTimeout;i>=0&&(t._idleTimeoutId=ps(function(){t._onTimeout&&t._onTimeout()},i))}const Rd={setImmediate:Sl,clearImmediate:cs,setTimeout:ps,clearTimeout:Ii,setInterval:Ol,clearInterval:Cl,active:_s,unenroll:Ll,_unrefActive:Rl,enroll:Il},Nd=Object.freeze(Object.defineProperty({__proto__:null,_unrefActive:Rl,active:_s,clearImmediate:cs,clearInterval:Cl,clearTimeout:Ii,default:Rd,enroll:Il,setImmediate:Sl,setInterval:Ol,setTimeout:ps,unenroll:Ll},Symbol.toStringTag,{value:"Module"})),Md=tn(Nd);var ra;function Pd(){return ra||(ra=1,function(t){(function(){var i,e,n,o,s,r,l,c,h,d=function(f,_){return function(){return f.apply(_,arguments)}},a=function(f,_){for(var v in _)u.call(_,v)&&(f[v]=_[v]);function w(){this.constructor=f}return w.prototype=_.prototype,f.prototype=new w,f.__super__=_.prototype,f},u={}.hasOwnProperty;c=xd(),o=Ed,i=Td(),l=Al(),h=Md.setImmediate,e=Kr().defaults,s=function(f){return typeof f=="object"&&f!=null&&Object.keys(f).length===0},r=function(f,_,v){var w,b,E;for(w=0,b=f.length;w<b;w++)E=f[w],_=E(_,v);return _},n=function(f,_,v){var w;return w=Object.create(null),w.value=v,w.writable=!0,w.enumerable=!0,w.configurable=!0,Object.defineProperty(f,_,w)},t.Parser=function(f){a(_,f);function _(v){this.parseStringPromise=d(this.parseStringPromise,this),this.parseString=d(this.parseString,this),this.reset=d(this.reset,this),this.assignOrPush=d(this.assignOrPush,this),this.processAsync=d(this.processAsync,this);var w,b,E;if(!(this instanceof t.Parser))return new t.Parser(v);this.options={},b=e["0.2"];for(w in b)u.call(b,w)&&(E=b[w],this.options[w]=E);for(w in v)u.call(v,w)&&(E=v[w],this.options[w]=E);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return _.prototype.processAsync=function(){var v,w;try{return this.remaining.length<=this.options.chunkSize?(v=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(v),this.saxParser.close()):(v=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(v),h(this.processAsync))}catch(b){if(w=b,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(w)}},_.prototype.assignOrPush=function(v,w,b){return w in v?(v[w]instanceof Array||n(v,w,[v[w]]),v[w].push(b)):this.options.explicitArray?n(v,w,[b]):n(v,w,b)},_.prototype.reset=function(){var v,w,b,E;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(m){return function(x){if(m.saxParser.resume(),!m.saxParser.errThrown)return m.saxParser.errThrown=!0,m.emit("error",x)}}(this),this.saxParser.onend=function(m){return function(){if(!m.saxParser.ended)return m.saxParser.ended=!0,m.emit("end",m.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,E=[],v=this.options.attrkey,w=this.options.charkey,this.saxParser.onopentag=function(m){return function(x){var A,O,C,I,p;if(C={},C[w]="",!m.options.ignoreAttrs){p=x.attributes;for(A in p)u.call(p,A)&&(!(v in C)&&!m.options.mergeAttrs&&(C[v]={}),O=m.options.attrValueProcessors?r(m.options.attrValueProcessors,x.attributes[A],A):x.attributes[A],I=m.options.attrNameProcessors?r(m.options.attrNameProcessors,A):A,m.options.mergeAttrs?m.assignOrPush(C,I,O):n(C[v],I,O))}return C["#name"]=m.options.tagNameProcessors?r(m.options.tagNameProcessors,x.name):x.name,m.options.xmlns&&(C[m.options.xmlnskey]={uri:x.uri,local:x.local}),E.push(C)}}(this),this.saxParser.onclosetag=function(m){return function(){var x,A,O,C,I,p,D,N,F,j;if(p=E.pop(),I=p["#name"],(!m.options.explicitChildren||!m.options.preserveChildrenOrder)&&delete p["#name"],p.cdata===!0&&(x=p.cdata,delete p.cdata),F=E[E.length-1],p[w].match(/^\s*$/)&&!x?(A=p[w],delete p[w]):(m.options.trim&&(p[w]=p[w].trim()),m.options.normalize&&(p[w]=p[w].replace(/\s{2,}/g," ").trim()),p[w]=m.options.valueProcessors?r(m.options.valueProcessors,p[w],I):p[w],Object.keys(p).length===1&&w in p&&!m.EXPLICIT_CHARKEY&&(p=p[w])),s(p)&&(typeof m.options.emptyTag=="function"?p=m.options.emptyTag():p=m.options.emptyTag!==""?m.options.emptyTag:A),m.options.validator!=null&&(j="/"+function(){var z,$,q;for(q=[],z=0,$=E.length;z<$;z++)C=E[z],q.push(C["#name"]);return q}().concat(I).join("/"),function(){var z;try{return p=m.options.validator(j,F&&F[I],p)}catch($){return z=$,m.emit("error",z)}}()),m.options.explicitChildren&&!m.options.mergeAttrs&&typeof p=="object"){if(!m.options.preserveChildrenOrder)C={},m.options.attrkey in p&&(C[m.options.attrkey]=p[m.options.attrkey],delete p[m.options.attrkey]),!m.options.charsAsChildren&&m.options.charkey in p&&(C[m.options.charkey]=p[m.options.charkey],delete p[m.options.charkey]),Object.getOwnPropertyNames(p).length>0&&(C[m.options.childkey]=p),p=C;else if(F){F[m.options.childkey]=F[m.options.childkey]||[],D={};for(O in p)u.call(p,O)&&n(D,O,p[O]);F[m.options.childkey].push(D),delete p["#name"],Object.keys(p).length===1&&w in p&&!m.EXPLICIT_CHARKEY&&(p=p[w])}}return E.length>0?m.assignOrPush(F,I,p):(m.options.explicitRoot&&(N=p,p={},n(p,I,N)),m.resultObject=p,m.saxParser.ended=!0,m.emit("end",m.resultObject))}}(this),b=function(m){return function(x){var A,O;if(O=E[E.length-1],O)return O[w]+=x,m.options.explicitChildren&&m.options.preserveChildrenOrder&&m.options.charsAsChildren&&(m.options.includeWhiteChars||x.replace(/\\n/g,"").trim()!=="")&&(O[m.options.childkey]=O[m.options.childkey]||[],A={"#name":"__text__"},A[w]=x,m.options.normalize&&(A[w]=A[w].replace(/\s{2,}/g," ").trim()),O[m.options.childkey].push(A)),O}}(this),this.saxParser.ontext=b,this.saxParser.oncdata=function(m){return function(x){var A;if(A=b(x),A)return A.cdata=!0}}()},_.prototype.parseString=function(v,w){var b;w!=null&&typeof w=="function"&&(this.on("end",function(E){return this.reset(),w(null,E)}),this.on("error",function(E){return this.reset(),w(E)}));try{return v=v.toString(),v.trim()===""?(this.emit("end",null),!0):(v=i.stripBOM(v),this.options.async?(this.remaining=v,h(this.processAsync),this.saxParser):this.saxParser.write(v).close())}catch(E){if(b=E,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw b}else return this.emit("error",b),this.saxParser.errThrown=!0}},_.prototype.parseStringPromise=function(v){return new Promise(function(w){return function(b,E){return w.parseString(v,function(m,x){return m?E(m):b(x)})}}(this))},_}(o),t.parseString=function(f,_,v){var w,b,E;return v!=null?(typeof v=="function"&&(w=v),typeof _=="object"&&(b=_)):(typeof _=="function"&&(w=_),b={}),E=new t.Parser(b),E.parseString(f,w)},t.parseStringPromise=function(f,_){var v,w;return typeof _=="object"&&(v=_),w=new t.Parser(v),w.parseStringPromise(f)}}).call(V)}(dr)),dr}var Nl;(function(){var t,i,e,n=function(s,r){for(var l in r)o.call(r,l)&&(s[l]=r[l]);function c(){this.constructor=s}return c.prototype=r.prototype,s.prototype=new c,s.__super__=r.prototype,s},o={}.hasOwnProperty;i=Kr(),t=vd(),e=Pd(),Al(),i.defaults,function(s){n(r,s);function r(l){this.message=l}return r}(Error),t.Builder,e.Parser,Nl=e.parseString,e.parseStringPromise}).call(V);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pt(t,i,e,n){function o(s){return s instanceof e?s:new e(function(r){r(s)})}return new(e||(e=Promise))(function(s,r){function l(d){try{h(n.next(d))}catch(a){r(a)}}function c(d){try{h(n.throw(d))}catch(a){r(a)}}function h(d){d.done?s(d.value):o(d.value).then(l,c)}h((n=n.apply(t,[])).next())})}var qt;(function(t){t.ELLIPSE="ellipse",t.POINT="point",t.POLYGON="polygon",t.RECTANGLE="rectangle"})(qt||(qt={}));var ve;(function(t){t.EDITOR_SETTINGS="editorsettings",t.GROUP="group",t.IMAGE_LAYER="imagelayer",t.LAYER="layer",t.OBJECT_GROUP="objectgroup",t.PROPERTIES="properties",t.TILESET="tileset"})(ve||(ve={}));var Ji;(function(t){t.BASE64="base64",t.CSV="csv"})(Ji||(Ji={}));var ci;(function(t){t.GZIP="gzip",t.ZLIB="zlib"})(ci||(ci={}));var ct;(function(t){t[t.DIAGONALLY=536870912]="DIAGONALLY",t[t.HORIZONTALLY=2147483648]="HORIZONTALLY",t[t.VERTICALLY=1073741824]="VERTICALLY"})(ct||(ct={}));const Ye=t=>!!(t&&t.length>0),kd=t=>!!t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i),Fd=t=>pt(void 0,void 0,void 0,function*(){return new Promise(i=>{fetch(t).then(e=>e.text()).then(e=>i(e))})}),sa=(t,i)=>{const e=[];if(t.length!==i)throw new Error(`Expected ${i} bytes of tile data; received ${t.length}`);for(let n=0;n<i;n+=4)e.push(t.readUInt32LE(n));return e},Ue=t=>t&&Object.entries(t).map(([i,e])=>({[i]:e})),cn=t=>({properties:t&&Object.assign({},...t.map(({property:i})=>Object.assign({},...i.map(({$:{name:e,value:n},_:o})=>({[e]:n||o})))))||null}),en=t=>({H:!!(t&ct.HORIZONTALLY),V:!!(t&ct.VERTICALLY),D:!!(t&ct.DIAGONALLY)}),Ml=t=>t&=~(ct.HORIZONTALLY|ct.VERTICALLY|ct.DIAGONALLY),Bd=t=>t.point&&qt.POINT||t.ellipse&&qt.ELLIPSE||t.polygon&&qt.POLYGON||qt.RECTANGLE,Ud=t=>{if(t==="true")return!0;if(t==="false")return!1;if(`${t}`.match(/^[+-]?\d+(\.\d+)?$/g)){const i=parseFloat(t);return isNaN(i)?t:i}return t},zd=t=>pt(void 0,void 0,void 0,function*(){const i=kd(t)?yield Fd(t):t;return new Promise(e=>Nl(i,{explicitChildren:!0,preserveChildrenOrder:!0,attrValueProcessors:[n=>Ud(n)]},(n,o)=>{if(n)throw n;e(o)}))}),Pl=t=>{const{$:i,properties:e,polygon:n,text:o}=t,s=Object.assign(Object.assign(Object.assign({shape:Bd(t)},Ye(n)&&{points:n[0].$.points.split(" ").map(r=>{const[l,c]=r.split(",");return[parseFloat(l),parseFloat(c)]})}),cn(e)),...Ue(i));return o&&(s.text=o[0]._,s.properties=Object.assign({},s.properties,o[0].$)),s.gid&&(s.flips=en(s.gid),s.gid=Ml(s.gid)),s},Xd=t=>{const{$:i,image:e,object:n,properties:o}=t;return Object.assign(Object.assign(Object.assign(Object.assign({type:t["#name"],visible:1},Ye(e)&&{image:Object.assign({},...Ue(e[0].$))}),Ye(n)&&{objects:n.map(s=>Pl(s))}),cn(o)),...Ue(i))},jd=t=>{const{$:i,animation:e,objectgroup:n}=t,o=Ye(n)&&n[0].object;return Object.assign(Object.assign(Object.assign({},Ye(e)&&{animation:{frames:e[0].frame.map(({$:s})=>Object.assign({},...Ue(s)))}}),Ye(o)&&{objects:o.map(s=>Pl(s))}),...Ue(i))},Hd=(t,i,e)=>pt(void 0,void 0,void 0,function*(){return Object.assign(Object.assign({type:t["#name"],layers:Ye(t.$$)?yield Promise.all(t.$$.map(n=>kl(n,i,e))):[]},cn(t.properties)),...Ue(t.$))}),Vd=t=>{const{$:i,$$:e,tile:n}=t,o=e&&Object.assign({},...Ue(e[0].$));if(o){const s=Ye(n)&&n.map(r=>jd(r));return Object.assign({},...Ue(i),{image:o,tiles:s})}else throw new Error("Tilesets should be embeded in a map file.")};function Gd(t,i,e){return pt(this,void 0,void 0,function*(){const{data:n,properties:o}=t;if(!Ye(n))throw new Error("TMXLayer data corrupted!");const s=Object.assign(Object.assign(Object.assign(Object.assign({},e?{flips:[]}:{}),{type:t["#name"],visible:1}),cn(o)),...Ue(t.$)),{_:r,$:l,tile:c}=n[0];if(c)s.data=c.map(({$:h})=>h&&h.gid||0);else{const{encoding:h,compression:d}=l,a=r.trim();switch(h){case Ji.CSV:s.data=a.split(",");break;case Ji.BASE64:const u=new R(a,h);switch(d){case null:case void 0:s.data=sa(u,i);break;case ci.GZIP:case ci.ZLIB:const f=d===ci.GZIP?vo.gunzip:vo.inflate;s.data=yield new Promise((_,v)=>f(u,(w,b)=>{w&&v(w),_(sa(b,i))}));break;default:throw new Error(`unsupported compression: ${d}`)}}}return s.data.map((h,d)=>{e?(s.flips[d]=en(h),s.data[d]=Ml(h)):s.data[d]=h}),s})}const kl=(t,i,e)=>pt(void 0,void 0,void 0,function*(){switch(t["#name"]){case ve.GROUP:return yield Hd(t,i,e);case ve.LAYER:return yield Gd(t,i,e);case ve.IMAGE_LAYER:case ve.OBJECT_GROUP:return Xd(t)}});function Wd(t,i){return pt(this,void 0,void 0,function*(){const{map:{$:e,$$:n}}=yield zd(t),o=Object.assign({layers:[],tilesets:[],backgroundcolor:"",height:0,infinite:0,nextlayerid:0,nextobjectid:0,orientation:"",renderorder:"",tiledversion:"",tileheight:0,tilewidth:0,version:0,width:0,properties:void 0},...Ue(e)),s=o.width*o.height*4;return yield Promise.all(n.map((r,l)=>pt(this,void 0,void 0,function*(){switch(r["#name"]){case ve.PROPERTIES:o.properties=Object.assign({},...r.$$.map(({$:{name:c,value:h}})=>({[c]:h})));break;case ve.EDITOR_SETTINGS:o.editorsettings=Object.assign({},...r.$$.map(c=>({[c["#name"]]:c.$})));break;case ve.TILESET:o.tilesets.push(Vd(r));break;case ve.GROUP:case ve.IMAGE_LAYER:case ve.LAYER:case ve.OBJECT_GROUP:o.layers[l]=yield kl(r,s,i);break}}))),Object.assign(Object.assign({},o),{layers:Object.values(o.layers)})})}const qd=(t,i=!1)=>pt(void 0,void 0,void 0,function*(){return yield Wd(t,i)}),Zd=t=>t*Math.PI/180,ke=(t,i=0,e=1)=>Math.max(i,Math.min(e,t)),Tt=(t,i,e)=>i+ke(t)*(e-i),vt=(t=1,i=0)=>i+Math.random()*(t-i),Ir=(t,i,e)=>e-i?ke((t-i)/(e-i)):0;function Fl(t,i,e){const n=e-i;return((t-i)%n+n)%n+i}let _t=class Vt{constructor(i,e){this.pos=i,this.size=e,this.overlaps=(n,o)=>Math.abs(this.pos.x-n.x)*2<this.size.x+o.x&&Math.abs(this.pos.y-n.y)*2<this.size.y+o.y}move(i){return new Vt(this.pos.add(i),this.size)}scale(i){return new Vt(this.pos.scale(i),this.size.scale(i))}multiply(i){return new Vt(this.pos.multiply(i),this.size.multiply(i))}divide(i){return new Vt(this.pos.divide(i),this.size.divide(i))}floor(){return new Vt(this.pos.floor(),this.size.floor())}};class ae{constructor(i=0,e=0){this.x=i,this.y=e}add(i){return new ae(this.x+i.x,this.y+i.y)}subtract(i){return new ae(this.x-i.x,this.y-i.y)}multiply(i){return new ae(this.x*i.x,this.y*i.y)}divide(i){return typeof i=="number"?new ae(this.x/i,this.y/i):new ae(this.x/i.x,this.y/i.y)}clone(){return new ae(this.x,this.y)}scale(i){return new ae(this.x*i,this.y*i)}length(){return Math.pow(this.lengthSquared(),.5)}lengthSquared(){return Math.pow(this.x,2)+Math.pow(this.y,2)}distance(i){return Math.pow(this.distanceSquared(i),.5)}distanceSquared(i){return Math.pow(this.x-i.x,2)+Math.pow(this.y-i.y,2)}normalize(i=1){const e=this.length();return e?this.scale(i/e):new ae(0,i)}clampLength(i=1){const e=this.length();return e>i?this.scale(i/e):this}dot(i){return this.x*i.x+this.y*i.y}cross(i){return this.x*i.y-this.y*i.x}angle(){return Math.atan2(this.x,this.y)}setAngle(i=0,e=1){return this.x=e*Math.sin(i),this.y=e*Math.cos(i),this}rotate(i){const e=Math.cos(i),n=Math.sin(i);return new ae(this.x*e-this.y*n,this.x*n+this.y*e)}direction(){return Math.abs(this.x)>Math.abs(this.y)?this.x<0?3:1:this.y<0?2:0}reverse(){return new ae(-this.y,-this.x)}invert(){return new ae(-this.x,-this.y)}floor(){return new ae(Math.floor(this.x),Math.floor(this.y))}area(){return Math.abs(this.x*this.y)}lerp(i,e){return this.add(i.subtract(this).scale(ke(e)))}inRange(i){return this.x>=0&&this.y>=0&&this.x<i.x&&this.y<i.y}}const ui=(t=0,i=0,e=0,n=0)=>new _t(k(t,i),k(e,n)),k=(t=0,i)=>new ae(t,i===void 0?t:i),Bl=(t=1)=>new ae().setAngle(vt(2*Math.PI),t),Yd=(t=1,i=0)=>t>0?Bl(t*Math.pow(vt(i/t,1),.5)):new ae;class Kd{constructor(i){this.scene=i,this.pos=k(),this.offset=k(),this.scale=1,this.speed=k(1),this.scrolling=!0,this.isShaking=!1,this.bounded=!0,this.shakeIntensity=k(),this.shakeDuration=0,this.shakeElapsed=0}setPos(i){this.followEntity=void 0,this.pos=i}setScale(i){this.scale=i}setSpeed(i){this.speed=typeof i=="number"?k(i):i}setScrolling(i){this.scrolling=i}follow(i){this.followEntity=i}unfollow(){this.followEntity=void 0}toggleBounds(i){this.bounded=i}shake(i,e){this.isShaking=!0,this.shakeDuration=i,this.shakeIntensity=k(e.x,e.y),this.offset=k(0),this.shakeElapsed=0}update(){const{game:i,size:e,tileSize:n}=this.scene,o=k(i.width,i.height);if(this.followEntity){const s=this.followEntity.getTranslatedBoundingRect();if(this.scrolling){const r=s.pos.invert().add(o.divide(k(2))).subtract(s.size.divide(k(2)));this.pos.x=Math.ceil(Tt(this.speed.x,this.pos.x,r.x)),this.pos.y=Math.ceil(Tt(this.speed.y,this.pos.y,r.y))}else{const r=s.pos.divide(o).floor();this.pos=k(-r.x*o.x,-r.y*o.y)}}if(this.bounded){const s=e.multiply(n).scale(this.scale).subtract(o);this.pos.x<-s.x+this.scale&&(this.pos.x=-s.x+this.scale),this.pos.y<-s.y+this.scale&&(this.pos.y=-s.y+this.scale),this.pos.x>0&&(this.pos.x=0),this.pos.y>0&&(this.pos.y=0)}this.isShaking&&(this.shakeElapsed+=i.delta,this.shakeElapsed<this.shakeDuration?this.offset=k(Math.random()*this.shakeIntensity.x*o.x*2-this.shakeIntensity.x*o.x,Math.random()*this.shakeIntensity.y*o.y*2-this.shakeIntensity.y*o.y).scale(this.scale):(this.isShaking=!1,this.offset=k()),this.pos=this.pos.add(this.offset))}}class Y{constructor(i=255,e=255,n=255,o=1){this.r=255,this.g=255,this.b=255,this.a=1,typeof i=="string"?this.setHex(i):(this.r=i,this.g=e,this.b=n,this.a=o)}copy(){return new Y(this.r,this.g,this.b,this.a)}add(i){return new Y(this.r+i.r,this.g+i.g,this.b+i.b,this.a+i.a)}subtract(i){return new Y(this.r-i.r,this.g-i.g,this.b-i.b,this.a-i.a)}setAlpha(i){return this.a=i,this}setHex(i){const e=i.replace("#","");return this.r=parseInt(e.substring(0,2),16),this.g=parseInt(e.substring(2,4),16),this.b=parseInt(e.substring(4,6),16),this.a=e.length===8?parseInt(e.substring(6,8),16)/255:1,this}brightness(i){let{r:e,g:n,b:o}=this;return e=e+i,n=n+i,o=o+i,e>255?e=255:e<0&&(e=0),n>255?n=255:n<0&&(n=0),o>255?o=255:o<0&&(o=0),new Y(e,n,o,this.a)}rgbaInt(){const i=ke(this.r/255)*255|0,e=ke(this.g/255)*255<<8,n=ke(this.b/255)*255<<16,o=ke(this.a)*255<<24;return i+e+n+o}toString(i=!0){const e=n=>((n=n|0)<16?"0":"")+n.toString(16);return"#"+e(this.r)+e(this.g)+e(this.b)+(i?e(this.a*255):"")}}const Ae={Black:new Y("#140C1C"),DarkRed:new Y("#442434"),DarkBlue:new Y("#30346D"),DarkGray:new Y("#4E4A4F"),Brown:new Y("#854C30"),DarkGreen:new Y("#346524"),Red:new Y("#D04648"),LightGray:new Y("#757161"),LightBlue:new Y("#597DCE"),Orange:new Y("#D27D2C"),BlueGray:new Y("#8595A1"),LightGreen:new Y("#6DAA2C"),Peach:new Y("#D2AA99"),Cyan:new Y("#6DC2CA"),Yellow:new Y("#DAD45E"),White:new Y("#DEEED6")};var Zt;(function(t){t.Custom="custom",t.ImageLayer="imagelayer",t.Layer="layer",t.ObjectGroup="objectgroup",t.Properties="properties",t.TileSet="tileset"})(Zt||(Zt={}));var di;(function(t){t[t.Diagonally=536870912]="Diagonally",t[t.Horizontally=2147483648]="Horizontally",t[t.Vertically=1073741824]="Vertically"})(di||(di={}));var Jt;(function(t){t.Rectangle="rectangle",t.Ellipse="ellipse",t.Polygon="polygon"})(Jt||(Jt={}));const $d=`
    margin: 0;
    overflow: hidden;
    touch-action: none; 
    user-select: none; 
    -webkit-user-select: none;
    -webkit-touch-callout: none;
`,Qd=`
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
`,Jd=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gUeDiMvgyAfEQAADFFJREFUeNrtHVdu6zAsCnw0+9Tx3fx+ngpG4R4eiQUUbaNokRSXKOrxUJZtKFT96/XaXq/X9nAUqR02rqWeaoYsb+ufW+Eiwels5alFPvcZVg+RCYHBEdA8zyQR9DbeemF9j3Vd334w3HFIXdf10f6XdV1VBENtIA+Rw37HTYjBvv9+QoTBn7Fxa+1vsP63ROWv12vDCGVd1wc2BsUJtm3bOmCXZWkY8DSchAD8oyNsWZa2LEvrc4Rf3bZtA8SxjchflqV12C3LQhJB+w88WN/X11prvR8PEcA+xs/H+fd5vHEACABsl2B/R8u4mHme35AId/Y8zx87nQIGRkQcgcB1jzDowOvwGYmgI22e50fnYlgfvTS4mxylI5QTw9z8IQwmzYAUNXdkjRwC7qxxsnC3YYvB6jtAO/AggHv7/rsjgyLkIwpEegc8nB+EQUeUhgi4z7SicJJYJ0T+siz9e391nQi2bYOi4a3diGSKRVH10v8jMDAAdsKh6iHRjHDo8+ufz/P8AWzIujVsnNrVDAfeqM3Ydzj1f+/bSmQPSj+AegKmOVPWgAQUrl5SkrRKFNV0XBtYj6RDfIzb24/6T3R9lIU1tsP+h3h80+28JhqkoFFR7BzgTGxYMAM/9BqwwVvE9LTI+wz9IKyERdpxJgr22zNmxL6O+hGq66MF4w7/P/v4+fuuFaiSHcsRBkUAGgdKFHhaEcKNI81hNHs5Nm1dm2bzUP2PRAC/99Q6OqS6zrooE0Vie7B9NbeizCRg/7vGwUzE0QyLWhGcCcg50syuzN4RVGi8u5TjANjfGi4ScVVTOxMqS3A8qZ6Dj8ZNbK3zeBI7F/iopxBPsTdqkhKL14oADZI54pCAyJ1VSOwb/raIAad1Qs5LEqGcLkASgHaCmImToaBp5ZxEAJyZitVrRYxmfV4dIAobyyY22d5WjTNqBWg5hGQne5WtK1oBkgjPwPVd7nJun0Tm7oqYgVc4/z8FgqwBJRolSGunS+7YiANMmsdZWLBLH5FkCzQbMQRCDZryVUc9kJp+Is4YDQFHOMheyE8ngBGwkoJosdOz2LO0A70EMCIeU0RHE9oK/Gj7MPIlIEnI1xCA18KwsOAs8UYRcFTEROIpy5GfNTglArgJanWAPRTJah0ggiDOv5GC/EolMKP/6Gnj0VZAFEHaeIG73OUuZza1MZ2K+p22y6NmjOYkTjuGN14gMr40N+1ZAIcEjZIYPS+wxjs8e2UDhUIANzDXHtb1/7l+sLo2FG58S1vt+rn6rJ2PxQxoOUBfJxYTIM7felgTUaI0fUscQNrhnvlZ4hyyCSBbSTNHH2URgCWszCsirGah5/MokXlEgHSCp+EALuRnANBal43gPQhA6xCLhr5X6QAhJVAbjhRRsiw7cG8lNlMJPNIK+PrTyrvc5S7G0jD2QJlKVD1m9nnbS22x70n1mvHH/qz9c2No+pfC4aP9sTDOVroi/3suhWTXR88qKtbHJdigorQ1/09aR4xl0VIfXD287u3hEtLY1PeqFSTt/DRwoTiSB3+T11SSWHL2JccIUWGAsoqUrPlHYKOBgXXuT85lq62LcAtJ3l2hWICuQVKEAF0cYJyUBwFce03/EovUKJqZO0OS4XD8bPhVcJ/o/O5yl+8sFdFJlwRCxBWa3f5MZqn2/2i8gsaNWxZ2vjfAoruxYj6aq+laJdaj+GoPcjQ3mE9HAFEKzkJg5Ljbe3PZ6uzxHOhg+RxSRYA1xUu23N2DAPZAsBYPlrsF2PfNRGCZvIdF7nVe793B2fOLyGdNLqNM/U+VKRTakR6XY9QOrbRjsbV41mg5ENO4wjMRz+UWvu3Au9TZ0nv3543Xs8hnz3ey+i8tmUmMjiCAMySXyJD/h+5kTS5bTUygx5GRcXHD4kjhUrFVcwDLGjQp5qzwNRPB2T1xGk9bpZWiNVE9pqSUU7HSMbebJzDL1Vo1/wwC8F5aqSaA6XGREjFZqq5zeeZ/tniHyQNAzE62xAOM35EQJPkBRrkuvaZhJQYpHsBDjNR8ov1b4fczjoDKgIg72OIuKX4KrwVylTcKz28HH7y2qJIopd5jL4d67fQMO7QyIMR7HX1PKyVCAJgZz42P+nq+OSDE2mdFQEimJzDDS4qmjK9G8JUDQqqvz2dyAG2bj4cjrWZcxI4/Y+w/vHXjWf8V7zO8EYDl5k3EjubGGuMOLH4I7gx/vFbFXQ7liMAiPjgishJK1DeAvcwaYi2/mGjgSk/Cl5ox3hMxrYzkrISonR0h7Oj8IjGHlf2r8wNE2RTHgjPGgP16xqieX8b4XP9Qs8eep6P6RwHmSUAgTYB7elajJ0jt+/PtXc5x/XsBmNG+QlHU4osksr2zdv3a/1lmXoWfZMqkwqvoM9o0NNU2eoWOZq2fsuTgFWxgKRVtZH1Hr9+S0+hNnGllXCQewNO+sh6bYyRJllQfTXKlqU9JSvXtNu6dKLHQhq62syP9Z9jR0fqvJgTLcWjWE/BeR0g00bPmSdbsp2utx9Fm/GpzAWMdWEKes+4NVHOmI67HRzhM2Az1sFjqgsXtR/C9bKrdPNkXc54aCrVkqqzUJb715SuJQMbXVrg0fpKZaNb+LbkBrsoBpF20pwjwcgDvGM1ih2Jn2uMhzBF2doafQHIYRefH2d+WZNSegzD2vsRtAOsR+PP+gGgOIK4P6eXPrJdBz+iAOsV6MhDvdcZk6RlRH0AVIva8nGotjdKwsTPts7JQjQyMBotw8llTXzk/qR+u/wn7kKNASgmBwYaWwwgsB76kxFRF4HpPC7UHN1zQqmZdWsWVC5hVBYR44uY7B6lM9RrREaIvlkXlveQn0XgCqfRxngQU/e/nnspOWF4x8fnS07ScowQzEbW732q+cfVe+GFp/Kxi0pRDJ+Ndvz3v5mXkMKpWADOSQXuyidzlRNbWYQiiZCyU69Jv7DxAk9c2qx6OOV6TjhSpf229ljCq5k+VJ5RL4+9lWRoVUjzKrdEdfAVvGnpNylD/DfN/SrteQj6F+CxWViWbtcDLuG00FmyHH0W8T2zXY7ZpFQeIItjStrX2aK2RwJHqjy6e+XPE9+cIer1em5bdU79HjqFFCpxsv9nj2Qmetr9QJPhO2K7HrkprOABGCNIEocsZ+760gN5emT7FXB8lMKm9hdt45i/BdxoROnKDag4QJZBqmWkhME977ZlLlcJ6uA5wa/snmn/UTo/2Xzm/o+z4s7d/Pu7y02X6tgXN8xyOTYB9ePwa4xwE065F2ofHH9lIge3ajuwfQyDUzCUEZzu29u7fxAGiysQ8z6UKi6b/TOXq50SANQwMU0Q0/XjH0fSvRerYh4UYPIQD/QAVm8TS/1frAF4Cs7aJxExWbBJr/7cVcJdcO1TT7xHFsr4KP0j0vD76fakcygGisvDbPXzV31/XVdYBJKrzunzPgvxxfRl+hEtZARiCLY4Ei/3aYUmdalXUc+nSNSd8GSHhZ+Y0k7RTJCBhx53RM/6KxWPzWNdVvT4vsKX+9wilZzmAZC5ISg913Il97jnPjtZL89Ouz2siRo+wqzfQZFlMB5YHKGdV+EZkYXmGv1oHsHqbPIC+tf1911fmCdRekMywEvaWhRmyWHqxFI5VBRdzil+rhutJcRKt39MZprk/iM1Pazoe9baQGKnF3a61JHCQvhNN8MC9XSiNr7k9LN2+1cAk++oX5tHk4GOZ6xNSpSd5Uhbb587F4fzYdGeKXefNAWB1yXI70JqIc5z72AcGHwpnY9tnhBqvUkYAeNa2ruvbT6ZoGTdfj862rM+Ll6cVkBlvCLpk1E5E4jEBIUyyZfwYZt//ljKwuBCQpQNwCPa8HczJOMv9eo0M1UQVezKlSmuDdzI9yaa1SS6vysXvUsX5rjRZgr1uxFr+Pr/ClfWMTKQene05sg8uL36GeRN5eFIi5IF9fmjO47XsMyqrlI4FNXxNihzN+swe1OqXtZy6Btcn+riDxxcBiccbMaVNSG2dH5eDgCKOvsmncUBIFdhJGpt4mPEjVHvA+rz6/Cltnvpc8hUsy9Kkw7B+sTbbR4LhwOlr6fP8+2zSsibNwJKTxTJxa1JIjX1frQN0IsFeLbU8O6c9U8goU1bn2kVWcgLsOBeOB5HDeciop2FhDIGFw1T5TqwFi5doVhGAUWTWYY+UT58gHNEKGBEJr4SdwIpJI3yMGEfReGoz0AkgaWf99JsIFHH08g+xCUH4e1s+1AAAAABJRU5ErkJggg==
`,ot=()=>typeof performance<"u"&&performance.now()||0,oa=(t,i)=>t.renderOrder-i.renderOrder,ep=t=>new Promise(i=>setTimeout(i,t));class tp{constructor(i){this.entity=i,this.then=ot(),this.frameStart=ot(),this.animFrame=0}animate(){const{animation:i}=this.entity;if(i){this.animFrame=this.animFrame||0,this.frameStart=ot(),this.animation!==i&&(this.animation=i,this.animFrame=0);const e=i.strip?i.strip.duration:i.frames&&i.frames[this.animFrame][2]||0,n=i.strip?i.strip.frames:i.frames&&i.frames.length||0;this.frameStart-this.then>e&&(this.animFrame<=n&&i.loop?this.animFrame=Fl(this.animFrame+1,0,n):this.animFrame<n-1&&!i.loop&&(this.animFrame+=1),this.then=ot())}}draw(){if(!this.entity.onScreen())return;const{animation:i,animFrame:e}=this,{angle:n,color:o,scene:s,shape:r,flipH:l,flipV:c}=this.entity,{game:h,camera:d}=s,a=k(d.scale),u=this.entity.image&&s.game.getImage(this.entity.image),f=this.entity.getRelativeBoundingRect();if(u)if(i){const{frames:_,strip:v,width:w,height:b}=i,E=_&&_[e]||[0,0],m=v?k(v.x+e*w,v.y):k(E[0],E[1]),x=i?.offset?k(...i.offset).scale(d.scale):k(0,0),A=new _t(f.pos.add(x),k(w,b));h.draw.draw2d(u,A,a,n,l,c,m)}else h.draw.draw2d(u,f,a,n,l,c);else o&&(r===Jt.Ellipse?h.draw.fillEllipse(f,o,n):h.draw.fillRect(f,o,n))}}class Re{constructor(i,e){if(this.scene=i,this.obj=e,this.id=Date.now(),this.bounded=!1,this.flipH=!1,this.flipV=!1,this.solid=!0,this.visible=!0,this.active=!0,this.dead=!1,this.collideTiles=!0,this.collideObjects=!0,this.onGround=!1,this.shape=Jt.Rectangle,this.pos=k(),this.lastPos=k(),this.size=k(),this.force=k(),this.mass=1,this.damping=1,this.elasticity=0,this.friction=.8,this.gravityScale=1,this.angleVelocity=0,this.angleDamping=1,this.angle=0,this.maxSpeed=1,this.spawnTime=0,this.renderOrder=0,this.properties={},this.sprite=new tp(this),e)if(this.id=e.id,this.gid=e.gid,this.type=e.type,this.name=e.name,this.layerId=e.layerId,this.properties=e.properties,e.x&&e.y){const{tileSize:n}=i,o=ui(e.x,e.y,e.width,e.height);this.size=k(o.size.x/n.x,o.size.y/n.y),this.pos=k(o.pos.x/n.x+this.size.x/2,o.pos.y/n.y+this.size.y/2-(this.gid?this.size.y:0))}else this.size=e.size||this.size,this.pos=e.pos||this.pos;this.spawnTime=i.game.time,this.angle=e?.rotation?Zd(e.rotation):this.angle,this.visible=e?.visible!==void 0?e.visible:!0,this.force=e?.force||this.force,this.flipH=e?.flipH||this.flipH,this.flipV=e?.flipV||this.flipV,this.animation=e?.animation||this.animation,this.family=e?.family||this.family,this.shape=e?.shape||this.shape}destroy(){this.dead=!0}getAliveTime(){return this.scene.game.time-this.spawnTime}applyForce(i){this.mass&&(this.force=this.force.add(i.scale(1/this.mass)))}collideWithTile(i,e){return i>0}collideWithTileRaycast(i,e){return i>0}collideWithObject(i){return!0}onScreen(){return this.scene.getCameraVisibleArea().overlaps(this.pos,this.size)}draw(){if(this.visible&&this.onScreen()){if(this.gid){const i=this.scene.getTileObject(this.gid),e=this.size.multiply(this.scene.tileSize).divide(i.size).scale(this.scene.camera.scale);i.draw(this.scene.getScreenPos(this.pos,this.size),this.flipH,this.flipV,this.angle,e)}else this.sprite.draw();this.scene.game.debug&&this.displayDebug()}}setAnimation(i,e=!1,n=!1){this.flipH=e,this.flipV=n,this.animation=i}getAnimationFrame(){var i;return((i=this.sprite)===null||i===void 0?void 0:i.animFrame)||0}setAnimationFrame(i){this.sprite.animFrame=i}getTranslatedBoundingRect(){return new _t(this.scene.getScreenPos(this.pos,this.size),this.size.multiply(this.scene.tileSize).scale(this.scene.camera.scale))}getRelativeBoundingRect(){return this.getTranslatedBoundingRect().move(this.scene.camera.pos)}isOverlapping(i,e=k()){return Math.abs(this.pos.x-i.x)*2<this.size.x+e.x&&Math.abs(this.pos.y-i.y)*2<this.size.y+e.y}update(){const{scene:i}=this;if(this.sprite.animate(),this.ttl&&Math.min(this.getAliveTime()/this.ttl,1)===1&&this.destroy(),this.force.x=ke(this.force.x,-this.maxSpeed,this.maxSpeed),this.force.y=ke(this.force.y,-this.maxSpeed,this.maxSpeed),!this.mass)return;this.lastPos=this.pos.clone(),this.force.y+=i.gravity*this.gravityScale,this.pos.x+=this.force.x*=this.damping,this.pos.y+=this.force.y*=this.damping,this.angle+=this.angleVelocity*=this.angleDamping,this.bounded&&(this.pos.x<0&&(this.pos.x=0),this.pos.y<0&&(this.pos.y=0),this.pos.x>i.size.x&&(this.pos.x=i.size.x),this.pos.y>i.size.y&&(this.pos.y=i.size.y));const e=this.force.y>0;if(this.onGround){const n=this.onGround instanceof Re?this.onGround.force.x:0;this.force.x=n+(this.force.x-n)*this.friction,this.onGround=!1}if(this.collideObjects){const o=i.objects.filter(s=>s.visible&&s.collideObjects);for(const s of o){if(!this.solid&&!s.solid||s.dead||s==this||!s.isOverlapping(this.pos,this.size))continue;const r=this.collideWithObject(s),l=s.collideWithObject(this);if(!r||!l)continue;if(s.isOverlapping(this.lastPos,this.size)){const f=this.lastPos.subtract(s.pos),_=f.length(),v=.001,w=_<.01?Bl(v):f.scale(v/_);this.force=this.force.add(w),s.mass&&(s.force=s.force.subtract(w));continue}const c=this.size.add(s.size),h=(this.lastPos.y-s.pos.y)*2>c.y+i.gravity,d=Math.abs(this.lastPos.y-s.pos.y)*2<c.y,a=Math.abs(this.lastPos.x-s.pos.x)*2<c.x,u=Math.max(this.elasticity,s.elasticity);if(h||a||!d){if(this.pos.y=s.pos.y+(c.y/2+.001)*Math.sign(this.lastPos.y-s.pos.y),s.onGround&&e||!s.mass)e&&(this.onGround=s),this.force.y*=-u;else if(s.mass){const f=(this.mass*this.force.y+s.mass*s.force.y)/(this.mass+s.mass),_=this.force.y*(this.mass-s.mass)/(this.mass+s.mass)+s.force.y*2*s.mass/(this.mass+s.mass),v=s.force.y*(s.mass-this.mass)/(this.mass+s.mass)+this.force.y*2*this.mass/(this.mass+s.mass);this.force.y=Tt(u,f,_),s.force.y=Tt(u,f,v)}}if(!h&&d)if(this.pos.x=s.pos.x+(c.x/2+.001)*Math.sign(this.lastPos.x-s.pos.x),s.mass){const f=(this.mass*this.force.x+s.mass*s.force.x)/(this.mass+s.mass),_=this.force.x*(this.mass-s.mass)/(this.mass+s.mass)+s.force.x*2*s.mass/(this.mass+s.mass),v=s.force.x*(s.mass-this.mass)/(this.mass+s.mass)+this.force.x*2*this.mass/(this.mass+s.mass);this.force.x=Tt(u,f,_),s.force.x=Tt(u,f,v)}else this.force.x*=-u}}if(this.collideTiles&&i.testTileCollision(this.pos,this.size,this)&&!i.testTileCollision(this.lastPos,this.size,this)){const n=i.testTileCollision(k(this.lastPos.x,this.pos.y),this.size,this),o=i.testTileCollision(k(this.pos.x,this.lastPos.y),this.size,this);if(n||!o){this.onGround=e,this.force.y*=-this.elasticity;const s=(this.lastPos.y-this.size.y/2|0)-(this.lastPos.y-this.size.y/2);s<0&&s>this.damping*this.force.y+i.gravity*this.gravityScale&&(this.force.y=this.damping?(s-i.gravity*this.gravityScale)/this.damping:0),this.pos.y=this.onGround?Math.floor(this.pos.y+this.size.y/2)-this.size.y/2:this.lastPos.y}o&&(this.pos.x=this.lastPos.x,this.force.x*=-this.elasticity)}}displayDebug(){const i=this.getRelativeBoundingRect(),{draw:e,primaryColor:n}=this.scene.game,{angle:o,id:s,type:r,visible:l,force:c,pos:h}=this,{Cyan:d,LightGreen:a,Red:u}=Ae,{pos:{x:f,y:_},size:v}=i,w=v.x/2,b=f+w,E="1em";e.outline(i,l?a:d,1),e.text(`${r||s||""}[${o.toFixed(2)}]`,k(b,_-14),n,E,"center","top",!0),e.text(`x:${h.x.toFixed(1)}`,k(b-w-2,_),n,E,"right","top",!0),e.text(`y:${h.y.toFixed(1)}`,k(b-w-2,_+14),n,E,"right","top",!0),Math.abs(c.x)>.012&&e.text(`x:${c.x.toFixed(3)}`,k(b+w+2,_),u,E,"left","top",!0),Math.abs(c.y)>.012&&e.text(`y:${c.y.toFixed(3)}`,k(b+w+2,_+14),u,E,"left","top",!0)}}class ip extends Re{constructor(i,e){super(i,e),this.scene=i,this.type="Platfuse.Particle",this.shape=Jt.Rectangle,this.colorStart=new Y,this.colorEnd=new Y,this.ttl=0,this.sizeStart=.1,this.sizeDelta=0,this.fadeRate=.1,this.stretchScale=0,this.pos=e?.pos||k()}draw(){const{time:i}=this.scene.game,e=Math.min((i-this.spawnTime)/this.ttl,1),n=this.sizeStart+e*this.sizeDelta,o=this.fadeRate/2;if(this.size=k(n),this.color=new Y(this.colorStart.r+e*this.colorEnd.r,this.colorStart.g+e*this.colorEnd.g,this.colorStart.b+e*this.colorEnd.b,(this.colorStart.a+e*this.colorEnd.a)*(e<o?e/o:e>1-o?(1-e)/o:1)),this.stretchScale){const s=this.force.length();if(s){const r=this.force.scale(1/s),l=s*this.stretchScale;this.size.y=Math.max(this.size.x,l),this.angle=r.angle()}}e===1&&this.destroy(),super.draw()}displayDebug(){}}class np extends Re{constructor(i,e){super(i,e),this.scene=i,this.obj=e,this.type="Platfuse.Emitter",this.shape=Jt.Rectangle,this.angle=0,this.emitTime=0,this.emitRate=100,this.emitConeAngle=Math.PI,this.colorStart=new Y,this.colorEnd=new Y,this.ttl=.5,this.sizeStart=.1,this.sizeEnd=1,this.speed=.1,this.damping=1,this.angleDamping=1,this.gravityScale=0,this.particleConeAngle=Math.PI,this.fadeRate=.1,this.randomness=.2,this.collideTiles=!1,this.collideObjects=!1,this.renderOrder=0,this.stretchScale=0,this.timeBuffer=0,this.pos=e?.pos||k(),this.angle=e?.angle||0,this.emitSize=e?.emitSize||0,this.emitTime=e?.emitTime||0,this.emitRate=e?.emitRate||this.emitRate,this.elasticity=e?.elasticity||this.elasticity,this.emitConeAngle=e?.emitConeAngle||this.emitConeAngle,this.colorStart=e?.colorStart||this.colorStart,this.colorEnd=e?.colorEnd||this.colorEnd,this.ttl=e?.ttl||this.ttl,this.sizeStart=e?.sizeStart||this.sizeStart,this.sizeEnd=e?.sizeEnd||this.sizeEnd,this.speed=e?.speed||this.speed,this.damping=e?.damping||this.damping,this.angleDamping=e?.angleDamping||this.angleDamping,this.gravityScale=e?.gravityScale||this.gravityScale,this.particleConeAngle=e?.particleConeAngle||this.particleConeAngle,this.fadeRate=e?.fadeRate||this.fadeRate,this.randomness=e?.randomness||this.randomness,this.collideTiles=!!e?.collideTiles,this.collideObjects=!!e?.collideObjects,this.stretchScale=e?.stretchScale||this.stretchScale,this.elasticity=e?.elasticity||this.elasticity,this.shape=e?.shape||this.shape}update(){const{delta:i}=this.scene.game;if(!this.emitTime||this.getAliveTime()<=this.emitTime){if(this.emitRate){const e=1/this.emitRate;for(this.timeBuffer+=i;this.timeBuffer>0;this.timeBuffer-=e)this.emitParticle()}}else this.destroy()}randomize(i){return i+i*vt(this.randomness,-this.randomness)}emitParticle(){const i=this.pos.add(this.emitSize instanceof ae?k(vt(-.5,.5),vt(-.5,.5)).multiply(this.emitSize).rotate(this.angle):Yd(this.emitSize/2)),e=this.angle+vt(this.particleConeAngle,-this.particleConeAngle),n=new ip(this.scene,Object.assign(Object.assign({},this.obj),{angle:e,pos:i})),o=this.randomize(this.ttl),s=this.randomize(this.sizeStart),r=this.randomize(this.sizeEnd),l=this.randomize(this.speed),c=vt(this.emitConeAngle,-this.emitConeAngle),h=this.angle+c;n.shape=this.shape,n.colorStart=this.colorStart,n.colorEnd=this.colorEnd.subtract(this.colorStart),n.renderOrder=this.renderOrder,n.damping=this.damping,n.angleDamping=this.angleDamping,n.elasticity=this.elasticity,n.friction=this.friction,n.gravityScale=this.gravityScale,n.collideTiles=this.collideTiles,n.collideObjects=this.collideObjects,n.force=k().setAngle(h,l),n.ttl=o,n.sizeStart=s,n.sizeDelta=r-s,n.fadeRate=this.fadeRate,n.stretchScale=this.stretchScale,n.layerId=this.layerId,this.scene.objects.push(n)}draw(){}}function Ti(t,i,e,n){function o(s){return s instanceof e?s:new e(function(r){r(s)})}return new(e||(e=Promise))(function(s,r){function l(d){try{h(n.next(d))}catch(a){r(a)}}function c(d){try{h(n.throw(d))}catch(a){r(a)}}function h(d){d.done?s(d.value):o(d.value).then(l,c)}h((n=n.apply(t,[])).next())})}function et(t,i,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?t!==i||!n:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(t):n?n.value:i.get(t)}function rp(t,i){return Ti(this,void 0,void 0,function*(){const e=Object.keys(t).length;let n=0;const o=s=>{const r=t[s];return new Promise(l=>{if(/\.(gif|jpe?g|png|webp|bmp)$/i.test(r)||/(data:image\/[^;]+;base64[^"]+)$/i.test(r)){const c=new Image;c.src=r,c.onload=()=>(i(++n/e),l(c))}else if(/\.(webm|mp3|wav)$/i.test(r)||/(data:audio\/[^;]+;base64[^"]+)$/i.test(r)){const c=new Mr.Howl({src:r});c.once("load",()=>(i(++n/e),l(c)))}else return Promise.resolve()})};return Promise.resolve(Object.assign({},...yield Promise.all(Object.keys(t).map(s=>Ti(this,void 0,void 0,function*(){return{[s]:yield o(s)}})))))})}class sp{constructor(i,e){this.game=i,this.glCanvas=document.createElement("canvas"),this.glUniforms={};const n=this.gl=this.glCanvas.getContext("webgl2"),o=new Float32Array([0,0,1,0,0,1,1,1]);this.glPostShader=this.createProgram(e.vertexShader,e.fragmentShader),this.glUniforms=e.uniforms||{},this.glGeometryBuffer=n.createBuffer(),this.glPostTexture=this.createTexture(),this.glCanvas.style.cssText=this.game.canvas.style.cssText,this.game.canvas.style.visibility="hidden",n.bindBuffer(n.ARRAY_BUFFER,this.glGeometryBuffer),n.bufferData(n.ARRAY_BUFFER,o,n.STATIC_DRAW),document.body.appendChild(this.glCanvas)}compileShader(i,e){const{gl:n}=this,o=n.createShader(e);return n.shaderSource(o,i),n.compileShader(o),o}createProgram(i,e){const{gl:n}=this,o=n.createProgram();return n.attachShader(o,this.compileShader(i,n.VERTEX_SHADER)),n.attachShader(o,this.compileShader(e,n.FRAGMENT_SHADER)),n.linkProgram(o),o}createTexture(i){const{gl:e}=this,n=e.createTexture(),o=this.game.pixelPerfect?e.NEAREST:e.LINEAR;return e.bindTexture(e.TEXTURE_2D,n),i&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n}render(){const{game:i,gl:e,glCanvas:n,glPostShader:o,glGeometryBuffer:s,glPostTexture:r}=this,{canvas:l}=i,c=e.getAttribLocation(o,"p"),h=d=>e.getUniformLocation(o,d);e.viewport(0,0,n.width=l.width,n.height=l.height),e.useProgram(o),e.bindBuffer(e.ARRAY_BUFFER,s),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1),e.disable(e.BLEND),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l),e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,8,0),Object.keys(this.glUniforms).forEach(d=>{const{value:a,type:u}=this.glUniforms[d],f=typeof a=="function"?a(i):a,_=h(d);_&&(typeof f=="number"?u==="i"?e.uniform1i(_,f):e.uniform1f(_,f):typeof f=="boolean"?e.uniform1i(_,f?1:0):f instanceof Array&&(f.length===2?e.uniform2f(_,f[0],f[1]):f.length===3?e.uniform3f(_,f[0],f[1],f[2]):f.length===4&&e.uniform4f(_,f[0],f[1],f[2],f[3])))}),e.drawArrays(e.TRIANGLE_STRIP,0,4)}}class op{constructor(i){this.game=i,this.pixelFont=new Image,this.pixelText=()=>{},this.pixelFont.src=Jd,this.pixelFont.onload=()=>this.pixelText=this.createPixelFontRenderer(this.pixelFont,8)}fillRect(i,e,n=0){const{ctx:o}=this.game,{pos:s,size:r}=i;o.save(),this.rotate(i,n),o.fillStyle=e.toString(),o.fillRect(s.x,s.y,r.x,r.y),o.restore()}fillEllipse(i,e,n=0){const{ctx:o}=this.game,{pos:s,size:r}=i;o.save(),this.rotate(i,n),o.beginPath(),o.ellipse(s.x+r.x/2,s.y+r.y/2,r.x/2,r.y/2,n,0,Math.PI*2),o.fillStyle=e.toString(),o.fill(),o.restore()}stroke(i,e,n,o=1){const{ctx:s}=this.game;s.lineWidth=o,s.lineJoin="miter",s.beginPath(),s.moveTo(n[0].x+i,n[0].y+e),n.map(r=>s.lineTo(i+r.x,e+r.y)),s.lineTo(n[0].x+i,n[0].y+e),s.stroke()}outline(i,e,n=1,o=0){const{ctx:s}=this.game,{pos:r,size:l}=i;s.save(),this.rotate(i,o),s.strokeStyle=e.toString(),s.lineWidth=n,s.beginPath(),s.rect(r.x,r.y,l.x,l.y),s.stroke(),s.restore()}text(i,e,n,o="1em",s="left",r="top",l=!1){const{ctx:c}=this.game;c.font=`${o} monospace`,c.textBaseline=r,c.textAlign=s,l&&(c.strokeStyle=Ae.Black.setAlpha(.9).toString(),c.lineJoin="round",c.lineWidth=4,c.strokeText(i,e.x,e.y)),c.fillStyle=(n||Ae.White).toString(),c.fillText(i,e.x,e.y)}draw2d(i,e,n=k(1),o=0,s=!1,r=!1,l,c){const h=c||this.game.ctx,{pos:d,size:a}=e,u=s||r,f=k(s?-1:1,r?-1:1),_=k(s?-a.x*n.x:0,r?-a.y*n.y:0),v=d.subtract(_).multiply(f);h.save(),this.rotate(e,o,l?n:k(1)),u&&h.scale(f.x,f.y),h.translate(.5,.5),l?h.drawImage(i,l.x,l.y,a.x,a.y,v.x-.5,v.y-.5,a.x*n.x,a.y*n.y):h.drawImage(i,d.x-.5,d.y-.5,a.x,a.y),h.translate(-.5,-.5),h.restore()}rotate(i,e=0,n=k(1)){const{pos:o,size:s}=i,r=this.game.ctx;r.translate(o.x+s.x*n.x/2,o.y+s.y*n.y/2),r.rotate(e),r.translate(-(o.x+s.x*n.x/2),-(o.y+s.y*n.y/2))}setBlending(i,e=this.game.ctx){e.globalCompositeOperation=i?"lighter":"source-over"}copyToMainContext(i,e,n){const{ctx:o}=this.game;o.drawImage(i,e.x,e.y,n.x,n.y)}createPixelFontRenderer(i,e,n="white"){const{ctx:o}=this.game,s=i.width/e|0,r=document.createElement("canvas"),l=r.getContext("2d");return r.width=i.width,r.height=i.height,l.drawImage(i,0,0),l.fillStyle=n,l.globalCompositeOperation="source-in",l.fillRect(0,0,i.width,i.height),(c,h,d=1,a="left",u="top")=>{let{x:f,y:_}=h.clone();a==="center"&&(f-=c.length*e*d/2),a==="right"&&(f-=c.length*e*d),u==="middle"&&(_-=e*d/2),u==="bottom"&&(_-=e*d),c.split(`
`).reverse().forEach((v,w)=>{for(let b=0;b<v.length;b++){const E=v.charCodeAt(b);o.drawImage(r,E%s*e,Math.ceil((E+1)/s-1)*e,e,e,Math.floor(f+b*e*d),Math.floor(_-w*(e+1)),e*d,e*d)}})}}preloader(i){const{ctx:e,canvas:n,backgroundColor:o,secondaryColor:s}=this.game,{width:r,height:l}=n,c=k(l/4).floor(),h=k(r/2-c.x/2,l/2-c.y/2).floor(),d=c.x/8,a=e.createRadialGradient(r/2,l/2,c.y,r/2,l/2,l);e.save(),a.addColorStop(0,o.brightness(15).toString()),a.addColorStop(.7,o.toString()),e.fillStyle=a,e.fillRect(0,0,r,l),e.shadowColor="rgba(0, 0, 0, 0.3)",e.shadowBlur=6,e.shadowOffsetX=3,e.shadowOffsetY=3,this.fillRect(ui(h.x,h.y,c.x,c.y),Ae.LightBlue),this.fillRect(ui(h.x+d*.8,h.y+d*.8,c.x-d*1.6,c.y-d*1.6),Ae.DarkBlue),e.fillStyle=Ae.White.toString(),this.stroke(h.x+d*2,h.y+d*7,[k(0,d*.2),k(0,-d*5),k(d*4,-d*5),k(d*4,-d),k(d*1.25,-d),k(d*1.25,d*.2)],0),e.fill(),this.fillRect(ui(-d*1.5/2+h.x+c.x/2,-d*1.5/2+h.y+c.y/2,d*1.5,d*1.5),Ae.LightBlue),this.text(i<1?"Loading assets...":"Ready!",k(r/2,l-l*.05),Ae.White,"1em","center","bottom"),this.fillRect(ui(0,l-l*.015,r*i,l*.015),s),e.restore()}}var it,Lr,Rr,Ul,zl,Nr,Xl,aa;const ap=window.ontouchstart!==void 0;class lp{constructor(i){it.add(this),this.game=i,this.mouseWheel=0,this.mouseScreenPos=k(),this.keyboardData={},this.pointerData={},Lr.set(this,e=>{e.repeat||(this.keyboardData[e.code]=3)}),Rr.set(this,e=>{this.keyboardData[e.code]=4}),document.addEventListener("keydown",e=>et(this,Lr,"f").call(this,e),!1),document.addEventListener("keyup",e=>et(this,Rr,"f").call(this,e),!1),document.addEventListener("mousedown",e=>et(this,it,"m",Ul).call(this,e)),document.addEventListener("mousemove",e=>et(this,it,"m",Nr).call(this,e)),document.addEventListener("mouseup",e=>et(this,it,"m",zl).call(this,e)),document.addEventListener("wheel",e=>et(this,it,"m",Xl).call(this,e))}keyIsDown(i){return this.keyboardData[i]&1}keyWasPressed(i){return this.keyboardData[i]&2?1:0}keyWasReleased(i){return this.keyboardData[i]&4?1:0}mouseIsDown(i){return this.pointerData[i]&1}mouseWasPressed(i){return this.pointerData[i]&2?1:0}mouseWasReleased(i){return this.pointerData[i]&4?1:0}clearInput(){this.keyboardData={},this.pointerData={}}update(){ap||document.hasFocus()||this.clearInput()}postUpdate(){for(const i in this.keyboardData)this.keyboardData[i]&=1;for(const i in this.pointerData)this.pointerData[i]&=1;this.mouseWheel=0}}Lr=new WeakMap,Rr=new WeakMap,it=new WeakSet,Ul=function(i){this.pointerData[i.button]=3,et(this,it,"m",Nr).call(this,i),i.button&&i.preventDefault()},zl=function(i){this.pointerData[i.button]=this.pointerData[i.button]&2|4},Nr=function(i){this.mouseScreenPos=et(this,it,"m",aa).call(this,k(i.x,i.y))},Xl=function(i){i.ctrlKey||(this.mouseWheel=Math.sign(i.deltaY))},aa=function(i){const{canvas:e}=this.game,n=e.getBoundingClientRect();return k(e.width,e.height).multiply(k(Ir(i.x,n.left,n.right),Ir(i.y,n.top,n.bottom)))};class up{constructor(i,e){this.game=i,this.time=e===void 0?void 0:i.time+e,this.ts=e}set(i=0){this.time=this.game.time+i,this.ts=i}unset(){this.time=void 0}isSet(){return this.time!==void 0}isActive(){return this.time!==void 0&&this.game.time<=this.time}isDone(){return this.time!==void 0&&this.game.time>this.time}getTime(){return this.time!==void 0?this.game.time-this.time:0}getPercent(){return this.time!==void 0&&this.ts!==void 0?Ir(this.time-this.game.time,this.ts,0):0}}class Gt{constructor(i,e){this.scene=i,this.id=Date.now(),this.type=Zt.Custom,this.size=k(),this.renderOrder=0,this.visible=!0,this.properties={},e?(this.id=e.id,this.name=e.name,this.type=e.type,this.size=k(e.width,e.height),this.visible=e.visible===void 0?!0:!!e.visible,this.properties=e?.properties||{},e.type===Zt.Layer&&(this.data=e?.data,this.renderTilesToLayerCanvas())):this.type=Zt.Custom}renderTilesToLayerCanvas(){this.data&&(this.layerCanvas=document.createElement("canvas"),this.layerCanvas.width=this.size.x*this.scene.tileSize.x,this.layerCanvas.height=this.size.y*this.scene.tileSize.y,this.layerContext=this.layerCanvas.getContext("2d"),this.data.forEach((i,e)=>i&&this.drawTileAt(i,e)))}update(){}postUpdate(){}drawTileAt(i,e){if(i){const{game:n,tileSize:o}=this.scene,s=this.scene.getTileObject(i),{image:r,tilewidth:l,tileheight:c}=s.tileset,{H:h,V:d}=en(i)||{H:!1,V:!1},a=s.getSpriteClip(),u=new _t(k(e%this.size.x,Math.floor(e/this.size.x)).multiply(o),k(l,c));s.animated||n.draw.draw2d(n.getImage(r.source),u,k(1),0,h,d,a,this.layerContext)}}getTile(i){return i.inRange(this.size)&&this.data&&this.data[i.x+this.size.x*i.y]||null}setTile(i,e){if(this.data&&i.inRange(this.size)){const n=i.x+this.size.x*i.y;this.data[n]=e,this.drawTileAt(e,n)}}clearTile(i){var e;this.data&&i.inRange(this.size)&&(this.data[i.x+this.size.x*i.y]=null,(e=this.layerContext)===null||e===void 0||e.clearRect(i.x*this.scene.tileSize.x,i.y*this.scene.tileSize.y,this.scene.tileSize.x,this.scene.tileSize.y))}toggleVisibility(i=!this.visible){this.visible=i}forEachVisibleTile(i){const{pos:e,size:n}=this.scene.getCameraVisibleGrid();for(let o=e.y;o<e.y+n.y;o++)for(let s=e.x;s<e.x+n.x;s++){const r=this.getTile(k(s,o));if(r){const l=this.scene.getTileObject(r),c=this.scene.getScreenPos(k(s,o)),h=en(r),{H:d,V:a}=h||{H:!1,V:!1};i(l,c,d,a)}}}forEachVisibleObject(i){const e=this.scene.objects.filter(({layerId:n})=>n===this.id);e.sort((n,o)=>n.renderOrder-o.renderOrder);for(const n of e)n.visible&&i(n)}draw(){const{camera:i}=this.scene,{draw:e}=this.scene.game;if(this.visible)switch(this.type){case Zt.Layer:if(this.layerCanvas){const n=new _t(k(),this.scene.game.getResolution().divide(i.scale)),o=i.pos.divide(i.scale).scale(-1);e.draw2d(this.layerCanvas,n,k(i.scale),0,!1,!1,o)}this.forEachVisibleTile((n,o,s,r)=>{n.animated&&n.draw(o,s,r)});break;default:this.forEachVisibleObject(n=>n.draw());break}}}class fp{constructor(i,e,n){this.scene=i,this.id=e,this.tileset=n,this.size=k(),this.animated=!1,this.animFrame=0,this.then=ot(),this.frameStart=ot(),this.properties=this.getTileProperties(e,this.tileset),this.type=this.properties&&this.properties.type||null,this.size=k(this.tileset.tilewidth,this.tileset.tileheight),this.animated=this.properties&&this.properties.animation}getTileProperties(i,e){const{firstgid:n,tiles:o}=e;return o.length&&o.filter(s=>s.id===i-n)[0]||{}}getNextGid(){if(this.animated){this.frameStart=ot();const{frames:i}=this.properties.animation;return this.frameStart-this.then>i[this.animFrame].duration&&(this.animFrame<=i.length&&(this.animFrame=Fl(this.animFrame+1,0,i.length)),this.then=ot()),i[this.animFrame].tileid+this.tileset.firstgid}else return this.id}getSpriteClip(){const{columns:i,firstgid:e,tilewidth:n,tileheight:o}=this.tileset,s=this.getNextGid();return k((s-e)%i*n,(Math.ceil((s-e+1)/i)-1)*o)}draw(i,e=!1,n=!1,o=0,s=k(this.scene.camera.scale)){const{image:r,tilewidth:l,tileheight:c}=this.tileset,{game:h,camera:d}=this.scene,a=h.getImage(r.source),u=this.getSpriteClip();h.draw.draw2d(a,new _t(i.add(d.pos),k(l,c)),s,o,e,n,u)}}class jl{constructor(i,e){this.game=i,this.name=e,this.camera=new Kd(this),this.size=this.game.getResolution(),this.tileSize=k(1),this.tiles={},this.tileCollisionData=[],this.objects=[],this.layers=[],this.data={},this.gravity=0,this.nextRenderOrder=0}destroy(){this.data={},this.tiles={},this.layers=[],this.objects=[],this.tileCollisionData=[],this.nextRenderOrder=0,this.camera.pos=k()}preInit(){return Ti(this,void 0,void 0,function*(){this.tmxMap&&typeof this.tmxMap=="string"&&(this.tmxMap=yield qd(this.tmxMap))})}createFromTmxMap(){if(typeof this.tmxMap=="object"){const{layers:i,tilesets:e,tilewidth:n,tileheight:o,width:s,height:r}=this.tmxMap;this.setDimensions(k(s,r),k(n,o)),this.createTilesets(e),this.createLayers(i)}}init(){}update(){}updateCamera(){this.camera.update()}updateLayers(){for(const i of this.layers)i instanceof Gt&&i.update()}updateObjects(){for(const i of this.objects)i.active&&(i.update(),i.dead&&this.removeObject(i))}postUpdate(){}postUpdateLayers(){for(const i of this.layers)i instanceof Gt&&i.postUpdate()}draw(){const{ctx:i,width:e,height:n,pixelPerfect:o}=this.game,s=this.layers.filter(l=>l instanceof Gt&&l.visible),r=this.objects.filter(l=>l.visible&&!l.layerId);s.sort(oa),r.sort(oa),i.imageSmoothingEnabled=!o,i.clearRect(0,0,e,n);for(const l of s)l.draw();for(const l of r)l.draw();this.game.debug&&this.displayDebug()}setDimensions(i,e){this.size=i,this.tileSize=e}setScale(i){this.camera.setScale(i)}setTileCollisionLayer(i,e=[]){var n;const o=this.layers[i];o&&(this.tileCollisionData=((n=o?.data)===null||n===void 0?void 0:n.map(s=>s&&!e.includes(s)?s:0))||[])}testTileCollision(i,e,n){const o=Math.max(i.x-e.x/2|0,0),s=Math.max(i.y-e.y/2|0,0),r=Math.min(i.x+e.x/2,this.size.x),l=Math.min(i.y+e.y/2,this.size.y);for(let c=s;c<l;++c)for(let h=o;h<r;++h){const d=this.tileCollisionData[h+this.size.x*c];if(d&&(!n||n.collideWithTile(d,k(h,c))))return!0}return!1}raycastTileCollision(i,e,n){const o=i.floor(),s=e.subtract(i),r=s.length(),l=s.normalize(),c=k(Math.abs(1/l.x),Math.abs(1/l.y));let h=c.x*(s.x<0?i.x-o.x:o.x-i.x+1),d=c.y*(s.y<0?i.y-o.y:o.y-i.y+1);for(;;){const a=this.getTileCollisionData(o);if(a&&(!n||n.collideWithTileRaycast(a,o)))return o.add(k(.5));if(h>r&&d>r)break;h>d?(o.y+=Math.sign(s.y),d+=c.y):(o.x+=Math.sign(s.x),h+=c.x)}}createLayers(i){this.layers=[],i.forEach(e=>this.addLayer(e))}addLayer(i,e){const n=typeof i=="function"?new i(this):new Gt(this,i);return typeof i!="function"&&i.objects&&i.objects.forEach(o=>this.addObjectFromLayer(o.type,Object.assign(Object.assign({},o),{layerId:i.id}))),n.renderOrder=e||this.nextRenderOrder++,this.layers.push(n),n}addObjectFromLayer(i,e){const n=this.game.objectClasses[i],o=n?new n(this,e):new Re(this,e);return this.objects.push(o),o}addObject(i,e){if(e){const n=this.getLayerById(e);n instanceof Gt?i.layerId=n.id:console.warn(`Layer with ID:${e} not found or is not an object layer!`)}return this.objects.push(i),i}removeObject(i){this.objects.splice(this.objects.indexOf(i),1)}addTileset(i,e){const n=Object.assign(Object.assign({},i),{image:Object.assign(Object.assign({},i.image),{source:e})});for(let o=0;o<n.tilecount;o++)this.tiles[o+n.firstgid]=new fp(this,o+n.firstgid,n);return n}createTilesets(i){i.map(e=>{const n=e.image.source.replace(/^.*[\\\/]/,"");Object.keys(this.game.images).includes(n)&&this.addTileset(e,n)})}setTileCollisionData(i,e=0){i.inRange(this.size)&&(this.tileCollisionData[(i.y|0)*this.size.x+i.x|0]=e)}getTileCollisionData(i){return i.inRange(this.size)?this.tileCollisionData[(i.y|0)*this.size.x+i.x|0]:0}getCameraVisibleGrid(){return new _t(this.camera.pos.divide(this.tileSize).invert().divide(this.camera.scale).floor(),this.game.getResolution().divide(this.tileSize).divide(this.camera.scale).add(k(1)))}getCameraVisibleArea(){const i=this.game.getResolution();return new _t(this.camera.pos.invert().add(i.divide(2)).divide(this.camera.scale),i.divide(this.camera.scale)).divide(this.tileSize)}getGridPos(i){return k(Math.ceil(i.x/this.tileSize.x),Math.ceil(i.y/this.tileSize.y))}getScreenPos(i,e){return i.multiply(this.tileSize).subtract(e?e.multiply(this.tileSize).divide(2):k()).scale(this.camera.scale)}getPointerPos(){const{pos:i,scale:e}=this.camera,{mouseScreenPos:n}=this.game.input;return n.subtract(i).divide(e)}getPointerRelativeGridPos(){return this.getPointerPos().divide(this.tileSize)}getLayerById(i){return this.layers.find(e=>e.id===i)||{}}getLayerByIndex(i){return this.layers[i]||{}}getObjectById(i){return this.objects.find(e=>e.id===i)}getObjectByType(i){return this.objects.find(e=>e.type===i)}getObjectsByType(i){return this.objects.filter(e=>e.type===i)}getObjectLayers(){return this.layers.filter(i=>{var e;return(e=i.objects)===null||e===void 0?void 0:e.length})}getTile(i,e){return this.getTileObject(this.getLayerById(e).getTile(i)||0)}getTileObject(i){const e=i&=~(di.Horizontally|di.Vertically|di.Diagonally);return this.tiles[e]}removeLayer(i){this.layers.splice(i,1)}setData(i,e){this.data=Object.assign(Object.assign({},this.data),{[i]:e})}getData(i){return this.data[i]}displayDebug(){const{avgFPS:i,canvas:e,draw:n,primaryColor:o}=this.game,{pos:s,scale:r}=this.camera,{width:l,height:c}=e,h=this.getCameraVisibleGrid(),d=this.getPointerPos(),a=(u,f="left")=>{const _=f==="left"&&4||f==="right"&&l-4||l/2;n.text(u,k(_,c-4),o,"1em",f,"bottom",!0)};a(`[${h.pos.x},${h.pos.y}][${s.x.toFixed(2)},${s.y.toFixed(2)}][x${r.toFixed(1)}]`),a(`[${d.x.toFixed(2)},${d.y.toFixed(2)}]`,"center"),a(`[${this.objects.length}][${i.toFixed(1)} FPS]`,"right")}}class hp{constructor(i,e){this.config=i,this.preload=e,this.draw=new op(this),this.pixelPerfect=!0,this.input=new lp(this),this.backgroundColor=Ae.DarkBlue,this.primaryColor=Ae.White,this.secondaryColor=Ae.LightBlue,this.images={},this.sounds={},this.objectClasses={},this.sceneClasses={},this.currentScene=null,this.scenes={},this.settings={},this.width=window.innerWidth,this.height=window.innerHeight,this.debug=!1,this.paused=!1,this.frameRate=60,this.delta=1/60,this.avgFPS=0,this.frame=0,this.time=0,this.timeReal=0,this.frameTimeLast=0,this.frameTimeBuffer=0,this.preloadPercent=0,this.audioVolume=1,this.canvas=document.createElement("canvas"),this.objectClasses=i?.entities||{},this.sceneClasses=i?.scenes||{},this.debug=!!i.debug,this.pixelPerfect=i?.pixelPerfect!==void 0?i.pixelPerfect:this.pixelPerfect,this.backgroundColor=i?.backgroundColor?new Y(i.backgroundColor):this.backgroundColor,this.primaryColor=i?.primaryColor?new Y(i.primaryColor):this.primaryColor,this.secondaryColor=i?.secondaryColor?new Y(i.secondaryColor):this.secondaryColor,this.canvas.setAttribute("style",`${Qd} ${this.pixelPerfect?"image-rendering: pixelated;":""}`),this.canvas.style.backgroundColor=this.backgroundColor.toString(),this.ctx=this.canvas.getContext("2d"),document.body.style.cssText=`${$d} background: ${this.backgroundColor.toString()};`,document.body.appendChild(this.canvas),window.addEventListener("resize",this.onResize.bind(this)),this.onResize(),i?.postProcessShader&&(this.postProcess=new sp(this,i.postProcessShader)),i.global&&(window.Platfuse=this)}start(i){return Ti(this,void 0,void 0,function*(){this.update();const e=yield rp(this.preload,n=>this.preloadPercent=n);Object.keys(e).forEach(n=>{e[n]instanceof HTMLImageElement?this.images[n]=e[n]:e[n]instanceof Mr.Howl&&(this.sounds[n]=e[n])}),yield Promise.all(Object.keys(this.sceneClasses).map(n=>Ti(this,void 0,void 0,function*(){const o=this.sceneClasses[n],s=new o(this,n);yield s.preInit(),this.scenes[n]=s}))),yield ep(1e3),i&&this.playScene(i)})}playScene(i,e=!1){if(this.currentScene&&this.currentScene.name===i&&!e)return;if(!this.scenes[i])throw new Error(`Scene '${i}' not found!`);this.currentScene&&this.currentScene.destroy();const n=this.scenes[i];n.tmxMap&&n.createFromTmxMap(),n.init(),this.currentScene=n}restartScene(){this.currentScene&&this.playScene(this.currentScene.name,!0)}onResize(){var i;if(this.width=window.innerWidth,this.height=window.innerHeight,((i=this.config)===null||i===void 0?void 0:i.fixedSize)instanceof ae){const{fixedSize:e}=this.config,n=innerWidth/innerHeight,o=e.x/e.y;this.canvas.width=e.x,this.canvas.height=e.y,this.canvas.style.width=n<o?"100%":"",this.canvas.style.height=n<o?"":"100%"}else this.canvas.width=this.width,this.canvas.height=this.height;this.width=this.canvas.width,this.height=this.canvas.height}update(i=0){var e;const n=this.currentScene,o=i-this.frameTimeLast;if(this.frameTimeLast=i,this.avgFPS=Tt(.05,this.avgFPS,1e3/(o||1)),this.timeReal+=o/1e3,this.frameTimeBuffer+=(this.paused?0:1)*o,n instanceof jl){if(this.paused)n.postUpdate(),this.input.postUpdate();else{let s=0;for(this.frameTimeBuffer<0&&this.frameTimeBuffer>-9&&(s=this.frameTimeBuffer,this.frameTimeBuffer=0);this.frameTimeBuffer>=0;this.frameTimeBuffer-=1e3/this.frameRate)this.time=this.frame++/this.frameRate,this.delta=1/this.avgFPS,this.input.update(),n.updateLayers(),n.updateObjects(),n.update(),n.updateCamera(),n.postUpdate(),n.postUpdateLayers(),this.input.postUpdate();this.frameTimeBuffer+=s}n.draw()}else this.time=this.frame++/this.frameRate,this.draw.preloader(this.preloadPercent);(e=this===null||this===void 0?void 0:this.postProcess)===null||e===void 0||e.render(),this.animationFrame=requestAnimationFrame(s=>this.update(s))}togglePause(i=!this.paused){this.paused=i}getResolution(){return new ae(this.width,this.height)}setSettings(i){this.settings=i}setSetting(i,e){this.settings=Object.assign(Object.assign({},this.settings),{[i]:e})}getSetting(i){return this.settings[i]}timer(i){return new up(this,i)}getImage(i){if(this.images[i])return this.images[i];throw new Error(`'${i}' is not a valid image!`)}playSound(i){this.sounds[i]&&(this.sounds[i].volume(this.audioVolume),this.sounds[i].play())}setAudioVolume(i){this.audioVolume=i}toggleFullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.body.requestFullscreen&&document.body.requestFullscreen()}}var Hl=(t=>(t[t.BACKGROUND=1]="BACKGROUND",t[t.MAIN=2]="MAIN",t[t.OBJECTS=5]="OBJECTS",t[t.SHADOWS=4]="SHADOWS",t[t.DARKNESS=8]="DARKNESS",t[t.CUSTOM_OVERLAY=9]="CUSTOM_OVERLAY",t))(Hl||{}),gs=(t=>(t.UP="up",t.RIGHT="right",t.DOWN="down",t.LEFT="left",t))(gs||{}),we=(t=>(t.BOX="box",t.COIN="coin",t.DUST="dust",t.PARTICLE="particle",t.PLAYER="player",t.SLIME="slime",t.SPIKES="spikes",t.WATER="water",t))(we||{}),pi=(t=>(t[t.LADDER=30]="LADDER",t))(pi||{});const cp={angle:Math.PI,emitSize:1,emitTime:1,emitRate:25,colorStart:new Y(255,128,0,1),colorEnd:new Y(255,0,0,0),ttl:2.2,sizeStart:.15,sizeEnd:.2,speed:.1,angleSpeed:.1,damping:1,angleDamping:.95,gravityScale:.5,fadeRate:.1,randomness:.5,collideTiles:!0,collideObjects:!0,renderOrder:1,elasticity:.5,stretchScale:.5},dp={uniforms:{iChannel0:{type:"i",value:0},iTime:{value:t=>t.time},iResolution:{value:t=>[t.width,t.height,1]}},vertexShader:`#version 300 es
            precision highp float;
            in vec2 p;
            void main(){
                gl_Position=vec4(p+p-1.,1,1);
            }`,fragmentShader:`#version 300 es
            precision highp float;
            uniform sampler2D iChannel0;
            uniform vec3 iResolution;
            uniform float iTime;
            out vec4 c;

            float hash(vec2 p){
                p=fract(p*.3197);
                return fract(1.+sin(51.*p.x+73.*p.y)*13753.3);
            }

            float noise(vec2 p){
                vec2 i=floor(p),f=fract(p),u=f*f*(3.-2.*f);
                return mix(mix(hash(i),hash(i+vec2(1,0)),u.x),mix(hash(i+vec2(0,1)),hash(i+1.),u.x),u.y);
            }

            void mainImage(out vec4 c, vec2 p){
                // put uv in texture pixel space
                p /= iResolution.xy;

                // apply fuzz as horizontal offset
                const float fuzz = .0005;
                const float fuzzScale = 800.;
                const float fuzzSpeed = 9.;
                p.x += fuzz*(noise(vec2(p.y*fuzzScale, iTime*fuzzSpeed))*2.-1.);

                // init output color
                c = texture(iChannel0, p);

                // chromatic aberration
                const float chromatic = .002;
                c.r = texture(iChannel0, p - vec2(chromatic,0)).r;
                c.b = texture(iChannel0, p + vec2(chromatic,0)).b;

                // tv static noise
                const float staticNoise = .1;
                c += staticNoise * hash(p + mod(iTime, 1e3));

                // scan lines
                const float scanlineScale = 1e3;
                const float scanlineAlpha = .1;
                c *= 1. + scanlineAlpha*sin(p.y*scanlineScale);

                // black vignette around edges
                const float vignette = 2.;
                const float vignettePow = 6.;
                float dx = 2.*p.x-1., dy = 2.*p.y-1.;
                c *= 1.-pow((dx*dx + dy*dy)/vignette, vignettePow);
            }

            void main(){
                mainImage(c,gl_FragCoord.xy);
                c.a=1.;
            }`};class pp extends Re{elasticity=.3;friction=.9;angleDamping=.96;color=new Y("#ff0000");collideWithObject(i){switch(i.type){case we.COIN:return!1}return!0}collideWithTile(i){return i===pi.LADDER?!1:i>0}}class _p extends Re{mass=0}const gp={DUST:{strip:{x:0,y:0,frames:9,duration:60},width:16,height:16,loop:!1}};class mp extends Re{image="dust.png";type=we.DUST;animation=gp.DUST;size=k(1);collideObjects=!1;collideTiles=!1;solid=!1;mass=0;ttl=.5}const Oe={IDLE:{strip:{x:0,y:32*5,frames:4,duration:200},width:32,height:32,offset:[-9,-6],loop:!0},WALK:{strip:{x:0,y:32,frames:6,duration:80},width:32,height:32,offset:[-9,-6],loop:!0},RUN:{strip:{x:0,y:64,frames:6,duration:80},width:32,height:32,offset:[-9,-6],loop:!0},JUMP:{strip:{x:32*7,y:32,frames:8,duration:100},width:32,height:32,offset:[-9,-6],loop:!1},FALL:{strip:{x:320,y:32,frames:1,duration:0},width:32,height:32,offset:[-9,-6],loop:!1},PUSH:{strip:{x:0,y:32*6,frames:6,duration:200},width:32,height:32,offset:[-9,-6],loop:!0},ON_LADDER:{strip:{x:0,y:128,frames:1,duration:0},width:32,height:32,offset:[-10.5,-6],loop:!1},CLIMB:{strip:{x:0,y:128,frames:4,duration:80},width:32,height:32,offset:[-10.5,-6],loop:!0},HURT:{strip:{x:32*7,y:96,frames:4,duration:80},width:32,height:32,offset:[-9,-6],loop:!0},DEAD:{strip:{x:32*7,y:128,frames:9,duration:80},width:32,height:32,offset:[-9,-6],loop:!1}},{LEFT:yr,RIGHT:vr}=gs;class yp extends Re{image="monster2.png";animation=Oe.IDLE;facing=vr;energy=[100,100];renderOrder=10;damping=.88;friction=.9;maxSpeed=.5;startPos=k();moveInput=k();pushing=!1;holdingJump=!1;wasHoldingJump=!1;onLadder=!1;climbingLadder=!1;climbingWall=!1;invincible=!1;isDying=!1;isHurting=!1;deadTimer;groundTimer;hurtTimer;jumpPressedTimer;jumpTimer;constructor(i,e){super(i,e),this.deadTimer=i.game.timer(),this.groundTimer=i.game.timer(),this.hurtTimer=i.game.timer(),this.jumpPressedTimer=i.game.timer(),this.jumpTimer=i.game.timer(),this.startPos=this.pos.clone(),i.camera.follow(this),i.camera.setSpeed(.1)}setImage(i){this.image=i}collideWithObject(i){const{camera:e}=this.scene;switch(i.type){case we.COIN:return i.destroy(),this.scene.game.playSound("powerup.mp3"),!1;case we.BOX:return this.pushing=Math.abs(this.moveInput.x)>0&&this.pos.y+.5>=i.pos.y,!0;case we.SPIKES:return this.isDying||(this.isDying=!0,this.deadTimer.set(1),e.shake(.5,k(.003))),!0;case we.SLIME:return this.isHurting||(this.isHurting=!0,this.hurtTimer.set(.3),this.applyForce(i.force.scale(.1)),e.shake(.5,k(.003))),!0}return!0}collideWithTile(i){return i===pi.LADDER?!1:i>0}collideWithTileRaycast(i){return i===pi.LADDER?!1:i>0}handleInput(){const{game:i}=this.scene,{input:e}=i;if(this.holdingJump=!!(e.keyIsDown("ArrowUp")||e.keyIsDown("KeyW")),this.moveInput=k((e.keyIsDown("ArrowRight")||e.keyIsDown("KeyD"))-(e.keyIsDown("ArrowLeft")||e.keyIsDown("KeyA")),(e.keyIsDown("ArrowUp")||e.keyIsDown("KeyW"))-(e.keyIsDown("ArrowDown")|e.keyIsDown("KeyS"))),e.mouseWasPressed(0)){console.info("Mouse pressed",this.scene.getPointerRelativeGridPos());const n=new np(this.scene,{...cp,pos:this.scene.getPointerRelativeGridPos()});this.scene.addObject(n,5)}this.facing=this.moveInput.x===1?vr:this.moveInput.x===-1?yr:this.facing}update(){if(this.deadTimer.isDone()&&(this.deadTimer.unset(),this.pos=this.startPos.clone(),this.isDying=!1),this.hurtTimer.isDone()&&(this.hurtTimer.unset(),this.isHurting=!1),this.isDying)return super.update();this.handleInput();const i=this.moveInput.clone(),{gravity:e}=this.scene;this.climbingWall=!1,this.onLadder=!1,this.holdingJump?(!this.wasHoldingJump||this.climbingWall)&&this.jumpPressedTimer.set(.3):this.jumpPressedTimer.unset(),this.wasHoldingJump=this.holdingJump,i.x&&!this.force.x&&this.force.y>0&&(this.force.y*=.8,this.climbingWall=!0);for(let o=2;o--;){const s=this.pos.add(k(0,o+.1*i.y-this.size.y/2)),r=this.scene.getTileCollisionData(s);this.onLadder||=r===pi.LADDER}if(this.onLadder?i.y&&(this.climbingLadder=!0):this.climbingLadder=!1,this.climbingLadder){const o=(this.pos.x|0)+.5-this.pos.x;this.climbingWall=!1,this.onGround=!1,this.jumpTimer.unset(),this.groundTimer.unset(),this.force=this.force.multiply(k(.85)).add(k(0,-.02*i.y)),this.force.x+=.22*o*Math.abs(i.x?0:i.y),i.x*=.2,this.climbingLadder=i.y!==0||this.scene.getTileCollisionData(this.pos.subtract(k(0,1)))<=0}else(this.onGround||this.climbingWall)&&this.groundTimer.set(.1);this.gravityScale=this.onLadder?0:1,this.groundTimer.isActive()&&this.jumpPressedTimer.isActive()&&!this.jumpTimer.isActive()&&(this.climbingWall?this.force.y=-.25:(this.force.y=-.15,this.jumpTimer.set(.5))),this.jumpTimer.isActive()&&!this.climbingWall&&(this.groundTimer.unset(),this.holdingJump&&this.force.y<0&&this.jumpTimer.isActive()&&(this.force.y-=.07)),this.onGround||(Math.sign(i.x)===Math.sign(this.force.x)?i.x*=.4:i.x*=.8,this.force.y>0&&!this.climbingLadder&&(this.force.y-=e*.2)),!this.onLadder&&!this.climbingLadder&&Math.sign(this.moveInput.x)!==Math.sign(this.force.x)&&Math.abs(this.force.x)>.1&&this.dust(),this.force.x=ke(this.force.x+i.x*.032,-this.maxSpeed,this.maxSpeed),this.lastPos=this.pos.clone(),super.update();let n=Oe.IDLE;this.isDying?n=Oe.DEAD:this.isHurting?n=Oe.HURT:this.climbingLadder?n=i.y?Oe.CLIMB:Oe.ON_LADDER:this.jumpTimer.isActive()&&!this.onGround?n=this.force.y<=0?Oe.JUMP:Oe.FALL:this.pushing?n=Oe.PUSH:i.x&&Math.abs(this.force.x)>.01&&Math.abs(this.force.x)<.12?n=Oe.WALK:i.x&&Math.abs(this.force.x)>=.12&&(n=Oe.RUN),this.setAnimation(n,this.facing===yr||this.climbingLadder),this.pushing=!1}dust(i=this.facing){const e=k(i===yr?-1:1,.4),n=new mp(this.scene,{pos:this.pos.add(e),flipH:i===vr});this.scene.addObject(n,5)}}const wr={BOUNCE:{strip:{x:0,y:0,frames:9,duration:80},width:48,height:16,offset:[-17,-5],loop:!0},RUN_LEFT:{strip:{x:0,y:16,frames:14,duration:80},width:48,height:16,offset:[-17,-5],loop:!0},RUN_RIGHT:{strip:{x:0,y:32,frames:14,duration:80},width:48,height:16,offset:[-17,-5],loop:!0}};class vp extends Re{image="slime.png";animation=wr.BOUNCE;direction=gs.LEFT;distance=0;damage=20;running=!1;initialPos=k();constructor(i,e){super(i,e),this.distance=this.size.y,this.initialPos=this.pos.clone().subtract(this.size.divide(2)),this.size=k(.8,.6)}update(){this.setAnimation(this.running?wr.RUN_RIGHT:wr.BOUNCE),super.update()}displayDebug(){const{draw:i}=this.scene.game,e=this.getTranslatedBoundingRect().move(this.scene.camera.pos),{pos:{x:n,y:o}}=e;i.outline(e,Ae.Cyan,1),i.text(`Slime ${this.running?"running":"idle"}`,k(n,o))}}class wp extends Re{mass=0}const bp=""+new URL("assets/images/coin-B1fE3OGC.png",import.meta.url).href,xp=""+new URL("assets/images/dither-Drb8mVyP.png",import.meta.url).href,Ep=""+new URL("assets/images/dust-DBPrgoov.png",import.meta.url).href,Tp=""+new URL("assets/images/energy-L5u_PMtK.png",import.meta.url).href,Ap=""+new URL("assets/images/energy_strip-jyFj3VSn.png",import.meta.url).href,Sp=""+new URL("assets/images/monster1-B2PCVu7b.png",import.meta.url).href,Dp=""+new URL("assets/images/monster2-B5DDNV_0.png",import.meta.url).href,Cp=""+new URL("assets/images/monster3-Bdt-iviK.png",import.meta.url).href,Op="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAICAYAAACLUr1bAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QwcFAAbX7ml4QAAADdJREFUOMtjYBgFqOD/////SVHPRG0LSHUAIcBIruMYGRkZCTkMWQ0hebpFEb1DeMDT4CigFAAA+Uon6PQAbmgAAAAASUVORK5CYII=",Ip=""+new URL("assets/images/slime-B2IFLdA6.png",import.meta.url).href,Lp=""+new URL("assets/images/tileset-ByQy_yBn.png",import.meta.url).href,Rp=""+new URL("assets/images/water-BQMY6fYy.png",import.meta.url).href,Np=""+new URL("assets/powerup-BchoSk5p.mp3",import.meta.url).href,Mp={"coin.png":bp,"dither.png":xp,"dust.png":Ep,"energy.png":Tp,"estrip.png":Ap,"monster1.png":Sp,"monster2.png":Dp,"monster3.png":Cp,"shine.png":Op,"slime.png":Ip,"tileset.png":Lp,"water.png":Rp,"powerup.mp3":Np};var ms={exports:{}},Vl={exports:{}},B=Vl.exports=B||{};B.gui=B.gui||{};B.utils=B.utils||{};B.controllers=B.controllers||{};B.dom=B.dom||{};B.color=B.color||{};B.utils.css=function(){return{load:function(t,i){i=i||document;var e=i.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,i.getElementsByTagName("head")[0].appendChild(e)},inject:function(t,i){i=i||document;var e=document.createElement("style");e.type="text/css",e.innerHTML=t,i.getElementsByTagName("head")[0].appendChild(e)}}}();B.utils.common=function(){var t=Array.prototype.forEach,i=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(i.call(arguments,1),function(n){for(var o in n)this.isUndefined(n[o])||(e[o]=n[o])},this),e},defaults:function(e){return this.each(i.call(arguments,1),function(n){for(var o in n)this.isUndefined(e[o])&&(e[o]=n[o])},this),e},compose:function(){var e=i.call(arguments);return function(){for(var n=i.call(arguments),o=e.length-1;o>=0;o--)n=[e[o].apply(this,n)];return n[0]}},each:function(e,n,o){if(t&&e.forEach===t)e.forEach(n,o);else if(e.length===e.length+0){for(var s=0,r=e.length;s<r;s++)if(s in e&&n.call(o,e[s],s)===this.BREAK)return}else for(var s in e)if(n.call(o,e[s],s)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():i.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"}}}();B.controllers.Controller=function(t){var i=function(e,n){this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0};return t.extend(i.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),i}(B.utils.common);B.dom.dom=function(t){var i={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},e={};t.each(i,function(r,l){t.each(r,function(c){e[c]=l})});var n=/(\d+(\.\d+)?)px/;function o(r){if(r==="0"||t.isUndefined(r))return 0;var l=r.match(n);return t.isNull(l)?0:parseFloat(l[1])}var s={makeSelectable:function(r,l){r===void 0||r.style===void 0||(r.onselectstart=l?function(){return!1}:function(){},r.style.MozUserSelect=l?"auto":"none",r.style.KhtmlUserSelect=l?"auto":"none",r.unselectable=l?"on":"off")},makeFullscreen:function(r,l,c){t.isUndefined(l)&&(l=!0),t.isUndefined(c)&&(c=!0),r.style.position="absolute",l&&(r.style.left=0,r.style.right=0),c&&(r.style.top=0,r.style.bottom=0)},fakeEvent:function(r,l,c,h){c=c||{};var d=e[l];if(!d)throw new Error("Event type "+l+" not supported.");var a=document.createEvent(d);switch(d){case"MouseEvents":var u=c.x||c.clientX||0,f=c.y||c.clientY||0;a.initMouseEvent(l,c.bubbles||!1,c.cancelable||!0,window,c.clickCount||1,0,0,u,f,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var _=a.initKeyboardEvent||a.initKeyEvent;t.defaults(c,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),_(l,c.bubbles||!1,c.cancelable,window,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.keyCode,c.charCode);break;default:a.initEvent(l,c.bubbles||!1,c.cancelable||!0);break}t.defaults(a,h),r.dispatchEvent(a)},bind:function(r,l,c,h){return h=h||!1,r.addEventListener?r.addEventListener(l,c,h):r.attachEvent&&r.attachEvent("on"+l,c),s},unbind:function(r,l,c,h){return h=h||!1,r.removeEventListener?r.removeEventListener(l,c,h):r.detachEvent&&r.detachEvent("on"+l,c),s},addClass:function(r,l){if(r.className===void 0)r.className=l;else if(r.className!==l){var c=r.className.split(/ +/);c.indexOf(l)==-1&&(c.push(l),r.className=c.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(r,l){if(l){if(r.className!==void 0)if(r.className===l)r.removeAttribute("class");else{var c=r.className.split(/ +/),h=c.indexOf(l);h!=-1&&(c.splice(h,1),r.className=c.join(" "))}}else r.className=void 0;return s},hasClass:function(r,l){return new RegExp("(?:^|\\s+)"+l+"(?:\\s+|$)").test(r.className)||!1},getWidth:function(r){var l=getComputedStyle(r);return o(l["border-left-width"])+o(l["border-right-width"])+o(l["padding-left"])+o(l["padding-right"])+o(l.width)},getHeight:function(r){var l=getComputedStyle(r);return o(l["border-top-width"])+o(l["border-bottom-width"])+o(l["padding-top"])+o(l["padding-bottom"])+o(l.height)},getOffset:function(r){var l={left:0,top:0};if(r.offsetParent)do l.left+=r.offsetLeft,l.top+=r.offsetTop;while(r=r.offsetParent);return l},isActive:function(r){return r===document.activeElement&&(r.type||r.href)}};return s}(B.utils.common);B.controllers.OptionController=function(t,i,e){var n=function(o,s,r){n.superclass.call(this,o,s);var l=this;if(this.__select=document.createElement("select"),e.isArray(r)){var c={};e.each(r,function(h){c[h]=h}),r=c}e.each(r,function(h,d){var a=document.createElement("option");a.innerHTML=d,a.setAttribute("value",h),l.__select.appendChild(a)}),this.updateDisplay(),i.bind(this.__select,"change",function(){var h=this.options[this.selectedIndex].value;l.setValue(h)}),this.domElement.appendChild(this.__select)};return n.superclass=t,e.extend(n.prototype,t.prototype,{setValue:function(o){var s=n.superclass.prototype.setValue.call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),s},updateDisplay:function(){return this.__select.value=this.getValue(),n.superclass.prototype.updateDisplay.call(this)}}),n}(B.controllers.Controller,B.dom.dom,B.utils.common);B.controllers.NumberController=function(t,i){var e=function(o,s,r){e.superclass.call(this,o,s),r=r||{},this.__min=r.min,this.__max=r.max,this.__step=r.step,i.isUndefined(this.__step)?this.initialValue==0?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=n(this.__impliedStep)};e.superclass=t,i.extend(e.prototype,t.prototype,{setValue:function(o){return this.__min!==void 0&&o<this.__min?o=this.__min:this.__max!==void 0&&o>this.__max&&(o=this.__max),this.__step!==void 0&&o%this.__step!=0&&(o=Math.round(o/this.__step)*this.__step),e.superclass.prototype.setValue.call(this,o)},min:function(o){return this.__min=o,this},max:function(o){return this.__max=o,this},step:function(o){return this.__step=o,this}});function n(o){return o=o.toString(),o.indexOf(".")>-1?o.length-o.indexOf(".")-1:0}return e}(B.controllers.Controller,B.utils.common);B.controllers.NumberControllerBox=function(t,i,e){var n=function(s,r,l){this.__truncationSuspended=!1,n.superclass.call(this,s,r,l);var c=this,h;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),i.bind(this.__input,"change",d),i.bind(this.__input,"blur",a),i.bind(this.__input,"mousedown",u),i.bind(this.__input,"keydown",function(v){v.keyCode===13&&(c.__truncationSuspended=!0,this.blur(),c.__truncationSuspended=!1)});function d(){var v=parseFloat(c.__input.value);e.isNaN(v)||c.setValue(v)}function a(){d(),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}function u(v){i.bind(window,"mousemove",f),i.bind(window,"mouseup",_),h=v.clientY}function f(v){var w=h-v.clientY;c.setValue(c.getValue()+w*c.__impliedStep),h=v.clientY}function _(){i.unbind(window,"mousemove",f),i.unbind(window,"mouseup",_)}this.updateDisplay(),this.domElement.appendChild(this.__input)};n.superclass=t,e.extend(n.prototype,t.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():o(this.getValue(),this.__precision),n.superclass.prototype.updateDisplay.call(this)}});function o(s,r){var l=Math.pow(10,r);return Math.round(s*l)/l}return n}(B.controllers.NumberController,B.dom.dom,B.utils.common);B.controllers.NumberControllerSlider=function(t,i,e,n,o){var s=function(l,c,h,d,a){s.superclass.call(this,l,c,{min:h,max:d,step:a});var u=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),i.bind(this.__background,"mousedown",f),i.addClass(this.__background,"slider"),i.addClass(this.__foreground,"slider-fg");function f(w){i.bind(window,"mousemove",_),i.bind(window,"mouseup",v),_(w)}function _(w){w.preventDefault();var b=i.getOffset(u.__background),E=i.getWidth(u.__background);return u.setValue(r(w.clientX,b.left,b.left+E,u.__min,u.__max)),!1}function v(){i.unbind(window,"mousemove",_),i.unbind(window,"mouseup",v),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};s.superclass=t,s.useDefaultStyles=function(){e.inject(o)},n.extend(s.prototype,t.prototype,{updateDisplay:function(){var l=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=l*100+"%",s.superclass.prototype.updateDisplay.call(this)}});function r(l,c,h,d,a){return d+(a-d)*((l-c)/(h-c))}return s}(B.controllers.NumberController,B.dom.dom,B.utils.css,B.utils.common,`.slider {
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);
  height: 1em;
  border-radius: 1em;
  background-color: #eee;
  padding: 0 0.5em;
  overflow: hidden;
}

.slider-fg {
  padding: 1px 0 2px 0;
  background-color: #aaa;
  height: 1em;
  margin-left: -0.5em;
  padding-right: 0.5em;
  border-radius: 1em 0 0 1em;
}

.slider-fg:after {
  display: inline-block;
  border-radius: 1em;
  background-color: #fff;
  border:  1px solid #aaa;
  content: '';
  float: right;
  margin-right: -1em;
  margin-top: -1px;
  height: 0.9em;
  width: 0.9em;
}`);B.controllers.FunctionController=function(t,i,e){var n=function(o,s,r){n.superclass.call(this,o,s);var l=this;this.__button=document.createElement("div"),this.__button.innerHTML=r===void 0?"Fire":r,i.bind(this.__button,"click",function(c){return c.preventDefault(),l.fire(),!1}),i.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return n.superclass=t,e.extend(n.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),n}(B.controllers.Controller,B.dom.dom,B.utils.common);B.controllers.BooleanController=function(t,i,e){var n=function(o,s){n.superclass.call(this,o,s);var r=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),i.bind(this.__checkbox,"change",l,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay();function l(){r.setValue(!r.__prev)}};return n.superclass=t,e.extend(n.prototype,t.prototype,{setValue:function(o){var s=n.superclass.prototype.setValue.call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),s},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,n.superclass.prototype.updateDisplay.call(this)}}),n}(B.controllers.Controller,B.dom.dom,B.utils.common);B.color.toString=function(t){return function(i){if(i.a==1||t.isUndefined(i.a)){for(var e=i.hex.toString(16);e.length<6;)e="0"+e;return"#"+e}else return"rgba("+Math.round(i.r)+","+Math.round(i.g)+","+Math.round(i.b)+","+i.a+")"}}(B.utils.common);B.color.interpret=function(t,i){var e,n,o=function(){n=!1;var r=arguments.length>1?i.toArray(arguments):arguments[0];return i.each(s,function(l){if(l.litmus(r))return i.each(l.conversions,function(c,h){if(e=c.read(r),n===!1&&e!==!1)return n=e,e.conversionName=h,e.conversion=c,i.BREAK}),i.BREAK}),n},s=[{litmus:i.isString,conversions:{THREE_CHAR_HEX:{read:function(r){var l=r.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return l===null?!1:{space:"HEX",hex:parseInt("0x"+l[1].toString()+l[1].toString()+l[2].toString()+l[2].toString()+l[3].toString()+l[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(r){var l=r.match(/^#([A-F0-9]{6})$/i);return l===null?!1:{space:"HEX",hex:parseInt("0x"+l[1].toString())}},write:t},CSS_RGB:{read:function(r){var l=r.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return l===null?!1:{space:"RGB",r:parseFloat(l[1]),g:parseFloat(l[2]),b:parseFloat(l[3])}},write:t},CSS_RGBA:{read:function(r){var l=r.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return l===null?!1:{space:"RGB",r:parseFloat(l[1]),g:parseFloat(l[2]),b:parseFloat(l[3]),a:parseFloat(l[4])}},write:t}}},{litmus:i.isNumber,conversions:{HEX:{read:function(r){return{space:"HEX",hex:r,conversionName:"HEX"}},write:function(r){return r.hex}}}},{litmus:i.isArray,conversions:{RGB_ARRAY:{read:function(r){return r.length!=3?!1:{space:"RGB",r:r[0],g:r[1],b:r[2]}},write:function(r){return[r.r,r.g,r.b]}},RGBA_ARRAY:{read:function(r){return r.length!=4?!1:{space:"RGB",r:r[0],g:r[1],b:r[2],a:r[3]}},write:function(r){return[r.r,r.g,r.b,r.a]}}}},{litmus:i.isObject,conversions:{RGBA_OBJ:{read:function(r){return i.isNumber(r.r)&&i.isNumber(r.g)&&i.isNumber(r.b)&&i.isNumber(r.a)?{space:"RGB",r:r.r,g:r.g,b:r.b,a:r.a}:!1},write:function(r){return{r:r.r,g:r.g,b:r.b,a:r.a}}},RGB_OBJ:{read:function(r){return i.isNumber(r.r)&&i.isNumber(r.g)&&i.isNumber(r.b)?{space:"RGB",r:r.r,g:r.g,b:r.b}:!1},write:function(r){return{r:r.r,g:r.g,b:r.b}}},HSVA_OBJ:{read:function(r){return i.isNumber(r.h)&&i.isNumber(r.s)&&i.isNumber(r.v)&&i.isNumber(r.a)?{space:"HSV",h:r.h,s:r.s,v:r.v,a:r.a}:!1},write:function(r){return{h:r.h,s:r.s,v:r.v,a:r.a}}},HSV_OBJ:{read:function(r){return i.isNumber(r.h)&&i.isNumber(r.s)&&i.isNumber(r.v)?{space:"HSV",h:r.h,s:r.s,v:r.v}:!1},write:function(r){return{h:r.h,s:r.s,v:r.v}}}}}];return o}(B.color.toString,B.utils.common);B.GUI=B.gui.GUI=function(t,i,e,n,o,s,r,l,c,h,d,a,u,f,_){t.inject(e);var v="dg",w=72,b=20,E="Default",m=function(){try{return"localStorage"in window&&window.localStorage!==null}catch{return!1}}(),x,A=!0,O,C=!1,I=[],p=function(T){var M=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),f.addClass(this.domElement,v),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],T=T||{},T=_.defaults(T,{autoPlace:!0,width:p.DEFAULT_WIDTH}),T=_.defaults(T,{resizable:T.autoPlace,hideable:T.autoPlace}),_.isUndefined(T.load)?T.load={preset:E}:T.preset&&(T.load.preset=T.preset),_.isUndefined(T.parent)&&T.hideable&&I.push(this),T.resizable=_.isUndefined(T.parent)&&T.resizable,T.autoPlace&&_.isUndefined(T.scrollable)&&(T.scrollable=!0);var P=m&&localStorage.getItem(z(this,"isLocal"))==="true";if(Object.defineProperties(this,{parent:{get:function(){return T.parent}},scrollable:{get:function(){return T.scrollable}},autoPlace:{get:function(){return T.autoPlace}},preset:{get:function(){return M.parent?M.getRoot().preset:T.load.preset},set:function(W){M.parent?M.getRoot().preset=W:T.load.preset=W,oi(this),M.revert()}},width:{get:function(){return T.width},set:function(W){T.width=W,H(M,W)}},name:{get:function(){return T.name},set:function(W){T.name=W,y&&(y.innerHTML=T.name)}},closed:{get:function(){return T.closed},set:function(W){T.closed=W,T.closed?f.addClass(M.__ul,p.CLASS_CLOSED):f.removeClass(M.__ul,p.CLASS_CLOSED),this.onResize(),M.__closeButton&&(M.__closeButton.innerHTML=W?p.TEXT_OPEN:p.TEXT_CLOSED)}},load:{get:function(){return T.load}},useLocalStorage:{get:function(){return P},set:function(W){m&&(P=W,W?f.bind(window,"unload",S):f.unbind(window,"unload",S),localStorage.setItem(z(M,"isLocal"),W))}}}),_.isUndefined(T.parent)){if(T.closed=!1,f.addClass(this.domElement,p.CLASS_MAIN),f.makeSelectable(this.domElement,!1),m&&P){M.useLocalStorage=!0;var X=localStorage.getItem(z(this,"gui"));X&&(T.load=JSON.parse(X))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=p.TEXT_CLOSED,f.addClass(this.__closeButton,p.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),f.bind(this.__closeButton,"click",function(){M.closed=!M.closed})}else{T.closed===void 0&&(T.closed=!0);var y=document.createTextNode(T.name);f.addClass(y,"controller-name");var g=N(M,y),L=function(W){return W.preventDefault(),M.closed=!M.closed,!1};f.addClass(this.__ul,p.CLASS_CLOSED),f.addClass(g,"title"),f.bind(g,"click",L),T.closed||(this.closed=!1)}T.autoPlace&&(_.isUndefined(T.parent)&&(A&&(O=document.createElement("div"),f.addClass(O,v),f.addClass(O,p.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(O),A=!1),O.appendChild(this.domElement),f.addClass(this.domElement,p.CLASS_AUTO_PLACE)),this.parent||H(M,T.width)),f.bind(window,"resize",function(){M.onResize()}),f.bind(this.__ul,"webkitTransitionEnd",function(){M.onResize()}),f.bind(this.__ul,"transitionend",function(){M.onResize()}),f.bind(this.__ul,"oTransitionEnd",function(){M.onResize()}),this.onResize(),T.resizable&&q(this);function S(){localStorage.setItem(z(M,"gui"),JSON.stringify(M.getSaveObject()))}M.getRoot();function G(){var W=M.getRoot();W.width+=1,_.defer(function(){W.width-=1})}T.parent||G()};p.toggleHide=function(){C=!C,_.each(I,function(T){T.domElement.style.zIndex=C?-999:999,T.domElement.style.opacity=C?0:1})},p.CLASS_AUTO_PLACE="a",p.CLASS_AUTO_PLACE_CONTAINER="ac",p.CLASS_MAIN="main",p.CLASS_CONTROLLER_ROW="cr",p.CLASS_TOO_TALL="taller-than-window",p.CLASS_CLOSED="closed",p.CLASS_CLOSE_BUTTON="close-button",p.CLASS_DRAG="drag",p.DEFAULT_WIDTH=245,p.TEXT_CLOSED="Close Controls",p.TEXT_OPEN="Open Controls",f.bind(window,"keydown",function(T){document.activeElement.type!=="text"&&(T.which===w||T.keyCode==w)&&p.toggleHide()},!1),_.extend(p.prototype,{add:function(T,M){return D(this,T,M,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(T,M){return D(this,T,M,{color:!0})},remove:function(T){this.__ul.removeChild(T.__li),this.__controllers.slice(this.__controllers.indexOf(T),1);var M=this;_.defer(function(){M.onResize()})},destroy:function(){this.autoPlace&&O.removeChild(this.domElement)},addFolder:function(T){if(this.__folders[T]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+T+'"');var M={name:T,parent:this};M.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[T]&&(M.closed=this.load.folders[T].closed,M.load=this.load.folders[T]);var P=new p(M);this.__folders[T]=P;var X=N(this,P.domElement);return f.addClass(X,"folder"),P},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var T=this.getRoot();if(T.scrollable){var M=f.getOffset(T.__ul).top,P=0;_.each(T.__ul.childNodes,function(X){T.autoPlace&&X===T.__save_row||(P+=f.getHeight(X))}),window.innerHeight-M-b<P?(f.addClass(T.domElement,p.CLASS_TOO_TALL),T.__ul.style.height=window.innerHeight-M-b+"px"):(f.removeClass(T.domElement,p.CLASS_TOO_TALL),T.__ul.style.height="auto")}T.__resize_handle&&_.defer(function(){T.__resize_handle.style.height=T.__ul.offsetHeight+"px"}),T.__closeButton&&(T.__closeButton.style.width=T.width+"px")},remember:function(){if(_.isUndefined(x)&&(x=new u,x.domElement.innerHTML=i),this.parent)throw new Error("You can only call remember on a top level GUI.");var T=this;_.each(Array.prototype.slice.call(arguments),function(M){T.__rememberedObjects.length==0&&$(T),T.__rememberedObjects.indexOf(M)==-1&&T.__rememberedObjects.push(M)}),this.autoPlace&&H(this,this.width)},getRoot:function(){for(var T=this;T.parent;)T=T.parent;return T},getSaveObject:function(){var T=this.load;return T.closed=this.closed,this.__rememberedObjects.length>0&&(T.preset=this.preset,T.remembered||(T.remembered={}),T.remembered[this.preset]=Bt(this)),T.folders={},_.each(this.__folders,function(M,P){T.folders[P]=M.getSaveObject()}),T},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Bt(this),Ce(this,!1)},saveAs:function(T){this.load.remembered||(this.load.remembered={},this.load.remembered[E]=Bt(this,!0)),this.load.remembered[T]=Bt(this),this.preset=T,gt(this,T,!0)},revert:function(T){_.each(this.__controllers,function(M){this.getRoot().load.remembered?j(T||this.getRoot(),M):M.setValue(M.initialValue)},this),_.each(this.__folders,function(M){M.revert(M)}),T||Ce(this.getRoot(),!1)},listen:function(T){var M=this.__listening.length==0;this.__listening.push(T),M&&Ut(this.__listening)}});function D(T,M,P,X){if(M[P]===void 0)throw new Error("Object "+M+' has no property "'+P+'"');var y;if(X.color)y=new d(M,P);else{var g=[M,P].concat(X.factoryArgs);y=n.apply(T,g)}X.before instanceof o&&(X.before=X.before.__li),j(T,y),f.addClass(y.domElement,"c");var L=document.createElement("span");f.addClass(L,"property-name"),L.innerHTML=y.property;var S=document.createElement("div");S.appendChild(L),S.appendChild(y.domElement);var G=N(T,S,X.before);return f.addClass(G,p.CLASS_CONTROLLER_ROW),f.addClass(G,typeof y.getValue()),F(T,G,y),T.__controllers.push(y),y}function N(T,M,P){var X=document.createElement("li");return M&&X.appendChild(M),P?T.__ul.insertBefore(X,params.before):T.__ul.appendChild(X),T.onResize(),X}function F(T,M,P){if(P.__li=M,P.__gui=T,_.extend(P,{options:function(g){if(arguments.length>1)return P.remove(),D(T,P.object,P.property,{before:P.__li.nextElementSibling,factoryArgs:[_.toArray(arguments)]});if(_.isArray(g)||_.isObject(g))return P.remove(),D(T,P.object,P.property,{before:P.__li.nextElementSibling,factoryArgs:[g]})},name:function(g){return P.__li.firstElementChild.firstElementChild.innerHTML=g,P},listen:function(){return P.__gui.listen(P),P},remove:function(){return P.__gui.remove(P),P}}),P instanceof c){var X=new l(P.object,P.property,{min:P.__min,max:P.__max,step:P.__step});_.each(["updateDisplay","onChange","onFinishChange"],function(g){var L=P[g],S=X[g];P[g]=X[g]=function(){var G=Array.prototype.slice.call(arguments);return L.apply(P,G),S.apply(X,G)}}),f.addClass(M,"has-slider"),P.domElement.insertBefore(X.domElement,P.domElement.firstElementChild)}else if(P instanceof l){var y=function(g){return _.isNumber(P.__min)&&_.isNumber(P.__max)?(P.remove(),D(T,P.object,P.property,{before:P.__li.nextElementSibling,factoryArgs:[P.__min,P.__max,P.__step]})):g};P.min=_.compose(y,P.min),P.max=_.compose(y,P.max)}else P instanceof s?(f.bind(M,"click",function(){f.fakeEvent(P.__checkbox,"click")}),f.bind(P.__checkbox,"click",function(g){g.stopPropagation()})):P instanceof r?(f.bind(M,"click",function(){f.fakeEvent(P.__button,"click")}),f.bind(M,"mouseover",function(){f.addClass(P.__button,"hover")}),f.bind(M,"mouseout",function(){f.removeClass(P.__button,"hover")})):P instanceof d&&(f.addClass(M,"color"),P.updateDisplay=_.compose(function(g){return M.style.borderLeftColor=P.__color.toString(),g},P.updateDisplay),P.updateDisplay());P.setValue=_.compose(function(g){return T.getRoot().__preset_select&&P.isModified()&&Ce(T.getRoot(),!0),g},P.setValue)}function j(T,M){var P=T.getRoot(),X=P.__rememberedObjects.indexOf(M.object);if(X!=-1){var y=P.__rememberedObjectIndecesToControllers[X];if(y===void 0&&(y={},P.__rememberedObjectIndecesToControllers[X]=y),y[M.property]=M,P.load&&P.load.remembered){var g=P.load.remembered,L;if(g[T.preset])L=g[T.preset];else if(g[E])L=g[E];else return;if(L[X]&&L[X][M.property]!==void 0){var S=L[X][M.property];M.initialValue=S,M.setValue(S)}}}}function z(T,M){return document.location.href+"."+M}function $(T){var M=T.__save_row=document.createElement("li");f.addClass(T.domElement,"has-save"),T.__ul.insertBefore(M,T.__ul.firstChild),f.addClass(M,"save-row");var P=document.createElement("span");P.innerHTML="&nbsp;",f.addClass(P,"button gears");var X=document.createElement("span");X.innerHTML="Save",f.addClass(X,"button"),f.addClass(X,"save");var y=document.createElement("span");y.innerHTML="New",f.addClass(y,"button"),f.addClass(y,"save-as");var g=document.createElement("span");g.innerHTML="Revert",f.addClass(g,"button"),f.addClass(g,"revert");var L=T.__preset_select=document.createElement("select");if(T.load&&T.load.remembered?_.each(T.load.remembered,function(Q,he){gt(T,he,he==T.preset)}):gt(T,E,!1),f.bind(L,"change",function(){for(var Q=0;Q<T.__preset_select.length;Q++)T.__preset_select[Q].innerHTML=T.__preset_select[Q].value;T.preset=this.value}),M.appendChild(L),M.appendChild(P),M.appendChild(X),M.appendChild(y),M.appendChild(g),m){let Q=function(){G.style.display=T.useLocalStorage?"block":"none"};var S=document.getElementById("dg-save-locally"),G=document.getElementById("dg-local-explain");S.style.display="block";var W=document.getElementById("dg-local-storage");localStorage.getItem(z(T,"isLocal"))==="true"&&W.setAttribute("checked","checked"),Q(),f.bind(W,"change",function(){T.useLocalStorage=!T.useLocalStorage,Q()})}var ie=document.getElementById("dg-new-constructor");f.bind(ie,"keydown",function(Q){Q.metaKey&&(Q.which===67||Q.keyCode==67)&&x.hide()}),f.bind(P,"click",function(){ie.innerHTML=JSON.stringify(T.getSaveObject(),void 0,2),x.show(),ie.focus(),ie.select()}),f.bind(X,"click",function(){T.save()}),f.bind(y,"click",function(){var Q=prompt("Enter a new preset name.");Q&&T.saveAs(Q)}),f.bind(g,"click",function(){T.revert()})}function q(T){T.__resize_handle=document.createElement("div"),_.extend(T.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var M;f.bind(T.__resize_handle,"mousedown",P),f.bind(T.__closeButton,"mousedown",P),T.domElement.insertBefore(T.__resize_handle,T.domElement.firstElementChild);function P(g){return g.preventDefault(),M=g.clientX,f.addClass(T.__closeButton,p.CLASS_DRAG),f.bind(window,"mousemove",X),f.bind(window,"mouseup",y),!1}function X(g){return g.preventDefault(),T.width+=M-g.clientX,T.onResize(),M=g.clientX,!1}function y(){f.removeClass(T.__closeButton,p.CLASS_DRAG),f.unbind(window,"mousemove",X),f.unbind(window,"mouseup",y)}}function H(T,M){T.domElement.style.width=M+"px",T.__save_row&&T.autoPlace&&(T.__save_row.style.width=M+"px"),T.__closeButton&&(T.__closeButton.style.width=M+"px")}function Bt(T,M){var P={};return _.each(T.__rememberedObjects,function(X,y){var g={},L=T.__rememberedObjectIndecesToControllers[y];_.each(L,function(S,G){g[G]=M?S.initialValue:S.getValue()}),P[y]=g}),P}function gt(T,M,P){var X=document.createElement("option");X.innerHTML=M,X.value=M,T.__preset_select.appendChild(X),P&&(T.__preset_select.selectedIndex=T.__preset_select.length-1)}function oi(T){for(var M=0;M<T.__preset_select.length;M++)T.__preset_select[M].value==T.preset&&(T.__preset_select.selectedIndex=M)}function Ce(T,M){var P=T.__preset_select[T.__preset_select.selectedIndex];M?P.innerHTML=P.value+"*":P.innerHTML=P.value}function Ut(T){T.length!=0&&a(function(){Ut(T)}),_.each(T,function(M){M.updateDisplay()})}return p}(B.utils.css,`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.
      
    </div>
    
  </div>

</div>`,`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`,B.controllers.factory=function(t,i,e,n,o,s,r){return function(l,c){var h=l[c];if(r.isArray(arguments[2])||r.isObject(arguments[2]))return new t(l,c,arguments[2]);if(r.isNumber(h))return r.isNumber(arguments[2])&&r.isNumber(arguments[3])?new e(l,c,arguments[2],arguments[3]):new i(l,c,{min:arguments[2],max:arguments[3]});if(r.isString(h))return new n(l,c);if(r.isFunction(h))return new o(l,c,"");if(r.isBoolean(h))return new s(l,c)}}(B.controllers.OptionController,B.controllers.NumberControllerBox,B.controllers.NumberControllerSlider,B.controllers.StringController=function(t,i,e){var n=function(o,s){n.superclass.call(this,o,s);var r=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),i.bind(this.__input,"keyup",l),i.bind(this.__input,"change",l),i.bind(this.__input,"blur",c),i.bind(this.__input,"keydown",function(h){h.keyCode===13&&this.blur()});function l(){r.setValue(r.__input.value)}function c(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}this.updateDisplay(),this.domElement.appendChild(this.__input)};return n.superclass=t,e.extend(n.prototype,t.prototype,{updateDisplay:function(){return i.isActive(this.__input)||(this.__input.value=this.getValue()),n.superclass.prototype.updateDisplay.call(this)}}),n}(B.controllers.Controller,B.dom.dom,B.utils.common),B.controllers.FunctionController,B.controllers.BooleanController,B.utils.common),B.controllers.Controller,B.controllers.BooleanController,B.controllers.FunctionController,B.controllers.NumberControllerBox,B.controllers.NumberControllerSlider,B.controllers.OptionController,B.controllers.ColorController=function(t,i,e,n,o){var s=function(h,d){s.superclass.call(this,h,d),this.__color=new e(this.getValue()),this.__temp=new e(0);var a=this;this.domElement=document.createElement("div"),i.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",i.bind(this.__input,"keydown",function(m){m.keyCode===13&&v.call(this)}),i.bind(this.__input,"blur",v),i.bind(this.__selector,"mousedown",function(m){i.addClass(this,"drag").bind(window,"mouseup",function(x){i.removeClass(a.__selector,"drag")})});var u=document.createElement("div");o.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),o.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),o.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),o.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),o.extend(u.style,{width:"100%",height:"100%",background:"none"}),l(u,"top","rgba(0,0,0,0)","#000"),o.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),c(this.__hue_field),o.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),i.bind(this.__saturation_field,"mousedown",f),i.bind(this.__field_knob,"mousedown",f),i.bind(this.__hue_field,"mousedown",function(m){E(m),i.bind(window,"mousemove",E),i.bind(window,"mouseup",w)});function f(m){b(m),i.bind(window,"mousemove",b),i.bind(window,"mouseup",_)}function _(){i.unbind(window,"mousemove",b),i.unbind(window,"mouseup",_)}function v(){var m=n(this.value);m!==!1?(a.__color.__state=m,a.setValue(a.__color.toOriginal())):this.value=a.__color.toString()}function w(){i.unbind(window,"mousemove",E),i.unbind(window,"mouseup",w)}this.__saturation_field.appendChild(u),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay();function b(m){m.preventDefault();var x=i.getWidth(a.__saturation_field),A=i.getOffset(a.__saturation_field),O=(m.clientX-A.left+document.body.scrollLeft)/x,C=1-(m.clientY-A.top+document.body.scrollTop)/x;return C>1?C=1:C<0&&(C=0),O>1?O=1:O<0&&(O=0),a.__color.v=C,a.__color.s=O,a.setValue(a.__color.toOriginal()),!1}function E(m){m.preventDefault();var x=i.getHeight(a.__hue_field),A=i.getOffset(a.__hue_field),O=1-(m.clientY-A.top+document.body.scrollTop)/x;return O>1?O=1:O<0&&(O=0),a.__color.h=O*360,a.setValue(a.__color.toOriginal()),!1}};s.superclass=t,o.extend(s.prototype,t.prototype,{updateDisplay:function(){var h=n(this.getValue());if(h!==!1){var d=!1;o.each(e.COMPONENTS,function(f){if(!o.isUndefined(h[f])&&!o.isUndefined(this.__color.__state[f])&&h[f]!==this.__color.__state[f])return d=!0,{}},this),d&&o.extend(this.__color.__state,h)}o.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var a=this.__color.v<.5||this.__color.s>.5?255:0,u=255-a;o.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+a+","+a+","+a+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,l(this.__saturation_field,"left","#fff",this.__temp.toString()),o.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+a+","+a+","+a+")",textShadow:this.__input_textShadow+"rgba("+u+","+u+","+u+",.7)"})}});var r=["-moz-","-o-","-webkit-","-ms-",""];function l(h,d,a,u){h.style.background="",o.each(r,function(f){h.style.cssText+="background: "+f+"linear-gradient("+d+", "+a+" 0%, "+u+" 100%); "})}function c(h){h.style.background="",h.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",h.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",h.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",h.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",h.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}return s}(B.controllers.Controller,B.dom.dom,B.color.Color=function(t,i,e,n){var o=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};o.COMPONENTS=["r","g","b","h","s","v","hex","a"],n.extend(o.prototype,{toString:function(){return e(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),s(o.prototype,"r",2),s(o.prototype,"g",1),s(o.prototype,"b",0),r(o.prototype,"h"),r(o.prototype,"s"),r(o.prototype,"v"),Object.defineProperty(o.prototype,"a",{get:function(){return this.__state.a},set:function(h){this.__state.a=h}}),Object.defineProperty(o.prototype,"hex",{get:function(){return!this.__state.space!=="HEX"&&(this.__state.hex=i.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(h){this.__state.space="HEX",this.__state.hex=h}});function s(h,d,a){Object.defineProperty(h,d,{get:function(){return this.__state.space==="RGB"?this.__state[d]:(l(this,d,a),this.__state[d])},set:function(u){this.__state.space!=="RGB"&&(l(this,d,a),this.__state.space="RGB"),this.__state[d]=u}})}function r(h,d){Object.defineProperty(h,d,{get:function(){return this.__state.space==="HSV"?this.__state[d]:(c(this),this.__state[d])},set:function(a){this.__state.space!=="HSV"&&(c(this),this.__state.space="HSV"),this.__state[d]=a}})}function l(h,d,a){if(h.__state.space==="HEX")h.__state[d]=i.component_from_hex(h.__state.hex,a);else if(h.__state.space==="HSV")n.extend(h.__state,i.hsv_to_rgb(h.__state.h,h.__state.s,h.__state.v));else throw"Corrupted color state"}function c(h){var d=i.rgb_to_hsv(h.r,h.g,h.b);n.extend(h.__state,{s:d.s,v:d.v}),n.isNaN(d.h)?n.isUndefined(h.__state.h)&&(h.__state.h=0):h.__state.h=d.h}return o}(B.color.interpret,B.color.math=function(){var t;return{hsv_to_rgb:function(i,e,n){var o=Math.floor(i/60)%6,s=i/60-Math.floor(i/60),r=n*(1-e),l=n*(1-s*e),c=n*(1-(1-s)*e),h=[[n,c,r],[l,n,r],[r,n,c],[r,l,n],[c,r,n],[n,r,l]][o];return{r:h[0]*255,g:h[1]*255,b:h[2]*255}},rgb_to_hsv:function(i,e,n){var o=Math.min(i,e,n),s=Math.max(i,e,n),r=s-o,l,c;if(s!=0)c=r/s;else return{h:NaN,s:0,v:0};return i==s?l=(e-n)/r:e==s?l=2+(n-i)/r:l=4+(i-e)/r,l/=6,l<0&&(l+=1),{h:l*360,s:c,v:s/255}},rgb_to_hex:function(i,e,n){var o=this.hex_with_component(0,2,i);return o=this.hex_with_component(o,1,e),o=this.hex_with_component(o,0,n),o},component_from_hex:function(i,e){return i>>e*8&255},hex_with_component:function(i,e,n){return n<<(t=e*8)|i&~(255<<t)}}}(),B.color.toString,B.utils.common),B.color.interpret,B.utils.common),B.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,i){window.setTimeout(t,1e3/60)}}(),B.dom.CenteredDiv=function(t,i){var e=function(){this.backgroundElement=document.createElement("div"),i.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),i.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;t.bind(this.backgroundElement,"click",function(){n.hide()})};return e.prototype.show=function(){var n=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),i.defer(function(){n.backgroundElement.style.opacity=1,n.domElement.style.opacity=1,n.domElement.style.webkitTransform="scale(1)"})},e.prototype.hide=function(){var n=this,o=function(){n.domElement.style.display="none",n.backgroundElement.style.display="none",t.unbind(n.domElement,"webkitTransitionEnd",o),t.unbind(n.domElement,"transitionend",o),t.unbind(n.domElement,"oTransitionEnd",o)};t.bind(this.domElement,"webkitTransitionEnd",o),t.bind(this.domElement,"transitionend",o),t.bind(this.domElement,"oTransitionEnd",o),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},e.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},e}(B.dom.dom,B.utils.common),B.dom.dom,B.utils.common);var Pp=Vl.exports,Gl={exports:{}},_e=Gl.exports=_e||{};_e.color=_e.color||{};_e.utils=_e.utils||{};_e.utils.common=function(){var t=Array.prototype.forEach,i=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(i.call(arguments,1),function(n){for(var o in n)this.isUndefined(n[o])||(e[o]=n[o])},this),e},defaults:function(e){return this.each(i.call(arguments,1),function(n){for(var o in n)this.isUndefined(e[o])&&(e[o]=n[o])},this),e},compose:function(){var e=i.call(arguments);return function(){for(var n=i.call(arguments),o=e.length-1;o>=0;o--)n=[e[o].apply(this,n)];return n[0]}},each:function(e,n,o){if(t&&e.forEach===t)e.forEach(n,o);else if(e.length===e.length+0){for(var s=0,r=e.length;s<r;s++)if(s in e&&n.call(o,e[s],s)===this.BREAK)return}else for(var s in e)if(n.call(o,e[s],s)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():i.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"}}}();_e.color.toString=function(t){return function(i){if(i.a==1||t.isUndefined(i.a)){for(var e=i.hex.toString(16);e.length<6;)e="0"+e;return"#"+e}else return"rgba("+Math.round(i.r)+","+Math.round(i.g)+","+Math.round(i.b)+","+i.a+")"}}(_e.utils.common);_e.Color=_e.color.Color=function(t,i,e,n){var o=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};o.COMPONENTS=["r","g","b","h","s","v","hex","a"],n.extend(o.prototype,{toString:function(){return e(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),s(o.prototype,"r",2),s(o.prototype,"g",1),s(o.prototype,"b",0),r(o.prototype,"h"),r(o.prototype,"s"),r(o.prototype,"v"),Object.defineProperty(o.prototype,"a",{get:function(){return this.__state.a},set:function(h){this.__state.a=h}}),Object.defineProperty(o.prototype,"hex",{get:function(){return!this.__state.space!=="HEX"&&(this.__state.hex=i.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(h){this.__state.space="HEX",this.__state.hex=h}});function s(h,d,a){Object.defineProperty(h,d,{get:function(){return this.__state.space==="RGB"?this.__state[d]:(l(this,d,a),this.__state[d])},set:function(u){this.__state.space!=="RGB"&&(l(this,d,a),this.__state.space="RGB"),this.__state[d]=u}})}function r(h,d){Object.defineProperty(h,d,{get:function(){return this.__state.space==="HSV"?this.__state[d]:(c(this),this.__state[d])},set:function(a){this.__state.space!=="HSV"&&(c(this),this.__state.space="HSV"),this.__state[d]=a}})}function l(h,d,a){if(h.__state.space==="HEX")h.__state[d]=i.component_from_hex(h.__state.hex,a);else if(h.__state.space==="HSV")n.extend(h.__state,i.hsv_to_rgb(h.__state.h,h.__state.s,h.__state.v));else throw"Corrupted color state"}function c(h){var d=i.rgb_to_hsv(h.r,h.g,h.b);n.extend(h.__state,{s:d.s,v:d.v}),n.isNaN(d.h)?n.isUndefined(h.__state.h)&&(h.__state.h=0):h.__state.h=d.h}return o}(_e.color.interpret=function(t,i){var e,n,o=function(){n=!1;var r=arguments.length>1?i.toArray(arguments):arguments[0];return i.each(s,function(l){if(l.litmus(r))return i.each(l.conversions,function(c,h){if(e=c.read(r),n===!1&&e!==!1)return n=e,e.conversionName=h,e.conversion=c,i.BREAK}),i.BREAK}),n},s=[{litmus:i.isString,conversions:{THREE_CHAR_HEX:{read:function(r){var l=r.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return l===null?!1:{space:"HEX",hex:parseInt("0x"+l[1].toString()+l[1].toString()+l[2].toString()+l[2].toString()+l[3].toString()+l[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(r){var l=r.match(/^#([A-F0-9]{6})$/i);return l===null?!1:{space:"HEX",hex:parseInt("0x"+l[1].toString())}},write:t},CSS_RGB:{read:function(r){var l=r.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return l===null?!1:{space:"RGB",r:parseFloat(l[1]),g:parseFloat(l[2]),b:parseFloat(l[3])}},write:t},CSS_RGBA:{read:function(r){var l=r.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return l===null?!1:{space:"RGB",r:parseFloat(l[1]),g:parseFloat(l[2]),b:parseFloat(l[3]),a:parseFloat(l[4])}},write:t}}},{litmus:i.isNumber,conversions:{HEX:{read:function(r){return{space:"HEX",hex:r,conversionName:"HEX"}},write:function(r){return r.hex}}}},{litmus:i.isArray,conversions:{RGB_ARRAY:{read:function(r){return r.length!=3?!1:{space:"RGB",r:r[0],g:r[1],b:r[2]}},write:function(r){return[r.r,r.g,r.b]}},RGBA_ARRAY:{read:function(r){return r.length!=4?!1:{space:"RGB",r:r[0],g:r[1],b:r[2],a:r[3]}},write:function(r){return[r.r,r.g,r.b,r.a]}}}},{litmus:i.isObject,conversions:{RGBA_OBJ:{read:function(r){return i.isNumber(r.r)&&i.isNumber(r.g)&&i.isNumber(r.b)&&i.isNumber(r.a)?{space:"RGB",r:r.r,g:r.g,b:r.b,a:r.a}:!1},write:function(r){return{r:r.r,g:r.g,b:r.b,a:r.a}}},RGB_OBJ:{read:function(r){return i.isNumber(r.r)&&i.isNumber(r.g)&&i.isNumber(r.b)?{space:"RGB",r:r.r,g:r.g,b:r.b}:!1},write:function(r){return{r:r.r,g:r.g,b:r.b}}},HSVA_OBJ:{read:function(r){return i.isNumber(r.h)&&i.isNumber(r.s)&&i.isNumber(r.v)&&i.isNumber(r.a)?{space:"HSV",h:r.h,s:r.s,v:r.v,a:r.a}:!1},write:function(r){return{h:r.h,s:r.s,v:r.v,a:r.a}}},HSV_OBJ:{read:function(r){return i.isNumber(r.h)&&i.isNumber(r.s)&&i.isNumber(r.v)?{space:"HSV",h:r.h,s:r.s,v:r.v}:!1},write:function(r){return{h:r.h,s:r.s,v:r.v}}}}}];return o}(_e.color.toString,_e.utils.common),_e.color.math=function(){var t;return{hsv_to_rgb:function(i,e,n){var o=Math.floor(i/60)%6,s=i/60-Math.floor(i/60),r=n*(1-e),l=n*(1-s*e),c=n*(1-(1-s)*e),h=[[n,c,r],[l,n,r],[r,n,c],[r,l,n],[c,r,n],[n,r,l]][o];return{r:h[0]*255,g:h[1]*255,b:h[2]*255}},rgb_to_hsv:function(i,e,n){var o=Math.min(i,e,n),s=Math.max(i,e,n),r=s-o,l,c;if(s!=0)c=r/s;else return{h:NaN,s:0,v:0};return i==s?l=(e-n)/r:e==s?l=2+(n-i)/r:l=4+(i-e)/r,l/=6,l<0&&(l+=1),{h:l*360,s:c,v:s/255}},rgb_to_hex:function(i,e,n){var o=this.hex_with_component(0,2,i);return o=this.hex_with_component(o,1,e),o=this.hex_with_component(o,0,n),o},component_from_hex:function(i,e){return i>>e*8&255},hex_with_component:function(i,e,n){return n<<(t=e*8)|i&~(255<<t)}}}(),_e.color.toString,_e.utils.common);var kp=Gl.exports;ms.exports=Pp;ms.exports.color=kp;var Fp=ms.exports;const Bp=`<?xml version="1.0" encoding="UTF-8"?>
<map version="1.10" tiledversion="1.11.0" orientation="orthogonal" renderorder="right-down" width="80" height="40" tilewidth="16" tileheight="16" infinite="0" nextlayerid="9" nextobjectid="114">
 <tileset firstgid="1" name="Tileset" tilewidth="16" tileheight="16" tilecount="256" columns="16">
  <image source="../images/tileset.png" width="256" height="256"/>
  <tile id="29" type="ladder"/>
  <tile id="34" type="noCollide"/>
  <tile id="35" type="noCollide"/>
  <tile id="36" type="noCollide"/>
  <tile id="37" type="noCollide"/>
  <tile id="151">
   <animation>
    <frame tileid="151" duration="100"/>
    <frame tileid="152" duration="100"/>
    <frame tileid="153" duration="100"/>
    <frame tileid="154" duration="100"/>
   </animation>
  </tile>
 </tileset>
 <tileset firstgid="257" name="coin" tilewidth="8" tileheight="8" tilecount="11" columns="11">
  <image source="../images/coin.png" width="88" height="8"/>
  <tile id="0">
   <animation>
    <frame tileid="0" duration="50"/>
    <frame tileid="1" duration="50"/>
    <frame tileid="2" duration="50"/>
    <frame tileid="3" duration="50"/>
    <frame tileid="4" duration="50"/>
    <frame tileid="5" duration="50"/>
    <frame tileid="6" duration="50"/>
    <frame tileid="7" duration="50"/>
    <frame tileid="8" duration="50"/>
    <frame tileid="9" duration="50"/>
   </animation>
  </tile>
 </tileset>
 <layer id="1" name="Background" width="80" height="40" opacity="255">
  <data encoding="base64" compression="zlib">
   eJzt2UEKwjAQBdC5jdl5BY/gETyCS3uDuHDfhfWsdmEgpEmYpGlnYn/hMWoLDp8vLWiIyChDAt9Xe0hnBWWuP8ab4WvfS8HOXKcNrh0zGfpZ9p4dN5+RcQ1HmGGY47PjLNfkUpOhoWV+j9kQmYOCfDTwc0v1zyam9O5a5H6/se65Kb23BmFu6F9ddqn779H7x7kH5Z5deu3fufDzrfTYP2524fvYM3JOeLxn0+zjXdNr/9bk3FKP/dsrG8fSsl/u3D/3r5VYv9y5Xvu3J0v5nqWm9N7SUr3iTun9NajpnZvSu7fQ4j6D/rXJ2dLx+gfQ0qWA9K4axf6PSJHeVaNbgbuCfQEAAAAAAAAA4Bi+wd020w==
  </data>
 </layer>
 <layer id="4" name="Shadows" width="80" height="40">
  <data encoding="base64" compression="zlib">
   eJztWgtuwyAM7SWaqMv977kgDcmybPAfuvZJaJkCtnnYxpA+HnviZ7UBClx3ezlaBt6Jv5mt1+Q95HK2FtfgmbJppjsDUn/qsNjK9cVrQfU77/a82/H3l5Ozgruu29ufs/2a9JHO+wTPjUOcB7CMSi69/Glt7fNv7VCMO5nnbhOWy/mqBVgf1q2Btn+EL3QZMJYhoE3YVyMwmjN+N+J6BGqcVRYlp3HI+Sv0v5FPW2sHSubFvLPWAtQ4iSwJx9iHqfiVILLO4WRJdFDriNcB+wsXS5IaBsuxrvku/ElqQMrnYY6HvGv3YIk9VP/oOhvrGOUYyg48785PdS0GeRnlwRHP1NpK8iKMK00cSGo+yf8R0MavtYbS2gH1jPppZGZgRf7zyM86b3Lr1XXNzpSzvbzqniHKjqj6b6az13+RsWgBVxNirLgvonRKauZKWPMIdaZv8N4VwnurXTgageOPq/er8k1kHsgE51dUvU/lG1xD9fcR+0wUhxExwaG6DqDqd+0YLSpyd1Vc7rIPaTE7q2j2X48/vBN/GbWYt+aSzIXLO5Y8RumUnnszz3nRcrg5UWMlPEp0VmKn/Jf9/aEC0jtkb0xw94cW7FRTRty5YmTPbyc/lOQgi59YOMQ+ygHyp/0NgXXvktjiAXd+kYDjmtuLDqOeBu98Mf87nO0r49Gryzs+Irfhu/jKNVzN34q6JRrYBzQ+EWl7xj5bUZtgDlZ9E8rwI+p7ZnSL/o2SFdn8/Xd8+fPhk+aagS9/PnwSf7/hHjMz
  </data>
 </layer>
 <layer id="2" name="Main" width="80" height="40" opacity="255">
  <data encoding="base64" compression="zlib">
   eJztWstuVDEMNQyUASra7mFo18AOIWCPxKtLqsI3wFfwB5Uov4uji1XXdRI78X20HUtHqjoZxzmJ40dmHwAeduIAcScQ+wE2TWX/A+iXVdC6aR0RNnmE7Peu4SDIVpq/V1eUntZ5vXOvnONr82/5a5M1DOf5Uaee28pflFj4e4w4QtzvwE5m3mj+Ng5dESL5e414UxjXGq+kn6yYLv7ZPbjKtfzeE8jv0ea/jty+WYXrKOmx+m+0n+fOUe18lfYx7cNGjJH7pvlS4ualwFrRzeVE2HPd+MuNIf407khq3HhkCfxtxP9L67Hwt67oiJScPfIetPKX/OOuAU8RzxC7MKyZ/Kp3H+eOH55xL2C4K1512kBrzvku35Pnih2aLq98QXxFHMPV2FHCXsUekjHzxBp/Hjsizh/PrSw9AktNueUvPye3+0NFZy9/Jd9IvnAIg5/uNtih6d6pfF7ySSt/lnhFdudyV+990dqbKvFHeQnvjR3C5ZjV06uKyHPGRq02s/hBa204pszJX4q/lOdI/r4p43l+PFUeqMlbxDvEe7jsd1G9aq0HHXH+liIfEZ8Qn8F3R1lFO9NT8lfrVXD5hThDnCN+Gr9ziviO+AHj8Cfr0IRUk+TibzR/nl7ib7hY/x8YeEw4gwtez8XfHH8hnj+v5PjT7kCLlPiTeSRf/1h3fK3mzeV0VrGcP6opJbTcb6+gh2pysr10b1vjwVxvdSQ9/uutKUp1jNRltWWM2Oep1T31uhTe77bkxCX+WvuHGn+99WZrXumtg0q+qskYfTBZw2nvDdH1nBWWO8h6Tmg9rW8nSWQ8OFLWmvaT98s9eXNrDp773UfknUL+Sf3dSJ3ae423X97zhpt7P5qzTkviycW5tNwTEfwtrX5rfXO5LvxZ33Ot3++9H0ms/PH5eSz08h+V/0XkjxE+YF2/nD/FcBm/LfsZxR/Pfyw9ai1PKOVQci3Wd8nSe2Up/lh/1xddf0hdUX3Oqe5n/nZkyYnpHLTkzzedvwi7e9e65W8Z/NX8IyJ2J7mp/E11PpfA3xzofQfu6SP8A44FMLM=
  </data>
 </layer>
 <objectgroup id="5" name="Objects">
  <object id="63" name="Player" type="player" x="144" y="80" width="14" height="26"/>
  <object id="3" name="Spikes" type="spikes" x="336" y="616" width="32" height="8"/>
  <object id="4" name="Slime" type="slime" x="224" y="224" width="160" height="16">
   <properties>
    <property name="direction" value="right"/>
    <property name="range" type="int" value="222"/>
   </properties>
  </object>
  <object id="11" name="Spikes" type="spikes" x="192" y="248" width="32" height="8"/>
  <object id="12" name="Slime" type="slime" x="368" y="512" width="96" height="16">
   <properties>
    <property name="direction" value="right"/>
    <property name="range" type="int" value="222"/>
   </properties>
  </object>
  <object id="13" name="Coin" type="coin" gid="257" x="196" y="204" width="8" height="8"/>
  <object id="15" name="Coin" type="coin" gid="257" x="220" y="176" width="8" height="8"/>
  <object id="16" name="Coin" type="coin" gid="257" x="244" y="204" width="8" height="8"/>
  <object id="17" name="Coin" type="coin" gid="257" x="156" y="212" width="8" height="8"/>
  <object id="18" name="Coin" type="coin" gid="257" x="224" y="480" width="8" height="8"/>
  <object id="20" name="Coin" type="coin" gid="257" x="256" y="480" width="8" height="8"/>
  <object id="21" name="Slime" type="slime" x="112" y="352" width="176" height="16">
   <properties>
    <property name="direction" value="right"/>
    <property name="range" type="int" value="222"/>
   </properties>
  </object>
  <object id="22" name="Coin" type="coin" gid="257" x="320" y="480" width="8" height="8"/>
  <object id="23" name="Coin" type="coin" gid="257" x="336" y="464" width="8" height="8"/>
  <object id="24" name="Coin" type="coin" gid="257" x="352" y="448" width="8" height="8"/>
  <object id="25" name="Coin" type="coin" gid="257" x="368" y="464" width="8" height="8"/>
  <object id="26" name="Coin" type="coin" gid="257" x="64" y="80" width="8" height="8"/>
  <object id="27" name="Coin" type="coin" gid="257" x="96" y="80" width="8" height="8"/>
  <object id="28" name="Coin" type="coin" gid="257" x="128" y="80" width="8" height="8"/>
  <object id="29" name="Coin" type="coin" gid="257" x="160" y="80" width="8" height="8"/>
  <object id="31" name="Coin" type="coin" gid="257" x="96" y="320" width="8" height="8"/>
  <object id="32" name="Coin" type="coin" gid="257" x="68" y="220" width="8" height="8"/>
  <object id="33" name="Coin" type="coin" gid="257" x="272" y="112" width="8" height="8"/>
  <object id="34" name="Coin" type="coin" gid="257" x="304" y="112" width="8" height="8"/>
  <object id="39" name="Coin" type="coin" gid="257" x="368" y="176" width="8" height="8"/>
  <object id="40" name="Coin" type="coin" gid="257" x="532" y="96" width="8" height="8"/>
  <object id="41" name="Coin" type="coin" gid="257" x="416" y="176" width="8" height="8"/>
  <object id="42" name="Coin" type="coin" gid="257" x="528" y="256" width="8" height="8"/>
  <object id="43" name="Coin" type="coin" gid="257" x="564" y="300" width="8" height="8"/>
  <object id="44" name="Coin" type="coin" gid="257" x="596" y="300" width="8" height="8"/>
  <object id="45" name="Coin" type="coin" gid="257" x="628" y="300" width="8" height="8"/>
  <object id="46" name="Coin" type="coin" gid="257" x="224" y="304" width="8" height="8"/>
  <object id="47" name="Coin" type="coin" gid="257" x="256" y="304" width="8" height="8"/>
  <object id="48" name="Coin" type="coin" gid="257" x="288" y="304" width="8" height="8"/>
  <object id="49" name="Coin" type="coin" gid="257" x="320" y="304" width="8" height="8"/>
  <object id="64" name="Slime" type="slime" x="240" y="112" width="160" height="16">
   <properties>
    <property name="direction" value="right"/>
    <property name="range" type="int" value="222"/>
   </properties>
  </object>
  <object id="81" type="box" gid="61" x="432" y="95" width="16" height="16"/>
  <object id="84" type="box" gid="61" x="416" y="95" width="16" height="16"/>
  <object id="85" type="box" gid="61" x="432" y="112" width="16" height="16"/>
  <object id="86" type="box" gid="61" x="416" y="112" width="16" height="16"/>
  <object id="87" type="box" gid="61" x="448" y="112" width="16" height="16"/>
  <object id="89" type="box" gid="61" x="432" y="78" width="16" height="16"/>
  <object id="91" type="box" gid="61" x="96" y="544" width="15" height="15"/>
  <object id="92" type="box" gid="61" x="80" y="544" width="15" height="15"/>
  <object id="93" type="box" gid="61" x="96" y="560" width="15" height="15"/>
  <object id="94" type="box" gid="61" x="80" y="560" width="15" height="15"/>
  <object id="95" type="box" gid="61" x="112" y="560" width="15" height="15"/>
  <object id="96" type="box" gid="61" x="112" y="544" width="15" height="15"/>
  <object id="97" type="box" gid="61" x="96" y="528" width="15" height="15"/>
  <object id="98" type="box" gid="61" x="128" y="560" width="15" height="15"/>
  <object id="99" type="box" gid="61" x="112" y="528" width="15" height="15"/>
  <object id="100" type="box" gid="61" x="112" y="512" width="15" height="15"/>
  <object id="101" type="box" x="64" y="80" width="32" height="32"/>
  <object id="106" gid="61" x="173.564" y="108.416" width="16" height="16" rotation="21.8418"/>
  <object id="111" gid="152" x="448" y="192" width="16" height="16" rotation="345.224"/>
 </objectgroup>
 <layer id="8" name="Foreground" width="80" height="40">
  <data encoding="base64" compression="zlib">
   eJzt0zENADAMA8HgyVj+4LoUQy0ld9LvXlwFAAAAwFQnPSCgX5Cw8XMAAAAAAADAHxc4ygC5
  </data>
 </layer>
</map>
`;class Up extends Gt{id=Hl.DARKNESS;name="Darkness";backgroundColor=new Y("#140C1C").setAlpha(.8).toString();g_shadows={};drawRect(i,e){const{ctx:n}=this.scene.game;n.fillStyle=this.backgroundColor,n.fillRect(i.x,i.y,e.x,e.y)}draw(){const i=this.scene,e=i.getObjectByType(we.PLAYER),{camera:n,tileSize:o}=i,{scale:s}=n,r=k(0),l=o.scale(s),c=e.getTranslatedBoundingRect().pos;for(let h=0;h<i.size.x;h++){for(let d=0;d<i.size.y;d++){const a=k(h,d),u=c.clampLength(Math.min(.5,c.length())).add(a);r.x=u.x,r.y=u.y;const f=i.raycastTileCollision(e.pos,r,e);f&&!(f.x===a.x&&f.y===a.y)&&(this.g_shadows[h+"_"+d]=this.g_shadows[h+"_"+d]||{x:a.x,y:a.y,alpha:r.distance(e.pos)})}for(const d in this.g_shadows){const a=this.g_shadows[d];a.alpha<=0?delete this.g_shadows[d]:(r.x=a.x*o.y*s,r.y=a.y*o.y*s,this.drawRect(r.add(n.pos).subtract(k(n.scale)),l))}this.g_shadows={}}}}class zp extends jl{gui;debug=!1;gravity=.05;tmxMap=Bp;init(){const{game:i}=this;this.setScale(6),this.addLayer(Up,1),this.setTileCollisionLayer(2),console.log("Main Scene initialized",this),this.gui=new Fp.GUI;const e=this.getObjectByType("player"),n=this.gui.addFolder("Scene"),o=n.addFolder("Layers"),s=n.addFolder("Player");this.gui.add(i,"debug").listen(),n.add(this,"gravity").step(.01).min(.01).max(1),n.add(this.camera,"scale").step(.1).min(1).max(10).listen(),n.add(this.camera,"scrolling").name("camera scroll").listen(),this.layers.sort((r,l)=>r.renderOrder-l.renderOrder).map(r=>o.add(r,"visible").name(r.name||`Layer#${r.id}`)),s.add(e.pos,"x").listen(),s.add(e.pos,"y").listen(),s.add(e,"gravityScale").listen(),s.add(e,"image",{"Owlet monster":"monster1.png","Pink monster":"monster2.png","Dude monster":"monster3.png"}).name("Sprite").onChange(r=>e?.setImage(r)),s.add(e,"invincible").name("God mode").listen()}}const la=new hp({pixelPerfect:!0,backgroundColor:"#140C1C",postProcessShader:dp,entities:{[we.BOX]:pp,[we.COIN]:_p,[we.PLAYER]:yp,[we.SLIME]:vp,[we.SPIKES]:wp},scenes:{MainScene:zp},debug:!0,global:!0},Mp);async function Xp(){await la.start("MainScene"),la.setAudioVolume(.1)}Xp();
//# sourceMappingURL=index-0lWqPJdQ.js.map
